!function r(c,a,s){function l(e,t){if(!a[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[e]={exports:{}};c[e][0].call(i.exports,function(t){return l(c[e][1][t]||t)},i,i.exports,r,c,a,s)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,o){"use strict";var u=t("./helpers/url").getQuery,i=t("./helpers/numbers").safeParseInt,n=t("./helpers/tracking"),c=n.trackStructured,f=n.trackSelfDescribing,r=n.trackPageView,a=n.enableFormTracking,s=t("./helpers/events"),h=s.trackId,l=s.on,p=s.onUrlContains,d=s.onUrlDoesNotContain,m=s.onEvent,g=s.onPresent,v=s.onBounce,k=s.after,y={captcha:t("./trackers/captcha.js"),flight:t("./trackers/flight.js"),hotel:t("./trackers/hotel.js"),index:t("./trackers/index.js"),map:t("./trackers/map.js"),notifications:t("./trackers/notifications.js"),privacy:t("./trackers/privacy.js"),reactivation:t("./trackers/reactivation.js"),weather_widget:t("./trackers/weather_widget.js")};function w(r){l('[data-track-id="maps_'.concat(r,'"]'),"click",function(t,e,n){var o=n.querySelector("a"),i=o?o.href:"";c("maps","dropdown",r,i)})}function b(t){l('[data-track-id="nav_'.concat(t,'"]'),"click",{once:!0},function(){c("navbar","click",t)})}Object.keys(y).forEach(function(e){var n=y[e];Object.keys(n).forEach(function(t){o["".concat(e,"_").concat(t)]=n[t]})}),o.trackUninstall=function(){p("https://info.ecosia.org/uninstall",function(t){var e=u(t.url);f({schema:"iglu:org.ecosia/uninstall_event/jsonschema/1-0-0",data:{plt_name:e.addon,plt_v:e.addonversion}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-0",data:t.ecfg}].filter(function(t){return null!==t.data}))})},o.trackInstall=function(){p("https://info.ecosia.org/firstrun","firstrun=true",function(t){var e=u(t.url);f({schema:"iglu:org.ecosia/install_event/jsonschema/1-0-0",data:{plt_name:e.addon,plt_v:e.addonversion}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-0",data:t.ecfg}].filter(function(t){return null!==t.data}))})},o.trackLoginForm=function(){p("dashboard.ecosia.org/login/",function(){a({forms:{blacklist:[]},fields:{blacklist:["password"]}})})},o.trackUninstallandSettingForms=function(){p(".ecosia.org/uninstall",".ecosia.org/settings",function(){a({forms:{blacklist:["search-form"]},fields:{blacklist:["uninstall_email","q"]}})})},o.trackBlog=function(){p("blog.ecosia.org",function(t){window.snowplow_ecosia("enableActivityTracking",5,10),r([{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-1",data:t.ecfg}].filter(function(t){return null!==t.data}))})},o.trackPageLoad=function(){d(".ecosia.org/search",".ecosia.org/images",".ecosia.org/news",".ecosia.org/videos","blog.ecosia.org",function(t){r([{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-1",data:t.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-0",data:{ab_tests:t.abTest}}].filter(function(t){return null!==t.data}))})},o.trackNewTab=function(){g(h("new-tab-present"),function(){c("new_tab","display")}),l(h("new-tab-bookmark-banner-learn"),"click",function(){c("new_tab","click","bookmark_banner","learn")}),l(h("new-tab-bookmark-banner-close"),"click",function(){c("new_tab","click","bookmark_banner","dismiss")}),l(h("new-tab-search-bar-magnifier"),"click",function(){c("new_tab","click","search_bar","magnifier")}),m("new-tab-search-bar-enter",function(){c("new_tab","enter","search_bar")}),l(h("new-tab-top-sites-delete"),"click",function(){c("new_tab","click","top_sites","delete")})},o.trackSearch=function(){p(".ecosia.org/search",".ecosia.org/images",".ecosia.org/news",".ecosia.org/videos",".ecosia.org/maps",function(t){var e=u(t.url),n=document.querySelectorAll(h("entity")),o=document.querySelectorAll(h("hotel-popup")),i=document.querySelectorAll(h("flight-widget")),r=document.querySelectorAll(h("maps_map_snippet")),c=document.querySelectorAll(h("green-domain")),a=document.querySelectorAll(h("coal-domain")),s=document.querySelectorAll(h("entity_map")),l=document.querySelectorAll(h("entity_climate"));f({schema:"iglu:org.ecosia/search_event/jsonschema/1-0-8",data:{query:e.q,ads_shown:t.advertShown,comp_shown:t.computationShown,page_num:parseInt(e.p,10),plt_name:e.addon,plt_v:e.addonversion,search_type:t.urlPath,entity_shown:0<n.length,hotel_shown:0<o.length,flights_shown:0<i.length,map_snippet_shown:0<r.length,green_domains_shown:0<c.length,coal_domains_shown:0<a.length,entity_map_shown:0<s.length,entity_climate_shown:0<l.length}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-1",data:t.ecfg},{schema:"iglu:org.ecosia/ad_context/jsonschema/2-0-1",data:t.ads},{schema:"iglu:org.ecosia/slottings_context/jsonschema/1-0-0",data:{slottings:t.slottings}},{schema:"iglu:org.ecosia/knowledge_context/jsonschema/1-0-0",data:t.entities},{schema:"iglu:org.ecosia/weather_context/jsonschema/1-0-0",data:t.weatherLocation}].filter(function(t){return null!==t.data}))})},o.trackAdClick=function(){l(".js-sidebar-ad, .js-ad","click",function(t,e,n){f({schema:"iglu:org.ecosia/advert_click_event/jsonschema/1-0-0",data:{title:n.dataset.title,domain:n.dataset.displayUrl,position:n.dataset.position,rank:i(n.dataset.adRank)}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-0",data:t.ecfg}].filter(function(t){return null!==t.data}))})},o.trackAdblockUnlockImpression=function(){m("search_adblocknotice_impression",function(){c("ad_blocking","impression","whitelist_modal")})},o.trackChromeMigrationModal=function(){m("search_migrationnotice_impression",function(t){var e=u(t.url);c("migration","impression",e.addonversion)})},o.trackCtaClick=function(){l(".js-install-button","click",function(){d(".ecosia.org/privacy",function(){c("install_cta","click","install","info")}),p(".ecosia.org/privacy",function(){c("install_cta","click","install","privacy_page")})}),l(".install-funnel-box-button","click",function(){c("install_cta","click","install","index")}),l(".js-activate-install-box","click",function(){c("install_cta","click","install","serp")})},o.trackMobileText=function(){m("infopages_mobile_submission",function(t,e){e.success?c("mobile_landing","submit","success"):c("mobile_landing","submit","failure")})},o.trackWidgetFeedback=function(){m("widget_feedback_submission",function(t,e){f({schema:"iglu:org.ecosia/widget_feedback_event/jsonschema/1-0-0",data:{widget_type:e.widget_type,answer:e.answer,query:e.query,market:e.market}})})},o.trackAddOnInstall=function(){m("addon_install",function(t,e){p(".ecosia.org",function(){f({schema:"iglu:org.ecosia/install_event/jsonschema/1-0-0",data:{plt_name:e.addon,plt_v:e.version}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-0",data:t.ecfg}].filter(function(t){return null!==t.data}))})})},o.trackEntityMapCouldBeSerpClicks=function(){p(".ecosia.org/search",function(t){0===document.querySelectorAll('[data-track-id="entity_map"]').length&&t.entities&&l(".js-result","click",function(){c("serp","result_click","entity_map_searches")})})},o.trackEntityMapSerpClicks=function(){p(".ecosia.org/search",function(){g('[data-track-id="entity_map"]',function(){l(".js-result","click",function(){c("serp","result_click","entity_map")})})})},o.trackMapLinkClick=function(){w("bing"),w("treeday"),w("google")},o.trackNavBarLinkClick=function(){b("videos"),b("images"),b("news"),b("maps"),b("more"),b("filters"),b("settings")},o.trackMenuLinks=function(){l(h("menu"),"click",function(t,e,n){var o,i=t.url,r=t.urlPath;if("/"===r)o="index";else if("/search"===r)o="serp";else{if(-1===i.indexOf("https://info.ecosia.org/"))return;o="info"}c("menu_link","click",n.href,o)})},o.trackFooterLinks=function(){p("info.ecosia.org/","info.dev.ecosia.org",function(){l(h("footer"),"click",function(t,e,n){c("footer_link","click",n.href,"info")})})},o.trackGreenDomains=function(){l(h("green-domain"),"click",function(t,e,n){var o=n.href||"";c("green-domain","click",o)})},o.trackCoalDomains=function(){l(h("coal-domain"),"click",function(t,e,n){var o=n.href||"";c("coal-domain","click",o)})},o.trackProductAds=function(){g(h("pa-merchant-badge"),function(t){c("productads","merchantbadge",u(t.url).q,t.ecfg.market)})},o.trackEntity=function(){g(h("entity"),function(t,e){var n=e.dataset.name||"undefined",o=e.dataset.typeHints||"undefined";c("entity",n,o,u(t.url).q)})},o.trackClimateAction=function(){l(h("entity_climate"),"click",function(t,e,n){var o=n.href||"";c("entity_climate","click",o)})},o.trackClimateLearn=function(){l(h("entity_climate_learn"),"click",function(t,e,n){var o=n.href||"";c("entity_climate_learn","click",o)})},o.trackSearchNoBounce=function(){p(".ecosia.org/search",function(){k(2e3,function(){c("serp","no_bounce","2sec_search")})})},o.trackClickBounce=function(){p(".ecosia.org/search",function(){l(".js-result","click",function(){v(2e3,function(){c("serp","bounce","2sec_COR")})}),l(".js-sidebar-ad, .js-ad","click",function(){v(2e3,function(){c("serp","bounce","2sec_ads")})}),l(h("entity"),"click",function(){v(2e3,function(){c("serp","bounce","2sec_entity")})}),l(h("maps_map_snippet"),"click",function(){v(2e3,function(){c("serp","bounce","2sec_map_snippet")})}),l(h("maps_directions_snippet"),"click",function(){v(2e3,function(){c("serp","bounce","2sec_map_snippet")})}),l(".bpk-button","click",function(){v(2e3,function(){c("serp","bounce","2sec_flight")})}),l(h("hotel-popup-link"),"click",function(){v(2e3,function(){c("serp","bounce","2sec_hotel")})}),l('[class="card-mobile"]',"click",function(){v(2e3,function(){c("serp","bounce","2sec_snippet")})})})},o.trackWidgetSearchNoBounce=function(){p(".ecosia.org/search",function(){g(h("hotel_shown"),function(){k(4e3,function(){c("serp","no_bounce","4sec_hotel")})}),g(h("flights_shown"),function(){k(4e3,function(){c("serp","no_bounce","4sec_flight")})}),g(h("map_snippet_shown"),function(){k(4e3,function(){c("serp","no_bounce","4sec_map_snippet")})}),g('[class="widget-container"]',function(){k(4e3,function(){c("serp","no_bounce","4sec_conversion")})}),g('[class="card-mobile"]',function(){k(4e3,function(){c("serp","no_bounce","4sec_snippet")})})})}},{"./helpers/events":9,"./helpers/numbers":11,"./helpers/tracking":14,"./helpers/url":15,"./trackers/captcha.js":25,"./trackers/flight.js":26,"./trackers/hotel.js":27,"./trackers/index.js":28,"./trackers/map.js":29,"./trackers/notifications.js":30,"./trackers/privacy.js":31,"./trackers/reactivation.js":32,"./trackers/weather_widget.js":33}],2:[function(t,e,n){e.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_development",collectorUrl:"org-ecosia.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],3:[function(t,e,n){e.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_eco",collectorUrl:"sp.ecosia.org",cookieName:"ecosia_sp2"}},{}],4:[function(t,e,n){e.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_staging",collectorUrl:"org-ecosia.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],5:[function(t,e,n){e.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_testing",collectorUrl:"org-ecosia.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],6:[function(t,e,n){"use strict";function o(t){return Array.prototype.map.call(document.querySelectorAll(t)||[],function(t){return t.dataset.displayUrl})}n.adsContext=function(){var e={sidebar:o(".js-sidebar-ad"),mainline:o('.js-ad[data-position="mainline"]'),bottom:o('.js-ad[data-position="bottom"]')};return Object.keys(e).some(function(t){return e[t].length})?e:null}},{}],7:[function(t,e,n){"use strict";function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(){if(document.currentScript)return document.currentScript.src;var t=document.querySelectorAll('script[src*="'.concat("ecosia.org",'"]')),e=i(Array.prototype.filter.call(t||[],function(t){return-1!==t.src.indexOf("analytics.js")}),1)[0];return e?e.src:""}var c=t("querystring");n.getSelf=r;function a(t){var e=t.match(/\?(.+)$/);return e&&e.length?o({},c.parse(e[1])):{}}n.getQueryParameters=a;n.getBuildEnv=function(){return a(r()).buildEnvironment||"production"}},{querystring:22}],8:[function(t,e,n){"use strict";function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=t("js-cookie"),l=t("./numbers").safeParseInt,i=/_abtest$/,r=/:cid=.*?$/,c=/cid=.*?:/;function a(){var i={};return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(":").forEach(function(t){var e=s(t.split("="),2),n=e[0],o=e[1];n&&(i[n]=o)}),i}function u(t){return t?t.replace(c,"").replace(r,""):t}function f(c){var a={};return[["language","l",!1],["devicetype","dt",!1],["trees","t",!0],["market","mc",!1],["autosuggest","as",!0],["custom","cs",!0],["lasttree","lt",!0],["firstsearch","fs",!0],["firstrun","fr",!0],["addon","a",!0],["typetag","tt",!1],["personal","ps",!0],["adult","f",!1],["notification","nf",!0],["newtab","nt",!0],["country","c",!1]].forEach(function(t){var e=s(t,3),n=e[0],o=e[1],i=e[2],r=c[o];r=void 0===r?null:r,i&&(r=l(r)),a[n]=r}),a}e.exports={cookieContext:function(){var t=o.get("ECFG"),e=o.get("__tt");if(!t&&!e)return null;var n=f(a(t));return n.typetag=e||n.typetag,n.lasttree=0===n.lasttree?null:n.lasttree,n.ecfgcookie=u(t),n},mapCookie:f,abCookies:function(){var e=o.get();return e?Object.keys(e).filter(function(t){return i.test(t)}).map(function(t){return{name:t.replace(i,""),value:e[t]}}):[]},parseCookie:a,cleanCookieString:u}},{"./numbers":11,"js-cookie":18}],9:[function(t,e,n){"use strict";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var o=t("./cookies"),i=o.cookieContext,r=o.abCookies,c=t("./ads").adsContext,a=t("./message-bus"),l=t("./searchstate"),u=l.advertLookup,f=l.computationLookup,h=t("url");function p(){return window.ecosia&&window.ecosia.entities?s({},window.ecosia.entities.slice(0,5).map(function(t){return{name:t.name,typehint:t.entityPresentationInfo&&t.entityPresentationInfo.entityTypeHints?t.entityPresentationInfo.entityTypeHints:[],entity_population:Object.keys(t)}})):null}var d={contains:"*=",endsWith:"$=",equals:"=",startsWith:"^="};function m(){return{ads:c(),abTest:r(),ecfg:i(),entities:p(),url:window.location.href,urlPath:window.location.pathname.replace(/^\//,""),advertShown:u(),computationShown:f(),slottings:window.ecosia&&window.ecosia.slottings?window.ecosia.slottings:null,weatherLocation:window.ecosia&&window.ecosia.weatherLocation?window.ecosia.weatherLocation:null}}function g(t,e){for(var n=e;!n.matches(t)&&!n.matches("body");)n=n.parentElement;return n.matches(t)?n:null}function v(t,e){document.arrive(t,{existing:!0,onceOnly:!0},function(){e(m(),this)})}function k(t){var e=h.parse(t),n=e.hostname,o=e.pathname;return null!==n&&null!==o&&(-1===n.indexOf("info")&&-1!==n.indexOf("ecosia")&&(""===o||"/"===o))}function y(e,t){for(var n=arguments.length,o=new Array(2<n?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var r,c,a=t;this.pause=function(){window.clearTimeout(r),a-=Date.now()-c},this.resume=function(){var t;c=Date.now(),window.clearTimeout(r),r=(t=window).setTimeout.apply(t,[e,a].concat(o))},this.resume()}e.exports={after:function(t,e){var n=new y(e,t,m());document.addEventListener("visibilitychange",function(){document.hidden?n.pause():n.resume()},!1)},assembleEntities:p,trackId:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"equals",n=Object.keys(d);return n.includes("condition")?new Error("onTrackId condition ".concat(e," is not one of: "),n.join()):"[data-track-id".concat(d[e],'"').concat(t,'"]')},findClosest:g,isSearchIndex:k,on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.pop(),i=e[0],r=e[1],c=e[2],a=void 0===c?{}:c;document.addEventListener(r,function(t){var e=i.split(",").map(function(t){return"".concat(t," *")}).join(",");t.target.matches("".concat(i,", ").concat(e))&&o(m(),t,g(i,t.target))},s({once:!1},a))},onBounce:function(t,e){var n;document.addEventListener("visibilitychange",function(){document.hidden?n=Date.now():n&&Date.now()-n<=t&&e(m())},!1)},onEvent:function(t,e){a.register(t,function(t){e(m(),t)})},onIndexPage:function(t){k(window.location.href)&&t(m())},onLoad:function(t){t(m())},onScrolled:function(t,e){var n=!1;window.addEventListener(t,function(t){n||(n=!0,e(t))})},onPresent:v,onPresentAndVisible:function(t,r){v(t,function(t,e){var n=window.getComputedStyle(e,null),o=n.visibility,i=n.opacity;e.offsetWidth&&parseInt(i,10)&&"hidden"!==o&&r(t,e)})},onUrlContains:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.pop();e.some(function(t){return-1!==window.location.href.indexOf(t)})&&o(m())},onUrlDoesNotContain:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.pop();e.every(function(t){return-1===window.location.href.indexOf(t)})&&o(m())}}},{"./ads":6,"./cookies":8,"./message-bus":10,"./searchstate":13,url:23}],10:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"push",value:function(t){var e=t.name,n=t.payload,o=void 0===n?{}:n;(this.listeners[e]||[]).forEach(function(t){t(o)})}},{key:"register",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}}]),t}();e.exports=new i,e.exports.MessageBus=i},{}],11:[function(t,e,n){"use strict";e.exports.safeParseInt=function(t){return function(t){return t!=t?null:t}(parseInt(t,10))}},{}],12:[function(t,e,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector)},{}],13:[function(t,e,n){"use strict";e.exports={advertLookup:function(){return document.querySelector("div.js-ad")?document.querySelector("div.js-ad").offsetWidth?"ad_displayed":"ad_blocked":"no_adverts"},computationLookup:function(){return document.querySelector(".widget-static")?"static":document.querySelector(".widget-timezone")?"timezone":"no_widget"}}},{}],14:[function(t,e,n){"use strict";t("arrive");var s={development:t("../config/development.json"),production:t("../config/production.json"),staging:t("../config/staging.json"),testing:t("../config/testing.json")};e.exports={loadSnowplow:function(t){if("test"!==t&&"ci"!==t){var e,n,o,i,r,c,a=s[t];e=window,n=document,o=a.snowplowUrl,e[i="snowplow_ecosia"]||(e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(i),e[i]=function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].q=e[i].q||[],r=n.createElement("script"),c=n.getElementsByTagName("script")[0],r.async=1,r.src=o,c.parentNode.insertBefore(r,c)),window.snowplow_ecosia("newTracker",a.trackerName,a.collectorUrl,{platform:"web",post:!0,cookieDomain:".ecosia.org",cookieName:a.cookieName,userFingerprint:!1,respectDoNotTrack:!0,contexts:{webPage:!0}})}else window.snowplow_ecosia=Function.prototype},trackStructured:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=window).snowplow_ecosia.apply(t,["trackStructEvent"].concat(n))},trackSelfDescribing:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=window).snowplow_ecosia.apply(t,["trackSelfDescribingEvent"].concat(n))},trackPageView:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=window).snowplow_ecosia.apply(t,["trackPageView",null].concat(n))},enableFormTracking:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=window).snowplow_ecosia.apply(t,["enableFormTracking"].concat(n))},enablePagePings:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=window).snowplow_ecosia.apply(t,["enableActivityTracking"].concat(n))}}},{"../config/development.json":2,"../config/production.json":3,"../config/staging.json":4,"../config/testing.json":5,arrive:17}],15:[function(t,e,n){"use strict";var o=t("url");n.getQuery=function(t){return o.parse(t,!0).query}},{url:23}],16:[function(t,e,n){"use strict";var o=t("./helpers/tracking").loadSnowplow,i=t("./helpers/build-env").getBuildEnv,r=t("./helpers/message-bus"),c=t("./analytics");t("./helpers/polyfill-matches"),o(i()),Object.keys(c).forEach(function(t){var e=c[t];"function"==typeof e&&e()});var a=window.messageBus||[];window.messageBus=r,a.forEach(function(t){r.push(t)})},{"./analytics":1,"./helpers/build-env":7,"./helpers/message-bus":10,"./helpers/polyfill-matches":12,"./helpers/tracking":14}],17:[function(t,e,n){!function(l,t,u){"use strict";if(l.MutationObserver&&"undefined"!=typeof HTMLElement){var n,o=0,f=(n=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(t,e){return t instanceof HTMLElement&&n.call(t,e)},addMethod:function(t,e,n){var o=t[e];t[e]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof o?o.apply(this,arguments):void 0}},callCallbacks:function(t,e){e&&e.options.onceOnly&&1==e.firedElems.length&&(t=[t[0]]);for(var n,o=0;n=t[o];o++)n&&n.callback&&n.callback.call(n.elem,n.elem);e&&e.options.onceOnly&&1==e.firedElems.length&&e.me.unbindEventWithSelectorAndCallback.call(e.target,e.selector,e.callback)},checkChildNodesRecursively:function(t,e,n,o){for(var i,r=0;i=t[r];r++)n(i,e,o)&&o.push({callback:e.callback,elem:i}),0<i.childNodes.length&&f.checkChildNodesRecursively(i.childNodes,e,n,o)},mergeArrays:function(t,e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o},toElementsArray:function(t){return void 0===t||"number"==typeof t.length&&t!==l||(t=[t]),t}}),e=(s.prototype.addEvent=function(t,e,n,o){var i={target:t,selector:e,options:n,callback:o,firedElems:[]};return this._beforeAdding&&this._beforeAdding(i),this._eventsBucket.push(i),i},s.prototype.removeEvent=function(t){for(var e,n=this._eventsBucket.length-1;e=this._eventsBucket[n];n--)if(t(e)){this._beforeRemoving&&this._beforeRemoving(e);var o=this._eventsBucket.splice(n,1);o&&o.length&&(o[0].callback=null)}},s.prototype.beforeAdding=function(t){this._beforeAdding=t},s.prototype.beforeRemoving=function(t){this._beforeRemoving=t},s),c=function(i,r){var c=new e,a=this,s={fireOnAttributesModification:!1};return c.beforeAdding(function(e){var t,n=e.target;n!==l.document&&n!==l||(n=document.getElementsByTagName("html")[0]),t=new MutationObserver(function(t){r.call(this,t,e)});var o=i(e.options);t.observe(n,o),e.observer=t,e.me=a}),c.beforeRemoving(function(t){t.observer.disconnect()}),this.bindEvent=function(t,e,n){e=f.mergeArrays(s,e);for(var o=f.toElementsArray(this),i=0;i<o.length;i++)c.addEvent(o[i],t,e,n)},this.unbindEvent=function(){var n=f.toElementsArray(this);c.removeEvent(function(t){for(var e=0;e<n.length;e++)if(this===u||t.target===n[e])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(n){var t,o=f.toElementsArray(this),i=n;t="function"==typeof n?function(t){for(var e=0;e<o.length;e++)if((this===u||t.target===o[e])&&t.callback===i)return!0;return!1}:function(t){for(var e=0;e<o.length;e++)if((this===u||t.target===o[e])&&t.selector===n)return!0;return!1},c.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(n,o){var i=f.toElementsArray(this);c.removeEvent(function(t){for(var e=0;e<i.length;e++)if((this===u||t.target===i[e])&&t.selector===n&&t.callback===o)return!0;return!1})},this},i=new function(){var s={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function r(t,e,n){return!(!f.matchesSelector(t,e.selector)||(t._id===u&&(t._id=o++),-1!=e.firedElems.indexOf(t._id)))&&(e.firedElems.push(t._id),!0)}var l=(i=new c(function(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e},function(t,i){t.forEach(function(t){var e=t.addedNodes,n=t.target,o=[];null!==e&&0<e.length?f.checkChildNodesRecursively(e,i,r,o):"attributes"===t.type&&r(n,i,o)&&o.push({callback:i.callback,elem:n}),f.callCallbacks(o,i)})})).bindEvent;return i.bindEvent=function(t,e,n){e=void 0===n?(n=e,s):f.mergeArrays(s,e);var o=f.toElementsArray(this);if(e.existing){for(var i=[],r=0;r<o.length;r++)for(var c=o[r].querySelectorAll(t),a=0;a<c.length;a++)i.push({callback:n,elem:c[a]});if(e.onceOnly&&i.length)return n.call(i[0].elem,i[0].elem);setTimeout(f.callCallbacks,1,i)}l.call(this,t,e,n)},i},a=new function(){var o={};function i(t,e){return f.matchesSelector(t,e.selector)}var r=(a=new c(function(){return{childList:!0,subtree:!0}},function(t,o){t.forEach(function(t){var e=t.removedNodes,n=[];null!==e&&0<e.length&&f.checkChildNodesRecursively(e,o,i,n),f.callCallbacks(n,o)})})).bindEvent;return a.bindEvent=function(t,e,n){e=void 0===n?(n=e,o):f.mergeArrays(o,e),r.call(this,t,e,n)},a};t&&p(t.fn),p(HTMLElement.prototype),p(NodeList.prototype),p(HTMLCollection.prototype),p(HTMLDocument.prototype),p(Window.prototype);var r={};return h(i,r,"unbindAllArrive"),h(a,r,"unbindAllLeave")}function s(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null}function h(t,e,n){f.addMethod(e,n,t.unbindEvent),f.addMethod(e,n,t.unbindEventWithSelectorOrCallback),f.addMethod(e,n,t.unbindEventWithSelectorAndCallback)}function p(t){t.arrive=i.bindEvent,h(i,t,"unbindArrive"),t.leave=a.bindEvent,h(a,t,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0)},{}],18:[function(t,i,r){!function(t){var e;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof r&&(i.exports=t(),e=!0),!e){var n=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function a(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function l(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(s){function c(){}function n(t,e,n){if("undefined"!=typeof document){"number"==typeof(n=a({path:"/"},c.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var o=JSON.stringify(e);/^[\{\[]/.test(o)&&(e=o)}catch(t){}e=s.write?s.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var r in n)n[r]&&(i+="; "+r,!0!==n[r]&&(i+="="+n[r].split(";")[0]));return document.cookie=t+"="+e+i}}function e(t,e){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var r=o[i].split("="),c=r.slice(1).join("=");e||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var a=l(r[0]);if(c=(s.read||s)(c,a)||l(c),e)try{c=JSON.parse(c)}catch(t){}if(n[a]=c,t===a)break}catch(t){}}return t?n[t]:n}}return c.set=n,c.get=function(t){return e(t,!1)},c.getJSON=function(t){return e(t,!0)},c.remove=function(t,e){n(t,"",a(e,{expires:-1}))},c.defaults={},c.withConverter=t,c}(function(){})})},{}],19:[function(t,N,U){(function(I){!function(t){var e="object"==typeof U&&U&&!U.nodeType&&U,n="object"==typeof N&&N&&!N.nodeType&&N,o="object"==typeof I&&I;o.global!==o&&o.window!==o&&o.self!==o||(t=o);var i,r,v=2147483647,k=36,y=1,w=26,c=38,a=700,b=72,_=128,j="-",s=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=k-y,x=Math.floor,C=String.fromCharCode;function A(t){throw new RangeError(f[t])}function p(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function d(t,e){var n=t.split("@"),o="";return 1<n.length&&(o=n[0]+"@",t=n[1]),o+p((t=t.replace(u,".")).split("."),e).join(".")}function E(t){for(var e,n,o=[],i=0,r=t.length;i<r;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<r?56320==(64512&(n=t.charCodeAt(i++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),i--):o.push(e);return o}function S(t){return p(t,function(t){var e="";return 65535<t&&(e+=C((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=C(t)}).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function q(t,e,n){var o=0;for(t=n?x(t/a):t>>1,t+=x(t/e);h*w>>1<t;o+=k)t=x(t/h);return x(o+(h+1)*t/(t+c))}function m(t){var e,n,o,i,r,c,a,s,l,u,f,h=[],p=t.length,d=0,m=_,g=b;for((n=t.lastIndexOf(j))<0&&(n=0),o=0;o<n;++o)128<=t.charCodeAt(o)&&A("not-basic"),h.push(t.charCodeAt(o));for(i=0<n?n+1:0;i<p;){for(r=d,c=1,a=k;p<=i&&A("invalid-input"),f=t.charCodeAt(i++),(k<=(s=f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:k)||s>x((v-d)/c))&&A("overflow"),d+=s*c,!(s<(l=a<=g?y:g+w<=a?w:a-g));a+=k)c>x(v/(u=k-l))&&A("overflow"),c*=u;g=q(d-r,e=h.length+1,0==r),x(d/e)>v-m&&A("overflow"),m+=x(d/e),d%=e,h.splice(d++,0,m)}return S(h)}function g(t){var e,n,o,i,r,c,a,s,l,u,f,h,p,d,m,g=[];for(h=(t=E(t)).length,e=_,r=b,c=n=0;c<h;++c)(f=t[c])<128&&g.push(C(f));for(o=i=g.length,i&&g.push(j);o<h;){for(a=v,c=0;c<h;++c)e<=(f=t[c])&&f<a&&(a=f);for(a-e>x((v-n)/(p=o+1))&&A("overflow"),n+=(a-e)*p,e=a,c=0;c<h;++c)if((f=t[c])<e&&++n>v&&A("overflow"),f==e){for(s=n,l=k;!(s<(u=l<=r?y:r+w<=l?w:l-r));l+=k)m=s-u,d=k-u,g.push(C(O(u+m%d,0))),s=x(m/d);g.push(C(O(s,0))),r=q(n,p,o==i),n=0,++o}++n,++e}return g.join("")}if(i={version:"1.4.1",ucs2:{decode:E,encode:S},decode:m,encode:g,toASCII:function(t){return d(t,function(t){return l.test(t)?"xn--"+g(t):t})},toUnicode:function(t){return d(t,function(t){return s.test(t)?m(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return i});else if(e&&n)if(N.exports==e)n.exports=i;else for(r in i)i.hasOwnProperty(r)&&(e[r]=i[r]);else t.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var r=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var a,s,l=t.length;0<c&&c<l&&(l=c);for(var u=0;u<l;++u){var f,h,p,d,m=t[u].replace(r,"%20"),g=m.indexOf(n);h=0<=g?(f=m.substr(0,g),m.substr(g+1)):(f=m,""),p=decodeURIComponent(f),d=decodeURIComponent(h),a=i,s=p,Object.prototype.hasOwnProperty.call(a,s)?v(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],21:[function(t,e,n){"use strict";function r(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(n,o,i,t){return o=o||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?a(s(n),function(t){var e=encodeURIComponent(r(t))+i;return c(n[t])?a(n[t],function(t){return e+encodeURIComponent(r(t))}).join(o):e+encodeURIComponent(r(n[t]))}).join(o):t?encodeURIComponent(r(t))+i+encodeURIComponent(r(n)):""};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],22:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":20,"./encode":21}],23:[function(t,e,n){"use strict";var U=t("punycode"),L=t("./util");function E(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=r,n.resolve=function(t,e){return r(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},n.format=function(t){L.isString(t)&&(t=r(t));return t instanceof E?t.format():E.prototype.format.call(t)},n.Url=E;var P=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,M=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),T=["'"].concat(i),R=["%","/","?",";","#"].concat(T),D=["/","?","#"],B=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,W={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},V={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=t("querystring");function r(t,e,n){if(t&&L.isObject(t)&&t instanceof E)return t;var o=new E;return o.parse(t,e,n),o}E.prototype.parse=function(t,e,n){if(!L.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),i=-1!==o&&o<t.indexOf("#")?"?":"#",r=t.split(i);r[0]=r[0].replace(/\\/g,"/");var c=t=r.join(i);if(c=c.trim(),!n&&1===t.split("#").length){var a=M.exec(c);if(a)return this.path=c,this.href=c,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?z.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var s=P.exec(c);if(s){var l=(s=s[0]).toLowerCase();this.protocol=l,c=c.substr(s.length)}if(n||s||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===c.substr(0,2);!u||s&&H[s]||(c=c.substr(2),this.slashes=!0)}if(!H[s]&&(u||s&&!V[s])){for(var f,h,p=-1,d=0;d<D.length;d++){-1!==(m=c.indexOf(D[d]))&&(-1===p||m<p)&&(p=m)}-1!==(h=-1===p?c.lastIndexOf("@"):c.lastIndexOf("@",p))&&(f=c.slice(0,h),c=c.slice(h+1),this.auth=decodeURIComponent(f)),p=-1;for(d=0;d<R.length;d++){var m;-1!==(m=c.indexOf(R[d]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=c.length),this.host=c.slice(0,p),c=c.slice(p),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),k=(d=0,v.length);d<k;d++){var y=v[d];if(y&&!y.match(B)){for(var w="",b=0,_=y.length;b<_;b++)127<y.charCodeAt(b)?w+="x":w+=y[b];if(!w.match(B)){var j=v.slice(0,d),x=v.slice(d+1),C=y.match(F);C&&(j.push(C[1]),x.unshift(C[2])),x.length&&(c="/"+x.join(".")+c),this.hostname=j.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=U.toASCII(this.hostname));var A=this.port?":"+this.port:"",E=this.hostname||"";this.host=E+A,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==c[0]&&(c="/"+c))}if(!W[l])for(d=0,k=T.length;d<k;d++){var S=T[d];if(-1!==c.indexOf(S)){var O=encodeURIComponent(S);O===S&&(O=escape(S)),c=c.split(S).join(O)}}var q=c.indexOf("#");-1!==q&&(this.hash=c.substr(q),c=c.slice(0,q));var I=c.indexOf("?");if(-1!==I?(this.search=c.substr(I),this.query=c.substr(I+1),e&&(this.query=z.parse(this.query)),c=c.slice(0,I)):e&&(this.search="",this.query={}),c&&(this.pathname=c),V[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var N=this.search||"";this.path=A+N}return this.href=this.format(),this},E.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",i=!1,r="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&L.isObject(this.query)&&Object.keys(this.query).length&&(r=z.stringify(this.query));var c=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||V[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",o&&"#"!==o.charAt(0)&&(o="#"+o),c&&"?"!==c.charAt(0)&&(c="?"+c),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(c=c.replace("#","%23"))+o},E.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},E.prototype.resolveObject=function(t){if(L.isString(t)){var e=new E;e.parse(t,!1,!0),t=e}for(var n=new E,o=Object.keys(this),i=0;i<o.length;i++){var r=o[i];n[r]=this[r]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),a=0;a<c.length;a++){var s=c[a];"protocol"!==s&&(n[s]=t[s])}return V[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!V[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||H[t.protocol])n.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",d=n.search||"";n.path=p+d}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=g||m||n.host&&t.pathname,k=v,y=n.pathname&&n.pathname.split("/")||[],w=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!V[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),v=v&&(""===h[0]||""===y[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=h;else if(h.length)(y=y||[]).pop(),y=y.concat(h),n.search=t.search,n.query=t.query;else if(!L.isNullOrUndefined(t.search)){if(w)n.hostname=n.host=y.shift(),(C=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=t.search,n.query=t.query,L.isNull(n.pathname)&&L.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var b=y.slice(-1)[0],_=(n.host||t.host||1<y.length)&&("."===b||".."===b)||""===b,j=0,x=y.length;0<=x;x--)"."===(b=y[x])?y.splice(x,1):".."===b?(y.splice(x,1),j++):j&&(y.splice(x,1),j--);if(!v&&!k)for(;j--;)y.unshift("..");!v||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),_&&"/"!==y.join("/").substr(-1)&&y.push("");var C,A=""===y[0]||y[0]&&"/"===y[0].charAt(0);w&&(n.hostname=n.host=A?"":y.length?y.shift():"",(C=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(v=v||n.host&&y.length)&&!A&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),L.isNull(n.pathname)&&L.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},E.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":24,punycode:19,querystring:22}],24:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],25:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events"),r=i.onPresent,c=i.onEvent,a=t("../helpers/url").getQuery;n.trackCaptchaView=function(){r(".g-recaptcha",function(t){var e=a(t.url);o("security","pageview","captcha",e.q)})},n.trackCaptchaSuccess=function(){c("captcha_success",function(){o("security","success","captcha")})}},{"../helpers/events":9,"../helpers/tracking":14,"../helpers/url":15}],26:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events").on,r=t("../helpers/url").getQuery;n.trackFlightWidget=function(){i(".bpk-button","click",function(t){o("flight-widget-button","click",r(t.url).q,"search")})}},{"../helpers/events":9,"../helpers/tracking":14,"../helpers/url":15}],27:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events"),r=i.trackId,c=i.on,a=t("../helpers/url").getQuery;n.trackHotelPopUp=function(){c(r("hotel-popup-link"),"click",function(t){o("hotel-popup-link","click",a(t.url).q)})},n.trackHotelDropdown=function(){c(r("more-ecosia-hotels-link"),"click",function(t){o("more-ecosia-hotels-link","click",a(t.url).q)})}},{"../helpers/events":9,"../helpers/tracking":14,"../helpers/url":15}],28:[function(t,e,n){"use strict";var i=t("../helpers/tracking").trackStructured,o=t("../helpers/events"),r=o.trackId,c=o.on,a=o.onIndexPage;n.trackIndexPageClick=function(){a(function(){c(".js-cta-install-button","click",function(t,e,n){i("install_cta",n.dataset.ctaName,"install","index")})})},n.trackIndexPage=function(){a(function(){c(r("burger-menu"),"click",function(){i("burger-menu","click","main","index")}),c(r("menu"),"click",function(){i("menu","click","main","index")}),c(r("install_popup_close"),"click",function(){i("install_popup_close","click","index")}),c(r("personal-counter"),"click",function(){i("personal_counter","click","main","index")}),c(r("personal-counter-share"),"click",function(){i("personal_counter","click","share","index")}),c(r("personal-counter-learn-more"),"click",function(){i("personal_counter","click","learn","index")}),c(r("scroll"),"click",function(){i("scroll_link","click","info","index")}),c(r("video"),"click",function(){i("video","start","engagement","index")}),c(r("claim","startsWith"),"click",function(t,e,n){var o=n.dataset.trackId.replace("claim_","");i("claim_link","click",o,"index",n.href)}),c(r("share_cta","startsWith"),"click",function(t,e,n){var o=n.dataset.trackId.replace("share_cta_","");i("share_cta","click",o,"index")}),c(r("cta","startsWith"),"click",function(t,e,n){var o=n.dataset.trackId.replace("cta_","");i("install_cta","click",o,"index")}),c(r("social","startsWith"),"click",function(t,e,n){var o=n.dataset.trackId.replace("social_","");i("social_link","click",o,"index","footer")}),c(r("footer"),"click",function(t,e,n){i("footer_link","click",n.href,"index")})})}},{"../helpers/events":9,"../helpers/tracking":14}],29:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events"),r=i.trackId,c=i.on,a=i.onUrlContains,s=t("../helpers/url").getQuery;n.trackMapVertical=function(){c(r("maps_directions_snippet"),"click",function(t){o("map_snippet","click","directions",s(t.url).q)}),c(r("maps_map_snippet"),"click",function(t){o("map_snippet","click","map",s(t.url).q)}),c(r("entity_map"),"click",function(t){o("map_entity_map","click","map",s(t.url).q)}),a("/map",function(t){o("map_vertical","impression","main",s(t.url).q),c(r("maps_directions"),"click",function(){o("map_vertical","click","directions",s(t.url).q)}),c(r("maps_navigation_back"),"click",function(){o("map_vertical","click","maps_navigation_back",s(t.url).q)})})}},{"../helpers/events":9,"../helpers/tracking":14,"../helpers/url":15}],30:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events").onEvent;n.trackNotificationImpression=function(){i("all_notification_impression",function(t,e){o("notification_tracking","impression",e.origin,e.trackingname,e.level)})},n.trackNotificationClick=function(){i("all_notification_click",function(t,e){o("notification_tracking","click",e.origin,e.trackingname,e.level)})},n.trackNotificationCenterOpen=function(){i("all_notification_toggleNotificationCenter",function(t,e){o("notification_tracking","toggleNotificationCenter",e.origin,e.trackingname,e.level)})},n.trackNotificationDismiss=function(){i("all_notification_dismiss",function(t,e){o("notification_tracking","dismiss",e.origin,e.trackingname,e.level)})}},{"../helpers/events":9,"../helpers/tracking":14}],31:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events"),r=i.on,c=i.onUrlContains,a=i.onEvent;n.trackFaqPrivacyClicks=function(){c(".ecosia.org/privacy",function(){a("privacy_faq_click",function(t,e){o("privacy_page","click",e.position)})})},n.trackReadMoreClick=function(){c(".ecosia.org/privacy",function(){r(".js-read-more","click",function(){o("privacy","click","read_more_button")})})},n.trackPrivacyPageView=function(){c("https://info.ecosia.org/privacy",function(){o("infopages","pageview","privacy")})}},{"../helpers/events":9,"../helpers/tracking":14}],32:[function(t,e,n){"use strict";var o=t("../helpers/tracking").trackStructured,i=t("../helpers/events"),r=i.on,c=i.onUrlContains;n.trackReactivationView=function(){c("https://info.ecosia.org/firefox-reactivation",function(){o("firefox_reactivation","impression")})},n.trackReactivationLearnMore=function(){r(".callout-link","click",function(t){t.url&&-1!==t.url.indexOf("firefox-reactivation")&&o("firefox_reactivation","click","learn_more")})},n.trackReactivationDismiss=function(){r(".reactivation-dismiss","click",function(){o("firefox_reactivation","click","dismiss")})}},{"../helpers/events":9,"../helpers/tracking":14}],33:[function(t,e,n){"use strict";var i=t("../helpers/tracking").trackStructured,o=t("../helpers/events"),r=o.on,c=o.onUrlContains,a=o.trackId;n.trackWeatherWidget=function(){r(a("weather-daily"),"click",function(){i("daily","click","weather_widget")}),r(a("weather-hourly"),"click",function(){i("hourly","click","weather_widget")}),r(a("weather-weekly"),"click",function(){i("weekly","click","weather_widget")}),r(a("weather-day","startsWith"),"click",function(t,e,n){var o=n.dataset.trackId.replace("weather-day_","");i("day_select","click","weather_widget",o)})},n.trackWeatherSerpClicks=function(){c(".ecosia.org/search",function(t){t.weatherLocation&&r(".js-result","click",function(){i("serp","result_click","weather")})})}},{"../helpers/events":9,"../helpers/tracking":14}]},{},[16]);
