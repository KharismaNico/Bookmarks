(function(pb){var ea=window.AmazonUIPageJS||window.P,n=ea._namespace||ea.attributeErrors,d=n?n("Maestrojs"):ea;d.guardFatal?d.guardFatal(pb)(d,window):d.execute(function(){pb(d,window)})})(function(pb,ea,n){(function(d,h){"object"===typeof exports&&"object"===typeof module?module.exports=h():"function"===typeof define&&define.amd?define([],h):"object"===typeof exports?exports.Maestro=h():d.Maestro=h()})(this,function(){return function(d){function h(g){if(a[g])return a[g].exports;var m=a[g]={exports:{},
id:g,loaded:!1};d[g].call(m.exports,m,m.exports,h);m.loaded=!0;return m.exports}var a={};h.m=d;h.c=a;h.p="";return h(0)}([function(d,h,a){(function(g){var m=a(1),m=m&&m.__esModule?m:{default:m},e=a(52),e=e&&e.__esModule?e:{default:e};g.Promise||(a(200).default=a(264));d.exports={Player:m.default,Config:e.default}}).call(h,function(){return this}())},function(d,h,a){(function(g){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});var e=a(2),f=d(e),e=
a(3),b=d(e),e=a(22),p=d(e),e=a(135),v=d(e),e=a(148),q=d(e),e=a(167),r=d(e),e=a(168),E=d(e),e=a(172),B=d(e),e=a(185),A=d(e),e=a(187),C=d(e),e=a(190),u=d(e),e=a(191),z=d(e),e=a(193),H=d(e),e=a(181),x=d(e),e=a(141),I=d(e),e=a(136),G=d(e),L=a(23),e=a(183),F=d(e),e=a(52),O=d(e),e=a(195),V=d(e),e=function(){function a(){(0,f.default)(this,a);this.store=(0,p.default)();this.streamingEngine=A.default.createStreamingEngine(this.store);this.cacheEngine=u.default.createCacheEngine(this.store);this.networkEngine=
z.default.createNetworkEngine(this.store);this.manifestEngine=H.default.createManifestEngine(this.store);this.playbackEngine=B.default.createPlaybackEngine(this.store);this.mediaEngine=C.default.createMediaEngine(this.store);O.default.getDebugMode()&&(this.debugPanel=V.default.createDebugPanel(this.store));this._listeners={paused:[],error:[],ended:[],started:[],timeupdate:[],buffertime:[],bitratechange:[],canplay:[],stalled:[],seeking:[],resumed:[],expired:[]};this.listenerObservables=this._setupEventListeners();
this.load=this.load.bind(this);this.play=this.play.bind(this);this.resume=this.resume.bind(this);this.pause=this.pause.bind(this);this.mute=this.mute.bind(this);this.repeat=this.repeat.bind(this);this.seekTo=this.seekTo.bind(this);this.volume=this.volume.bind(this);this.setConfig=this.setConfig.bind(this);this.isPlaying=this.isPlaying.bind(this);this.isPaused=this.isPaused.bind(this);this.isEnded=this.isEnded.bind(this);this.isCached=this.isCached.bind(this);this.isStalled=this.isStalled.bind(this);
this.isSeeking=this.isSeeking.bind(this);this.getCurrentTime=this.getCurrentTime.bind(this);this.getBufferedTime=this.getBufferedTime.bind(this);this.getDuration=this.getDuration.bind(this);this.getAudioElement=this.getAudioElement.bind(this);this.addEventListener=this.addEventListener.bind(this);this.removeEventListener=this.removeEventListener.bind(this);this.decreaseBitrate=this.decreaseBitrate.bind(this);this.increaseBitrate=this.increaseBitrate.bind(this);this.destroy=this.destroy.bind(this);
this.getNetworkMetrics=this.getNetworkMetrics.bind(this)}(0,b.default)(a,[{key:"load",value:function(a){this.store.dispatch(q.default.add(a));a=G.default.getTrack(a.id,this.store.getState());a.get("manifest")||this.store.dispatch(E.default.fetchManifest(a));return this}},{key:"play",value:function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:0,f=G.default.getTrack(a,this.store.getState()),b=f.get("isDynamic")?G.default.getDynamicTrackDurationWithOffset(f):b;this.store.dispatch(v.default.pause());
this.store.dispatch(v.default.set(a,b));this.store.dispatch(v.default.play());return this}},{key:"resume",value:function(){this.store.dispatch(v.default.play());return this}},{key:"pause",value:function(){this.store.dispatch(v.default.pause());return this}},{key:"mute",value:function(){this.store.dispatch(v.default.mute());return this}},{key:"repeat",value:function(){this.store.dispatch(v.default.repeat());return this}},{key:"seekTo",value:function(a){this.store.dispatch(v.default.seekTo(a));return this}},
{key:"volume",value:function(a){this.store.dispatch(v.default.setVolume(a));return this}},{key:"setConfig",value:function(a){this.store.dispatch(r.default.update(a));return this}},{key:"isPlaying",value:function(){return this.store.getState().getIn(["playback","playing"])}},{key:"isPaused",value:function(){return this.store.getState().getIn(["playback","paused"])}},{key:"isEnded",value:function(){return this.store.getState().getIn(["playback","ended"])}},{key:"isCached",value:function(a){return this.store.getState().get("cache").has(a)}},
{key:"isStalled",value:function(){return this.store.getState().getIn(["playback","stalled"])}},{key:"isSeeking",value:function(){return this.store.getState().getIn(["playback","seeking"])}},{key:"getCurrentTime",value:function(){return this.store.getState().getIn(["playback","time"])}},{key:"getBufferedTime",value:function(){var a=this.store.getState(),b=G.default.getCurrentTrack(a),f=this.getCurrentTime();if(!b)return f;a=a.getIn(["media",b.get("id"),"ranges"]);return(a=I.default.getRange(a,f))?
a.get(1):f}},{key:"getDuration",value:function(){return this.store.getState().getIn(["playback","duration"])}},{key:"getAudioElement",value:function(){var a=this.store.getState(),b=G.default.getCurrentTrack(a);if(b)return a.getIn(["media",b.get("id"),"audioEl"])}},{key:"getNetworkMetrics",value:function(a){var b=this.store.getState().get("network");return a?b.get(a).toJS():b.toJS()}},{key:"addEventListener",value:function(a,b){var f=this._listeners[a];f&&f.push(b);return this}},{key:"removeEventListener",
value:function(a,b){var f=this._listeners[a];if(f){var e=f.indexOf(b);0<=e&&f.splice(e,1)}return this}},{key:"_setupEventListeners",value:function(){var a=this,b=[];b.push(x.default.propertyObservable(this.store.stateObservable,"playback","time").subscribe(function(b){a._listeners.timeupdate.forEach(function(a){return a(b)})}));b.push(x.default.propertyObservable(this.store.stateObservable,"playback","bitrate").subscribe(function(b){a._listeners.bitratechange.forEach(function(a){return a(b)})}));
b.push(x.default.truthyPropertyObservable(this.store.stateObservable,"playback","started").subscribe(function(){a._listeners.started.forEach(function(a){return a()})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","ended"])}).filter(function(a){return a.getIn(["playback","ended"])}).subscribe(function(){a._listeners.ended.forEach(function(a){return a()})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback",
"stalled"])}).filter(function(a){return a.getIn(["playback","started"])}).subscribe(function(b){var f=b.getIn(["playback","stalled"]);a._listeners.stalled.forEach(function(a){return a(f)})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","paused"])}).filter(function(a){return a.getIn(["playback","started"])}).filter(function(a){return a.getIn(["playback","paused"])}).subscribe(function(){a._listeners.paused.forEach(function(a){return a()})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback",
"paused"])}).filter(function(a){return a.getIn(["playback","started"])}).filter(function(a){return!a.getIn(["playback","paused"])}).subscribe(function(){a._listeners.resumed.forEach(function(a){return a()})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","seeking"])}).filter(function(a){return a.getIn(["playback","started"])}).subscribe(function(b){var f=b.getIn(["playback","seeking"]);a._listeners.seeking.forEach(function(a){return a(f)})}));b.push(this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback",
"id"])}).filter(function(a){return a.getIn(["playback","id"])}).flatMapLatest(function(b){var f=b.getIn(["playback","id"]);return(b=b.getIn(["media",f,"ranges"]))&&0<b.size?L.Observable.just():a.store.stateObservable.map(function(a){return a.getIn(["media",f,"ranges"])}).filter(function(a){return a&&1<=a.size}).take(1)}).subscribe(function(){a._listeners.canplay.forEach(function(a){return a()})}));b.push(x.default.propertyObservable(this.store.stateObservable,"errors","list").subscribe(function(b){var f=
b.last();f&&a._listeners.error.forEach(function(a){return a(f.get("error"),f.get("extra").toJS())})}));b.push(this.store.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["playback","started"])}).distinctUntilChanged(function(a){var b=a.getIn(["playback","id"]);return a.getIn(["media",b,"ranges"])}).map(function(a){var b=a.getIn(["playback","id"]),b=a.getIn(["media",b,"ranges"]);a=a.getIn(["playback","time"]);return I.default.bufferedAheadOf(b,
a)}).subscribe(function(b){a._listeners.buffertime.forEach(function(a){return a(b)})}));var f=this.store.stateObservable.filter(function(a){return(a=G.default.getCurrentTrack(a))&&a.get("expireAt")}).distinctUntilChanged(function(a){return G.default.getCurrentTrack(a).get("expireAt")}),e=this.store.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","id"])}).filter(function(a){return(a=G.default.getCurrentTrack(a))&&a.get("expireAt")});b.push(L.Observable.merge(e,f).flatMapLatest(function(a){var b=
G.default.getCurrentTrack(a),f=a.getIn(["config","secondsToRetryManifest"]);a=a.getIn(["config","secondsToRetryManifestJitter"]);b=b.get("expireAt");a*=Math.random();return L.Observable.just().delay(b-Date.now()-1E3*(f+a))}).subscribe(function(){a._listeners.expired.forEach(function(a){return a()})}));return b}},{key:"decreaseBitrate",value:function(){this.store.dispatch(v.default.decreaseBitrate());return this}},{key:"increaseBitrate",value:function(){this.store.dispatch(v.default.increaseBitrate());
return this}},{key:"destroy",value:function(){this.playbackEngine.dispose();this.streamingEngine.dispose();this.cacheEngine.dispose();this.networkEngine.dispose();this.mediaEngine.dispose();this.manifestEngine.dispose();this.createDebugPanel&&this.createDebugPanel.dispose();this.store.unsubscribe();this.listenerObservables.forEach(function(a){return a.dispose()});return this}}],[{key:"isSupported",value:function(a){if(F.default.isMobileBrowser())return!1;var b=!!g.Audio&&!!g.MediaSource,f=!1,f=a?
b&&MediaSource.isTypeSupported(a):b;a=F.default.isVersionSupported();return f&&a}}]);return a}();h.default=e}).call(h,function(){return this}())},function(d,h){h.__esModule=!0;h.default=function(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function");}},function(d,h,a){h.__esModule=!0;var g=(d=a(4))&&d.__esModule?d:{default:d};h.default=function(){function a(e,f){for(var b=0;b<f.length;b++){var d=f[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=
!0);(0,g.default)(e,d.key,d)}}return function(e,f,b){f&&a(e.prototype,f);b&&a(e,b);return e}}()},function(d,h,a){d.exports={"default":a(5),__esModule:!0}},function(d,h,a){a(6);var g=a(9).Object;d.exports=function(a,e,f){return g.defineProperty(a,e,f)}},function(d,h,a){d=a(7);d(d.S+d.F*!a(17),"Object",{defineProperty:a(13).f})},function(d,h,a){var g=a(8),m=a(9),e=a(10),f=a(12),b=function(a,d,q){var r=a&b.F,h=a&b.G,B=a&b.S,A=a&b.P,C=a&b.B,u=a&b.W,z=h?m:m[d]||(m[d]={}),H=z.prototype,B=h?g:B?g[d]:(g[d]||
{}).prototype,x,I;h&&(q=d);for(x in q)d=!r&&B&&B[x]!==n,d&&x in z||(I=d?B[x]:q[x],z[x]=h&&"function"!=typeof B[x]?q[x]:C&&d?e(I,g):u&&B[x]==I?function(a){var b=function(b,f,e){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,f)}return new a(b,f,e)}return a.apply(this,arguments)};b.prototype=a.prototype;return b}(I):A&&"function"==typeof I?e(Function.call,I):I,A&&((z.virtual||(z.virtual={}))[x]=I,a&b.R&&H&&!H[x]&&f(H,x,I)))};b.F=1;b.G=
2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=64;b.R=128;d.exports=b},function(d,h){var a=d.exports="undefined"!=typeof ea&&ea.Math==Math?ea:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(d,h){var a=d.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},function(d,h,a){var g=a(11);d.exports=function(a,e,f){g(a);if(e===n)return a;switch(f){case 1:return function(b){return a.call(e,b)};case 2:return function(b,f){return a.call(e,b,f)};case 3:return function(b,
f,g){return a.call(e,b,f,g)}}return function(){return a.apply(e,arguments)}}},function(d,h){d.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(d,h,a){var g=a(13),m=a(21);d.exports=a(17)?function(a,f,b){return g.f(a,f,m(1,b))}:function(a,f,b){a[f]=b;return a}},function(d,h,a){var g=a(14),m=a(16),e=a(20),f=Object.defineProperty;h.f=a(17)?Object.defineProperty:function(a,d,h){g(a);d=e(d,!0);g(h);if(m)try{return f(a,d,h)}catch(q){}if("get"in h||
"set"in h)throw TypeError("Accessors not supported!");"value"in h&&(a[d]=h.value);return a}},function(d,h,a){var g=a(15);d.exports=function(a){if(!g(a))throw TypeError(a+" is not an object!");return a}},function(d,h){d.exports=function(a){return"object"===typeof a?null!==a:"function"===typeof a}},function(d,h,a){d.exports=!a(17)&&!a(18)(function(){return 7!=Object.defineProperty(a(19)("div"),"a",{get:function(){return 7}}).a})},function(d,h,a){d.exports=!a(18)(function(){return 7!=Object.defineProperty({},
"a",{get:function(){return 7}}).a})},function(d,h){d.exports=function(a){try{return!!a()}catch(g){return!0}}},function(d,h,a){h=a(15);var g=a(8).document,m=h(g)&&h(g.createElement);d.exports=function(a){return m?g.createElement(a):{}}},function(d,h,a){var g=a(15);d.exports=function(a,e){if(!g(a))return a;var f,b;if(e&&"function"==typeof(f=a.toString)&&!g(b=f.call(a))||"function"==typeof(f=a.valueOf)&&!g(b=f.call(a))||!e&&"function"==typeof(f=a.toString)&&!g(b=f.call(a)))return b;throw TypeError("Can't convert object to primitive value");
}},function(d,h){d.exports=function(a,g){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:g}}},function(d,h,a){function g(a){return m.Observable.create(function(b){return a.subscribe(function(){return b.onNext(a.getState())})})}Object.defineProperty(h,"__esModule",{value:!0});h.default=function(){var a=e.default.apply(n,arguments);a.stateObservable=g(a);return a};var m=a(23),e=(d=a(26))&&d.__esModule?d:{default:d}},function(d,h,a){var g;(function(d,e,f){(function(b){function p(k){return k&&
k.Object===Object?k:null}function v(k){for(var c=[],t=0,S=k.length;t<S;t++)c.push(k[t]);return c}function q(k){return function(){try{return k.apply(this,arguments)}catch(c){return J.e=c,J}}}function r(k){throw k;}function E(){if(Ib)try{throw Error();}catch(k){var c=k.stack.split("\n"),c=0<c[0].indexOf("@")?c[1]:c[2];if(c=B(c))return Jb=c[0],c[1]}}function B(k){var c=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(k);if(c||(c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(k)))return[c[1],Number(c[2])];if(k=/.*@(.+):(\d+)$/.exec(k))return[k[1],
Number(k[2])]}function A(k,c,t,S,a,l){var f=ac(k),w=f.length,e=ac(c).length;if(w!==e&&!S)return!1;for(var e=w,d;e--;)if(d=f[e],!(S?d in c:Cc.call(c,d)))return!1;for(var g=S;++e<w;){d=f[e];var q=k[d],p=c[d];if(void 0!==b||!t(q,p,S,a,l))return!1;g||(g="constructor"===d)}return g||(t=k.constructor,S=c.constructor,!(t!==S&&"constructor"in k&&"constructor"in c)||"function"===typeof t&&t instanceof t&&"function"===typeof S&&S instanceof S)?!0:!1}function C(k,c,t){switch(t){case "[object Boolean]":case "[object Date]":return+k===
+c;case "[object Error]":return k.name===c.name&&k.message===c.message;case "[object Number]":return k!==+k?c!==+c:k===+c;case "[object RegExp]":case "[object String]":return k===c+""}return!1}function u(k){return!!k&&"object"===typeof k}function z(k){return"number"===typeof k&&-1<k&&0===k%1&&k<=Qb}function H(k,c){for(var t=-1,S=k.length;++t<S;)if(c(k[t],t,k))return!0;return!1}function x(k,c,t,S,a,l){var f=-1,w=k.length,e=c.length;if(w!==e&&!(S&&e>w))return!1;for(;++f<w;){var d=k[f],e=c[f];if(void 0!==
b)return!1;if(S){if(!H(c,function(c){return d===c||t(d,c,S,a,l)}))return!1}else if(d!==e&&!t(d,e,S,a,l))return!1}return!0}function I(k,c,t,S,a){if(k===c)return!0;if(null==k||null==c||!Ba(k)&&!u(c))return k!==k&&c!==c;a:{var l=jc(k),b=jc(c),f="[object Array]",w="[object Array]";l||(f=kc.call(k),"[object Arguments]"===f?f="[object Object]":"[object Object]"!==f&&(l=u(k)&&z(k.length)&&!!wa[kc.call(k)]));b||(w=kc.call(c),"[object Arguments]"===w&&(w="[object Object]"));var e="[object Object]"===f&&!Dc(k),
b="[object Object]"===w&&!Dc(c),w=f===w;if(!w||l||e){if(!t&&(f=e&&Cc.call(k,"__wrapped__"),b=b&&Cc.call(c,"__wrapped__"),f||b)){k=I(f?k.value():k,b?c.value():c,t,S,a);break a}if(w){S||(S=[]);a||(a=[]);for(f=S.length;f--;)if(S[f]===k){k=a[f]===c;break a}S.push(k);a.push(c);k=(l?x:A)(k,c,I,t,S,a);S.pop();a.pop()}else k=!1}else k=C(k,c,f)}return k}function G(k,c){for(var t=Array(k),S=0;S<k;S++)t[S]=c();return t}function L(k,c){this.id=k;this.value=c}function F(k,c){this.scheduler=k;this.disposable=c;
this.isDisposed=!1}function O(k,c){c.isDisposed||(c.isDisposed=!0,c.disposable.dispose())}function n(k){this._s=k;this.isDisposed=!1}function T(k){this._s=k}function W(k){this._s=k;this._l=k.length;this._i=0}function pa(k){this._a=k}function R(k){this._a=k;k=+k.length;if(isNaN(k))k=0;else if(0!==k&&"number"===typeof k&&ha.isFinite(k)){var c;c=+k;c=0===c?c:isNaN(c)?c:0>c?-1:1;k=c*Math.floor(Math.abs(k));k=0>=k?0:k>Ja?Ja:k}this._l=k;this._i=0}function Y(k,c){ca(k)||(k=Fa);return new Ma(c,k)}function ba(k,
c){this.observer=k;this.parent=c}function aa(){return!1}function ua(){for(var k=arguments.length,c=Array(k),t=0;t<k;t++)c[t]=arguments[t];return c}function aa(){return!1}function ua(){for(var k=arguments.length,c=Array(k),t=0;t<k;t++)c[t]=arguments[t];return c}function aa(){return!1}function xa(){return[]}function aa(){return!1}function xa(){return[]}function ua(){for(var k=arguments.length,c=Array(k),t=0;t<k;t++)c[t]=arguments[t];return c}function Ra(k){return function(c){return k.subscribe(c)}}
function X(k){return k.toArray()}function eb(k){return 0<k.length}function Ea(k){return{"@@iterator":function(){return{next:function(){return{done:!1,value:k}}}}}}function Ea(k){return{"@@iterator":function(){return{next:function(){return{done:!1,value:k}}}}}}function Va(k,c,t){var S=ya(c,t,3);return k.map(function(c,t){var a=S(c,t,k);da(a)&&(a=fa(a));(Rb(a)||sb(a))&&(a=bc(a));return a}).concatAll()}function fb(k){this.comparer=k;this.set=[]}function tb(k,c){return function(t){var S=t;for(t=0;t<c;t++)if(S=
S[k[t]],"undefined"===typeof S)return b;return S}}function ub(k){if(0===k.length)throw new Wa;return k[0]}function Xa(k,c,t,S){var a=ya(c,t,3);return new ja(function(c){return k.subscribe(new xd(c,k,a,S))},k)}function kb(k){if(!k||P.isObservable(k))return k;if(da(k))return P.fromPromise(k);var c;c=(c=k.constructor)?"GeneratorFunction"===c.name||"GeneratorFunction"===c.displayName?!0:lb(c.prototype):!1;return c||lb(k)?yd.call(this,k):U(k)?ra.call(this,k):Rb(k)||sb(k)?zd.call(this,k):Ba(k)?Za.call(this,
k):k}function zd(k){return P.from(k).concatMap(function(c){return P.isObservable(c)||Ba(c)?kb.call(null,c):Q.Observable.just(c)}).toArray()}function Za(k){function c(c,k){t[k]=b;a.push(c.map(function(c){t[k]=c}))}for(var t=new k.constructor,S=Object.keys(k),a=[],l=0,f=S.length;l<f;l++){var w=S[l],e=kb.call(this,k[w]);e&&P.isObservable(e)?c(e,w):t[w]=k[w]}return P.forkJoin.apply(P,a).map(function(){return t})}function ra(k){var c=this;return new ja(function(t){k.call(c,function(){var c=arguments[0],
k=arguments[1];if(c)return t.onError(c);if(2<arguments.length){for(var c=[],k=1,a=arguments.length;k<a;k++)c.push(arguments[k]);k=c}t.onNext(k);t.onCompleted()})})}function lb(k){return U(k.next)&&U(k["throw"])}function Ba(k){return Object==k.constructor}function Kb(k,c,t){return function(){for(var S=arguments.length,a=Array(S),l=0;l<S;l++)a[l]=arguments[l];if(U(t)){a=K(t).apply(c,a);if(a===J)return k.onError(a.e);k.onNext(a)}else if(1>=a.length)k.onNext(a[0]);else k.onNext(a);k.onCompleted()}}function Ga(k,
c,t){return function(){var S=arguments[0];if(S)return k.onError(S);for(var S=arguments.length,a=[],l=1;l<S;l++)a[l-1]=arguments[l];if(U(t)){a=K(t).apply(c,a);if(a===J)return k.onError(a.e);k.onNext(a)}else if(1>=a.length)k.onNext(a[0]);else k.onNext(a);k.onCompleted()}}function $a(k,c,t){this._e=k;this._n=c;this._fn=t;this._e.addEventListener(this._n,this._fn,!1);this.isDisposed=!1}function vb(k,c,t){var S=new Ca,a=Object.prototype.toString.call(k),l;l=ha.StaticNodeList?k instanceof ha.StaticNodeList||
k instanceof ha.NodeList:"[object NodeList]"===Object.prototype.toString.call(k);if(l||"[object HTMLCollection]"===a)for(a=0,l=k.length;a<l;a++)S.add(vb(k.item(a),c,t));else k&&S.add(new $a(k,c,t));return S}function gb(k,c,t){return new ja(function(a){function l(c,k){e[k]=c;b[k]=!0;if(f||(f=b.every(Ya))){if(d)return a.onError(d);var fd=K(t).apply(null,e);if(fd===J)return a.onError(fd.e);a.onNext(fd)}w&&e[1]&&a.onCompleted()}var b=[!1,!1],f=!1,w=!1,e=Array(2),d;return new ga(k.subscribe(function(c){l(c,
0)},function(c){if(e[1])a.onError(c);else d=c},function(){w=!0;e[1]&&a.onCompleted()}),c.subscribe(function(c){l(c,1)},function(c){a.onError(c)},function(){w=!0;l(!0,1)}))},k)}function X(k){return k.toArray()}function Lb(k,c){return k.groupJoin(this,c,Mb,function(c,k){return k})}function La(k){var c=this;return new ja(function(t){var a=new Ha,l=new Ca,b=new wb(l);t.onNext(ab(a,b));l.add(c.subscribe(function(c){a.onNext(c)},function(c){a.onError(c);t.onError(c)},function(){a.onCompleted();t.onCompleted()}));
da(k)&&(k=fa(k));l.add(k.subscribe(function(c){a.onCompleted();a=new Ha;t.onNext(ab(a,b))},function(c){a.onError(c);t.onError(c)},function(){a.onCompleted();t.onCompleted()}));return b},c)}function cc(k){var c=this;return new ja(function(t){function a(){var c;try{c=k()}catch(b){t.onError(b);return}da(c)&&(c=fa(c));var e=new Z;l.setDisposable(e);e.setDisposable(c.take(1).subscribe(za,function(c){w.onError(c);t.onError(c)},function(){w.onCompleted();w=new Ha;t.onNext(ab(w,f));a()}))}var l=new sa,b=
new Ca(l),f=new wb(b),w=new Ha;t.onNext(ab(w,f));b.add(c.subscribe(function(c){w.onNext(c)},function(c){w.onError(c);t.onError(c)},function(){w.onCompleted();t.onCompleted()}));a();return f},c)}function ua(){for(var k=arguments.length,c=Array(k),t=0;t<k;t++)c[t]=arguments[t];return c}function xb(k){this.patterns=k}function la(k,c){this.expression=k;this.selector=c}function na(k){return function(c){k.onError(c)}}function Ec(k,c){return function(){var t=K(k.selector).apply(k,arguments);if(t===J)return c.onError(t.e);
c.onNext(t)}}function dc(k,c,t){var a=k.get(c);return a?a:(t=new Ad(c,t),k.set(c,t),t)}function yb(k,c,t){this.joinObserverArray=k;this.onNext=c;this.onCompleted=t;this.joinObservers=new ec;k=0;for(c=this.joinObserverArray.length;k<c;k++)t=this.joinObserverArray[k],this.joinObservers.set(t,t)}function Sb(k,c,t){return new ja(function(a){var l=k,b=Fc(c);return t.scheduleRecursiveFuture(0,l,function(c,k){if(0<b){var f=t.now();l=new Date(l.getTime()+b);l.getTime()<=f&&(l=new Date(f+b))}a.onNext(c);k(c+
1,new Date(l))})})}function zb(k,c,t){return k===c?new ja(function(k){return t.schedulePeriodic(0,c,function(c){k.onNext(c);return c+1})}):Tb(function(){return Sb(new Date(t.now()+k),c,t)})}function hb(k,c,t){return new ja(function(a){var l=!1,b=new sa,f=null,w=[],e=!1,d;d=k.materialize().timestamp(t).subscribe(function(k){"E"===k.value.kind?(w=[],w.push(k),f=k.value.error,k=!e):(w.push({value:k.value,timestamp:k.timestamp+c}),k=!l,l=!0);if(k)if(null!==f)a.onError(f);else k=new Z,b.setDisposable(k),
k.setDisposable(t.scheduleRecursiveFuture(null,c,function(c,k){var b,d,g;if(null===f){e=!0;do b=null,0<w.length&&0>=w[0].timestamp-t.now()&&(b=w.shift().value),null!==b&&b.accept(a);while(null!==b);g=!1;d=0;0<w.length?(g=!0,d=Math.max(0,w[0].timestamp-t.now())):l=!1;b=f;e=!1;if(null!==b)a.onError(b);else g&&k(null,d)}}))});return new ga(d,b)},k)}function Gc(k,c,t){return Tb(function(){return hb(k,c-t.now(),t)})}function Hc(k,c,t){var a,l;U(c)?l=c:(a=c,l=t);return new ja(function(c){function t(){e.setDisposable(k.subscribe(function(k){var t=
K(l)(k);if(t===J)return c.onError(t.e);var a=new Z;f.add(a);a.setDisposable(t.subscribe(function(){c.onNext(k);f.remove(a);b()},function(k){c.onError(k)},function(){c.onNext(k);f.remove(a);b()}))},function(k){c.onError(k)},function(){w=!0;e.dispose();b()}))}function b(){w&&0===f.length&&c.onCompleted()}var f=new Ca,w=!1,e=new sa;a?e.setDisposable(a.subscribe(t,function(k){c.onError(k)},t)):t();return new ga(e,f)},k)}function Ic(k,c){return new ja(function(t){var a,l=!1,b=new sa,f=0,w=k.subscribe(function(k){var w=
K(c)(k);if(w===J)return t.onError(w.e);da(w)&&(w=fa(w));l=!0;a=k;f++;var e=f,d=new Z;b.setDisposable(d);d.setDisposable(w.subscribe(function(){l&&f===e&&t.onNext(a);l=!1;d.dispose()},function(c){t.onError(c)},function(){l&&f===e&&t.onNext(a);l=!1;d.dispose()}))},function(c){b.dispose();t.onError(c);l=!1;f++},function(){b.dispose();l&&t.onNext(a);t.onCompleted();l=!1;f++});return new ga(w,b)},k)}function X(k){return k.toArray()}function X(k){return k.toArray()}function ib(k,c,t,a){U(c)&&(a=t,t=c,c=
lc());P.isObservable(a)||(a=w(new Uc));return new ja(function(l){function b(c){function k(){return q=t===g}var t=g,f=new Z;e.setDisposable(f);f.setDisposable(c.subscribe(function(){k()&&w.setDisposable(a.subscribe(l));f.dispose()},function(c){k()&&l.onError(c)},function(){k()&&w.setDisposable(a.subscribe(l))}))}function f(){var c=!q;c&&g++;return c}var w=new sa,e=new sa,d=new Z;w.setDisposable(d);var g=0,q=!1;b(c);d.setDisposable(k.subscribe(function(c){if(f()){l.onNext(c);c=K(t)(c);if(c===J)return l.onError(c.e);
b(da(c)?fa(c):c)}},function(c){f()&&l.onError(c)},function(){f()&&l.onCompleted()}));return new ga(w,e)},k)}function Bd(k,c,t,a){ca(t)&&(a=t,t=w(new Uc));t instanceof Error&&(t=w(t));ca(a)||(a=ia);P.isObservable(t)||(t=w(new Uc));return new ja(function(l){function b(){var k=f;g.setDisposable(a.scheduleFuture(null,c,function(){if(d=f===k)da(t)&&(t=fa(t)),e.setDisposable(t.subscribe(l))}))}var f=0,w=new Z,e=new sa,d=!1,g=new sa;e.setDisposable(w);b();w.setDisposable(k.subscribe(function(c){d||(f++,
l.onNext(c),b())},function(c){d||(f++,l.onError(c))},function(){d||(f++,l.onCompleted())}));return new ga(e,g)},k)}function Jc(k){return{"@@transducer/init":function(){return k},"@@transducer/step":function(c,k){return c.onNext(k)},"@@transducer/result":function(c){return c.onCompleted()}}}function mc(k){this.predicate=k}function fc(k){this.predicate=k}function Ub(k,c){var t=this;this.scheduler=k;this.messages=c;this.subscriptions=[];this.observers=[];for(var a=0,l=this.messages.length;a<l;a++){var b=
this.messages[a];(function(c){k.scheduleAbsolute(null,b.time,function(){for(var k=t.observers.slice(0),a=0,l=k.length;a<l;a++)c.accept(k[a]);return qa})})(b.value)}}var Vb={"function":!0,object:!0},nc=Vb[typeof h]&&h&&!h.nodeType?h:null,oc=Vb[typeof d]&&d&&!d.nodeType?d:null,pc=p(nc&&oc&&"object"===typeof e&&e),va=p(Vb[typeof self]&&self),Kc=p(Vb[typeof ea]&&ea),Ab=oc&&oc.exports===nc?nc:null,qc=p(Vb[typeof this]&&this),ha=pc||Kc!==(qc&&qc.window)&&Kc||va||qc||Function("return this")(),Q={internals:{},
config:{Promise:ha.Promise},helpers:{}},za=Q.helpers.noop=function(){},Ya=Q.helpers.identity=function(k){return k},Nb=Q.helpers.defaultNow=Date.now,gc=Q.helpers.defaultComparer=function(k,c){return ta(k,c)},jb=Q.helpers.defaultSubComparer=function(k,c){return k>c?1:k<c?-1:0};Q.helpers.defaultKeySerializer=function(k){return k.toString()};var rc=Q.helpers.defaultError=function(k){throw k;},da=Q.helpers.isPromise=function(k){return!!k&&"function"!==typeof k.subscribe&&"function"===typeof k.then},U=
Q.helpers.isFunction=function(){var k=function(c){return"function"==typeof c||!1};k(/x/)&&(k=function(c){return"function"==typeof c&&"[object Function]"==toString.call(c)});return k}(),J={e:{}},K=Q.internals.tryCatch=function(k){if(!U(k))throw new TypeError("fn must be a function");return q(k)},Ib=Q.config.longStackSupport=!1,Lc=K(function(){throw Error();})(),Ib=!!Lc.e&&!!Lc.e.stack,bb=E(),Jb,Wa=Q.EmptyError=function(){this.message="Sequence contains no elements.";Error.call(this)};Wa.prototype=
Object.create(Error.prototype);Wa.prototype.name="EmptyError";var Bb=Q.ObjectDisposedError=function(){this.message="Object has been disposed";Error.call(this)};Bb.prototype=Object.create(Error.prototype);Bb.prototype.name="ObjectDisposedError";var Pa=Q.ArgumentOutOfRangeError=function(){this.message="Argument out of range";Error.call(this)};Pa.prototype=Object.create(Error.prototype);Pa.prototype.name="ArgumentOutOfRangeError";var Ob=Q.NotSupportedError=function(k){this.message=k||"This operation is not supported";
Error.call(this)};Ob.prototype=Object.create(Error.prototype);Ob.prototype.name="NotSupportedError";var qb=Q.NotImplementedError=function(k){this.message=k||"This operation is not implemented";Error.call(this)};qb.prototype=Object.create(Error.prototype);qb.prototype.name="NotImplementedError";var Cb=Q.helpers.notImplemented=function(){throw new qb;};Q.helpers.notSupported=function(){throw new Ob;};var Sa="function"===typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";ha.Set&&"function"===typeof(new ha.Set)["@@iterator"]&&
(Sa="@@iterator");var sc=Q.doneEnumerator={done:!0,value:b},sb=Q.helpers.isIterable=function(k){return k&&k[Sa]!==b},Rb=Q.helpers.isArrayLike=function(k){return k&&k.length!==b};Q.helpers.iterator=Sa;var ya=Q.internals.bindCallback=function(k,c,t){if("undefined"===typeof c)return k;switch(t){case 0:return function(){return k.call(c)};case 1:return function(t){return k.call(c,t)};case 2:return function(t,a){return k.call(c,t,a)};case 3:return function(t,a,l){return k.call(c,t,a,l)}}return function(){return k.apply(c,
arguments)}},wa={};wa["[object Float32Array]"]=wa["[object Float64Array]"]=wa["[object Int8Array]"]=wa["[object Int16Array]"]=wa["[object Int32Array]"]=wa["[object Uint8Array]"]=wa["[object Uint8ClampedArray]"]=wa["[object Uint16Array]"]=wa["[object Uint32Array]"]=!0;wa["[object Arguments]"]=wa["[object Array]"]=wa["[object ArrayBuffer]"]=wa["[object Boolean]"]=wa["[object Date]"]=wa["[object Error]"]=wa["[object Function]"]=wa["[object Map]"]=wa["[object Number]"]=wa["[object Object]"]=wa["[object RegExp]"]=
wa["[object Set]"]=wa["[object String]"]=wa["[object WeakMap]"]=!1;var Mc=Object.prototype,Cc=Mc.hasOwnProperty,kc=Mc.toString,Qb=Math.pow(2,53)-1,ac=Object.keys||function(){var k=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),t="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),a=t.length;return function(l){if("object"!==typeof l&&("function"!==typeof l||null===l))throw new TypeError("Object.keys called on non-object");
var b=[],f;for(f in l)k.call(l,f)&&b.push(f);if(c)for(f=0;f<a;f++)k.call(l,t[f])&&b.push(t[f]);return b}}(),Ba=Q.internals.isObject=function(k){var c=typeof k;return!!k&&("object"===c||"function"===c)},Dc=function(){try{Object("[object Object]")}catch(k){return function(){return!1}}return function(c){return"function"!==typeof c.toString&&"string"===typeof(c+"")}}(),jc=Array.isArray||function(k){return u(k)&&z(k.length)&&"[object Array]"===kc.call(k)},ta=Q.internals.isEqual=function(k,c){return I(k,
c)},y=Q.internals.inherits=function(k,c){function t(){this.constructor=k}t.prototype=c.prototype;k.prototype=new t},Db=Q.internals.addProperties=function(k){for(var c=[],t=1,a=arguments.length;t<a;t++)c.push(arguments[t]);t=0;for(a=c.length;t<a;t++){var l=c[t],b;for(b in l)k[b]=l[b]}},ab=Q.internals.addRef=function(k,c){return new ja(function(t){return new ga(c.getDisposable(),k.subscribe(t))})};L.prototype.compareTo=function(k){var c=this.value.compareTo(k.value);0===c&&(c=this.id-k.id);return c};
var Ta=Q.internals.PriorityQueue=function(k){this.items=Array(k);this.length=0},mb=Ta.prototype;mb.isHigherPriority=function(k,c){return 0>this.items[k].compareTo(this.items[c])};mb.percolate=function(k){if(!(k>=this.length||0>k)){var c=k-1>>1;if(!(0>c||c===k)&&this.isHigherPriority(k,c)){var t=this.items[k];this.items[k]=this.items[c];this.items[c]=t;this.percolate(c)}}};mb.heapify=function(k){+k||(k=0);if(!(k>=this.length||0>k)){var c=2*k+1,t=2*k+2,a=k;c<this.length&&this.isHigherPriority(c,a)&&
(a=c);t<this.length&&this.isHigherPriority(t,a)&&(a=t);a!==k&&(c=this.items[k],this.items[k]=this.items[a],this.items[a]=c,this.heapify(a))}};mb.peek=function(){return this.items[0].value};mb.removeAt=function(k){this.items[k]=this.items[--this.length];this.items[this.length]=b;this.heapify()};mb.dequeue=function(){var k=this.peek();this.removeAt(0);return k};mb.enqueue=function(k){var c=this.length++;this.items[c]=new L(Ta.count++,k);this.percolate(c)};mb.remove=function(k){for(var c=0;c<this.length;c++)if(this.items[c].value===
k)return this.removeAt(c),!0;return!1};Ta.count=0;var Ca=Q.CompositeDisposable=function(){var k=[],c,t;if(Array.isArray(arguments[0]))k=arguments[0];else for(t=arguments.length,k=Array(t),c=0;c<t;c++)k[c]=arguments[c];this.disposables=k;this.isDisposed=!1;this.length=k.length},tc=Ca.prototype;tc.add=function(k){this.isDisposed?k.dispose():(this.disposables.push(k),this.length++)};tc.remove=function(k){var c=!1;if(!this.isDisposed){var t=this.disposables.indexOf(k);-1!==t&&(c=!0,this.disposables.splice(t,
1),this.length--,k.dispose())}return c};tc.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var k=this.disposables.length,c=Array(k),t=0;t<k;t++)c[t]=this.disposables[t];this.disposables=[];for(t=this.length=0;t<k;t++)c[t].dispose()}};var Ia=Q.Disposable=function(k){this.isDisposed=!1;this.action=k||za};Ia.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var cb=Ia.create=function(k){return new Ia(k)},qa=Ia.empty={dispose:za},Aa=Ia.isDisposable=function(k){return k&&
U(k.dispose)},Da=Ia.checkDisposed=function(k){if(k.isDisposed)throw new Bb;},hc=Ia._fixup=function(k){return Aa(k)?k:qa},Z=Q.SingleAssignmentDisposable=function(){this.isDisposed=!1;this.current=null};Z.prototype.getDisposable=function(){return this.current};Z.prototype.setDisposable=function(k){if(this.current)throw Error("Disposable has already been assigned");var c=this.isDisposed;!c&&(this.current=k);c&&k&&k.dispose()};Z.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var k=
this.current;this.current=null;k&&k.dispose()}};var sa=Q.SerialDisposable=function(){this.isDisposed=!1;this.current=null};sa.prototype.getDisposable=function(){return this.current};sa.prototype.setDisposable=function(k){var c=this.isDisposed;if(!c){var t=this.current;this.current=k}t&&t.dispose();c&&k&&k.dispose()};sa.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var k=this.current;this.current=null}k&&k.dispose()};var ga=Q.BinaryDisposable=function(k,c){this._first=k;this._second=
c;this.isDisposed=!1};ga.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var k=this._first;this._first=null;k&&k.dispose();k=this._second;this._second=null;k&&k.dispose()}};var db=Q.NAryDisposable=function(k){this._disposables=k;this.isDisposed=!1};db.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var k=0,c=this._disposables.length;k<c;k++)this._disposables[k].dispose();this._disposables.length=0}};var wb=Q.RefCountDisposable=function(){function k(c){this.disposable=
c;this.disposable.count++;this.isInnerDisposed=!1}function c(c){this.underlyingDisposable=c;this.isPrimaryDisposed=this.isDisposed=!1;this.count=0}k.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))};c.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=
!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))};c.prototype.getDisposable=function(){return this.isDisposed?qa:new k(this)};return c}();F.prototype.dispose=function(){this.scheduler.schedule(this,O)};var Eb=Q.internals.ScheduledItem=function(k,c,t,a,l){this.scheduler=k;this.state=c;this.action=t;this.dueTime=a;this.comparer=l||jb;this.disposable=new Z};Eb.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())};Eb.prototype.compareTo=function(k){return this.comparer(this.dueTime,
k.dueTime)};Eb.prototype.isCancelled=function(){return this.disposable.isDisposed};Eb.prototype.invokeCore=function(){return hc(this.action(this.scheduler,this.state))};var oa=Q.Scheduler=function(){function k(){}k.isScheduler=function(c){return c instanceof k};var c=k.prototype;c.schedule=function(c,k){throw new qb;};c.scheduleFuture=function(c,a,l){a instanceof Date&&(a-=this.now());a=k.normalize(a);return 0===a?this.schedule(c,l):this._scheduleFuture(c,a,l)};c._scheduleFuture=function(c,k,a){throw new qb;
};k.now=Nb;k.prototype.now=Nb;k.normalize=function(c){0>c&&(c=0);return c};return k}(),Fc=oa.normalize,ca=oa.isScheduler;(function(k){function c(c,k){function t(k){var a=!1,f=!1,w=c.schedule(k,function(c,k){a?b.remove(w):f=!0;l(k,t);return qa});f||(b.add(w),a=!0)}var a=k[0],l=k[1],b=new Ca;l(a,t);return b}function t(c,k){function t(k,a){var f=!1,w=!1,e=c.scheduleFuture(k,a,function(c,k){f?b.remove(e):w=!0;l(k,t);return qa});w||(b.add(e),f=!0)}var a=k[0],l=k[1],b=new Ca;l(a,t);return b}k.scheduleRecursive=
function(k,t){return this.schedule([k,t],c)};k.scheduleRecursiveFuture=function(c,k,a){return this.scheduleFuture([c,a],k,t)}})(oa.prototype);(function(k){k.schedulePeriodic=function(c,k,a){if("undefined"===typeof ha.setInterval)throw new Ob;k=Fc(k);var l=c,b=ha.setInterval(function(){l=a(l)},k);return cb(function(){ha.clearInterval(b)})}})(oa.prototype);(function(k){k.catchError=k["catch"]=function(c){return new Vc(this,c)}})(oa.prototype);var nb=Q.internals.SchedulePeriodicRecursive=function(){function k(c){return function(k,
a){a(0,c._period);var l=K(c._action)(c._state);l===J&&(c._cancel.dispose(),r(l.e));c._state=l}}function c(c,k,a,l){this._scheduler=c;this._state=k;this._period=a;this._action=l}c.prototype.start=function(){var c=new Z;this._cancel=c;c.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,k(this)));return c};return c}(),pb=function(k){function c(){k.call(this)}y(c,k);c.prototype.schedule=function(c,k){return hc(k(this,c))};return c}(oa),Ua=oa.immediate=new pb,uc=function(k){function c(){for(;0<
a.length;){var c=a.dequeue();!c.isCancelled()&&c.invoke()}}function t(){k.call(this)}var a;y(t,k);t.prototype.schedule=function(k,t){var l=new Eb(this,k,t,this.now());if(a)a.enqueue(l);else{a=new Ta(4);a.enqueue(l);var b=K(c)();a=null;b===J&&r(b.e)}return l.disposable};t.prototype.scheduleRequired=function(){return!a};return t}(oa),Fa=oa.currentThread=new uc,Fb,Nc,Oc=function(){var k,c=za;if(ha.setTimeout)k=ha.setTimeout,c=ha.clearTimeout;else if(ha.WScript)k=function(c,k){ha.WScript.Sleep(k);c()};
else throw new Ob;return{setTimeout:k,clearTimeout:c}}(),Pc=Oc.setTimeout,gd=Oc.clearTimeout;(function(){function k(c){if(l)Pc(function(){k(c)},0);else{var t=a[c];t&&(l=!0,t=K(t)(),Nc(c),l=!1,t===J&&r(t.e))}}function c(){if(!ha.postMessage||ha.importScripts)return!1;var c=!1,k=ha.onmessage;ha.onmessage=function(){c=!0};ha.postMessage("","*");ha.onmessage=k;return c}var t=1,a={},l=!1;Nc=function(c){delete a[c]};var b=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,
".*?")+"$"),w="function"==typeof(w=pc&&Ab&&pc.setImmediate)&&!b.test(w)&&w;if(U(w))Fb=function(c){var l=t++;a[l]=c;w(function(){k(l)});return l};else if("undefined"!==typeof f&&"[object process]"==={}.toString.call(f))Fb=function(c){var l=t++;a[l]=c;f.nextTick(function(){k(l)});return l};else if(c()){var e="ms.rx.schedule"+Math.random();ha.addEventListener("message",function(c){"string"===typeof c.data&&c.data.substring(0,e.length)===e&&k(c.data.substring(e.length))},!1);Fb=function(c){var k=t++;
a[k]=c;ha.postMessage(e+k,"*");return k}}else if(ha.MessageChannel){var d=new ha.MessageChannel;d.port1.onmessage=function(c){k(c.data)};Fb=function(c){var k=t++;a[k]=c;d.port2.postMessage(k);return k}}else Fb="document"in ha&&"onreadystatechange"in ha.document.createElement("script")?function(c){var l=ha.document.createElement("script"),b=t++;a[b]=c;l.onreadystatechange=function(){k(b);l.onreadystatechange=null;l.parentNode.removeChild(l);l=null};ha.document.documentElement.appendChild(l);return b}:
function(c){var l=t++;a[l]=c;Pc(function(){k(l)},0);return l}})();var Wc=function(k){function c(){k.call(this)}function t(c,k,t,a){return function(){c.setDisposable(Ia._fixup(k(t,a)))}}function a(c){this._id=c;this.isDisposed=!1}function l(c){this._id=c;this.isDisposed=!1}function b(c,k,t){return function(){k(c,t)}}y(c,k);a.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Nc(this._id))};l.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,gd(this._id))};c.prototype.schedule=
function(c,k){var l=new Z,b=Fb(t(l,k,this,c));return new ga(l,new a(b))};c.prototype._scheduleFuture=function(c,k,a){if(0===k)return this.schedule(c,a);var S=new Z;c=Pc(t(S,a,this,c),k);return new ga(S,new l(c))};c.prototype.scheduleLongRunning=function(c,k){var t=cb(za);Fb(b(c,k,t));return t};return c}(oa),ia=oa["default"]=oa.async=new Wc,Vc=function(k){function c(c,a){this._scheduler=c;this._handler=a;this._recursiveWrapper=this._recursiveOriginal=null;k.call(this)}y(c,k);c.prototype.schedule=function(c,
k){return this._scheduler.schedule(c,this._wrap(k))};c.prototype._scheduleFuture=function(c,k,a){return this._scheduler.schedule(c,k,this._wrap(a))};c.prototype.now=function(){return this._scheduler.now()};c.prototype._clone=function(k){return new c(k,this._handler)};c.prototype._wrap=function(c){var k=this;return function(a,l){var b=K(c)(k._getRecursiveWrapper(a),l);return b===J?(k._handler(b.e)||r(b.e),qa):hc(b)}};c.prototype._getRecursiveWrapper=function(c){if(this._recursiveOriginal!==c){this._recursiveOriginal=
c;var k=this._clone(c);k._recursiveOriginal=c;this._recursiveWrapper=k._recursiveWrapper=k}return this._recursiveWrapper};c.prototype.schedulePeriodic=function(c,k,a){var l=this,b=!1,f=new Z;f.setDisposable(this._scheduler.schedulePeriodic(c,k,function(c){if(b)return null;c=K(a)(c);return c===J?(b=!0,l._handler(c.e)||r(c.e),f.dispose(),null):c}));return f};return c}(oa),Na=Q.Notification=function(){function k(){}k.prototype._accept=function(c,k,a){throw new qb;};k.prototype._acceptObserver=function(c,
k,a){throw new qb;};k.prototype.accept=function(c,k,a){return c&&"object"===typeof c?this._acceptObserver(c):this._accept(c,k,a)};k.prototype.toObservable=function(c){var k=this;ca(c)||(c=Ua);return new ja(function(a){return c.schedule(k,function(c,k){k._acceptObserver(a);"N"===k.kind&&a.onCompleted()})})};return k}(),Xc=function(k){function c(c){this.value=c;this.kind="N"}y(c,k);c.prototype._accept=function(c){return c(this.value)};c.prototype._acceptObserver=function(c){return c.onNext(this.value)};
c.prototype.toString=function(){return"OnNext("+this.value+")"};return c}(Na),Wb=function(k){function c(c){this.error=c;this.kind="E"}y(c,k);c.prototype._accept=function(c,k){return k(this.error)};c.prototype._acceptObserver=function(c){return c.onError(this.error)};c.prototype.toString=function(){return"OnError("+this.error+")"};return c}(Na),ma=function(k){function c(){this.kind="C"}y(c,k);c.prototype._accept=function(c,k,a){return a()};c.prototype._acceptObserver=function(c){return c.onCompleted()};
c.prototype.toString=function(){return"OnCompleted()"};return c}(Na),Yc=Na.createOnNext=function(k){return new Xc(k)},Qc=Na.createOnError=function(k){return new Wb(k)},vc=Na.createOnCompleted=function(){return new ma},Ka=Q.Observer=function(){};Ka.prototype.toNotifier=function(){var k=this;return function(c){return c.accept(k)}};Ka.prototype.asObserver=function(){var k=this;return new wc(function(c){k.onNext(c)},function(c){k.onError(c)},function(){k.onCompleted()})};Ka.prototype.checked=function(){return new Rc(this)};
var ob=Ka.create=function(k,c,a){k||(k=za);c||(c=rc);a||(a=za);return new wc(k,c,a)};Ka.fromNotifier=function(k,c){var a=ya(k,c,1);return new wc(function(c){return a(Yc(c))},function(c){return a(Qc(c))},function(){return a(vc())})};Ka.prototype.notifyOn=function(k){return new Xb(k,this)};Ka.prototype.makeSafe=function(k){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,k)};var M=Q.internals.AbstractObserver=function(k){function c(){this.isStopped=!1}y(c,k);c.prototype.next=
Cb;c.prototype.error=Cb;c.prototype.completed=Cb;c.prototype.onNext=function(c){!this.isStopped&&this.next(c)};c.prototype.onError=function(c){this.isStopped||(this.isStopped=!0,this.error(c))};c.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())};c.prototype.dispose=function(){this.isStopped=!0};c.prototype.fail=function(c){return this.isStopped?!1:(this.isStopped=!0,this.error(c),!0)};return c}(Ka),wc=Q.AnonymousObserver=function(k){function c(c,a,l){k.call(this);
this._onNext=c;this._onError=a;this._onCompleted=l}y(c,k);c.prototype.next=function(c){this._onNext(c)};c.prototype.error=function(c){this._onError(c)};c.prototype.completed=function(){this._onCompleted()};return c}(M),Rc=function(k){function c(c){k.call(this);this._observer=c;this._state=0}y(c,k);var a=c.prototype;a.onNext=function(c){this.checkAccess();c=K(this._observer.onNext).call(this._observer,c);this._state=0;c===J&&r(c.e)};a.onError=function(c){this.checkAccess();c=K(this._observer.onError).call(this._observer,
c);this._state=2;c===J&&r(c.e)};a.onCompleted=function(){this.checkAccess();var c=K(this._observer.onCompleted).call(this._observer);this._state=2;c===J&&r(c.e)};a.checkAccess=function(){if(1===this._state)throw Error("Re-entrancy detected");if(2===this._state)throw Error("Observer completed");0===this._state&&(this._state=1)};return c}(Ka),xc=Q.internals.ScheduledObserver=function(k){function c(c,a){k.call(this);this.scheduler=c;this.observer=a;this.hasFaulted=this.isAcquired=!1;this.queue=[];this.disposable=
new sa}function a(c,k){return function(){c.onNext(k)}}function l(c,k){return function(){c.onError(k)}}function b(c){return function(){c.onCompleted()}}function f(c,k){var a;if(0<c.queue.length){a=c.queue.shift();a=K(a)();if(a===J)return c.queue=[],c.hasFaulted=!0,r(a.e);k(c)}else c.isAcquired=!1}y(c,k);c.prototype.next=function(c){this.queue.push(a(this.observer,c))};c.prototype.error=function(c){this.queue.push(l(this.observer,c))};c.prototype.completed=function(){this.queue.push(b(this.observer))};
c.prototype.ensureActive=function(){var c=!1;!this.hasFaulted&&0<this.queue.length&&(c=!this.isAcquired,this.isAcquired=!0);c&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,f))};c.prototype.dispose=function(){k.prototype.dispose.call(this);this.disposable.dispose()};return c}(M),Xb=function(k){function c(c,a,l){k.call(this,c,a);this._cancel=l}y(c,k);c.prototype.next=function(c){k.prototype.next.call(this,c);this.ensureActive()};c.prototype.error=function(c){k.prototype.error.call(this,
c);this.ensureActive()};c.prototype.completed=function(){k.prototype.completed.call(this);this.ensureActive()};c.prototype.dispose=function(){k.prototype.dispose.call(this);this._cancel&&this._cancel.dispose();this._cancel=null};return c}(xc),D,P=Q.Observable=function(){function k(c,k){return function(a){var l=a.onError;a.onError=function(k){if(Ib&&c.stack&&"object"===typeof k&&null!==k&&k.stack&&-1===k.stack.indexOf("From previous event:")){for(var S=[],b=c;b;b=b.source)b.stack&&S.unshift(b.stack);
S.unshift(k.stack);for(var S=S.join("\nFrom previous event:\n").split("\n"),b=[],f=0,w=S.length;f<w;f++){var e=S[f],d;if(d=B(e)){var g=d[1];d=d[0]===Jb&&g>=bb&&g<=Dd}else d=!1;if(d=!d)d=e,d=!(-1!==d.indexOf("(module.js:")||-1!==d.indexOf("(node.js:"));d&&e&&b.push(e)}S=b.join("\n");k.stack=S}l.call(a,k)};return k.call(c,a)}}function c(){if(Q.config.longStackSupport&&Ib){var c=this._subscribe,a=K(r)(Error()).e;this.stack=a.stack.substring(a.stack.indexOf("\n")+1);this._subscribe=k(this,c)}}D=c.prototype;
c.isObservable=function(c){return c&&U(c.subscribe)};D.subscribe=D.forEach=function(c,k,a){return this._subscribe("object"===typeof c?c:ob(c,k,a))};D.subscribeOnNext=function(c,k){return this._subscribe(ob("undefined"!==typeof k?function(a){c.call(k,a)}:c))};D.subscribeOnError=function(c,k){return this._subscribe(ob(null,"undefined"!==typeof k?function(a){c.call(k,a)}:c))};D.subscribeOnCompleted=function(c,k){return this._subscribe(ob(null,null,"undefined"!==typeof k?function(){c.call(k)}:c))};return c}(),
N=Q.ObservableBase=function(k){function c(c){return c&&U(c.dispose)?c:U(c)?cb(c):qa}function a(k,t){var l=t[0],S=t[1],S=K(S.subscribeCore).call(S,l);S!==J||l.fail(J.e)||r(J.e);l.setDisposable(c(S))}function l(){k.call(this)}y(l,k);l.prototype._subscribe=function(c){c=new od(c);var k=[c,this];Fa.scheduleRequired()?Fa.schedule(k,a):a(null,k);return c};l.prototype.subscribeCore=Cb;return l}(P),Yb=Q.FlatMapObservable=function(k){function c(c,a,t,l){this.resultSelector=U(t)?t:null;this.selector=ya(U(a)?
a:function(){return a},l,3);this.source=c;k.call(this)}function a(c,k,t,l){this.i=0;this.selector=k;this.resultSelector=t;this.source=l;this.o=c;M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new a(c,this.selector,this.resultSelector,this))};y(a,M);a.prototype._wrapResult=function(c,k,a){return this.resultSelector?c.map(function(c,t){return this.resultSelector(k,c,a,t)},this):c};a.prototype.next=function(c){var k=this.i++,a=K(this.selector)(c,k,this.source);
if(a===J)return this.o.onError(a.e);da(a)&&(a=fa(a));(Rb(a)||sb(a))&&(a=P.from(a));this.o.onNext(this._wrapResult(a,c,k))};a.prototype.error=function(c){this.o.onError(c)};a.prototype.completed=function(){this.o.onCompleted()};return c}(N),rb=Q.internals.Enumerable=function(){};n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Sc=function(k){function c(c){this.sources=c;k.call(this)}function a(c,k){if(!c.isDisposed){var t=K(c.e.next).call(c.e);if(t===
J)return c.o.onError(t.e);if(t.done)return c.o.onCompleted();t=t.value;da(t)&&(t=fa(t));var b=new Z;c.subscription.setDisposable(b);b.setDisposable(t.subscribe(new l(c,k)))}}function l(c,k){this._state=c;this._recurse=k;M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new sa;c={isDisposed:!1,o:c,subscription:k,e:this.sources[Sa]()};var l=Fa.scheduleRecursive(c,a);return new db([k,l,new n(c)])};y(l,M);l.prototype.next=function(c){this._state.o.onNext(c)};l.prototype.error=function(c){this._state.o.onError(c)};
l.prototype.completed=function(){this._recurse(this._state)};return c}(N);rb.prototype.concat=function(){return new Sc(this)};var Pb=function(k){function c(c){this.sources=c;k.call(this)}function a(c,k){if(!c.isDisposed){var t=K(c.e.next).call(c.e);if(t===J)return c.o.onError(t.e);if(t.done)return null!==c.lastError?c.o.onError(c.lastError):c.o.onCompleted();t=t.value;da(t)&&(t=fa(t));var b=new Z;c.subscription.setDisposable(b);b.setDisposable(t.subscribe(new l(c,k)))}}function l(c,k){this._state=
c;this._recurse=k;M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new sa;c={isDisposed:!1,e:this.sources[Sa](),subscription:k,lastError:null,o:c};var l=Fa.scheduleRecursive(c,a);return new db([k,l,new n(c)])};y(l,M);l.prototype.next=function(c){this._state.o.onNext(c)};l.prototype.error=function(c){this._state.lastError=c;this._recurse(this._state)};l.prototype.completed=function(){this._state.o.onCompleted()};return c}(N);rb.prototype.catchError=function(){return new Pb(this)};var hd=
function(k){function c(c,k){this.v=c;this.c=null==k?-1:k}function a(c){this.v=c.v;this.l=c.c}y(c,k);c.prototype[Sa]=function(){return new a(this)};a.prototype.next=function(){if(0===this.l)return sc;0<this.l&&this.l--;return{done:!1,value:this.v}};return c}(rb),Zc=rb.repeat=function(k,c){return new hd(k,c)},Tc=function(k){function c(c,k,a){this.s=c;this.fn=k?ya(k,a,3):null}function a(c){this.i=-1;this.s=c.s;this.l=this.s.length;this.fn=c.fn}y(c,k);c.prototype[Sa]=function(){return new a(this)};a.prototype.next=
function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:sc};return c}(rb),yc=rb.of=function(k,c,a){return new Tc(k,c,a)},$c=function(k){function c(c,a){this.source=c;this._s=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Xb(this._s,c))};return c}(N);D.observeOn=function(k){return new $c(this,k)};var ka=function(k){function c(c,a){this.source=c;this._s=a;k.call(this)}function a(c,k){k[1].setDisposable(new F(c,
k[0].subscribe(k[2])))}y(c,k);c.prototype.subscribeCore=function(c){var k=new Z,l=new sa;l.setDisposable(k);k.setDisposable(this._s.schedule([this.source,l,c],a));return l};return c}(N);D.subscribeOn=function(k){return new ka(this,k)};var ad=function(k){function c(c,a){this._p=c;this._s=a;k.call(this)}function a(c,k){var l=k[0];l.onNext(k[1]);l.onCompleted()}function l(c,k){k[0].onError(k[1])}y(c,k);c.prototype.subscribeCore=function(c){var k=new Z,b=this,f=this._p;if(U(f)&&(f=K(f)(),f===J))return c.onError(f.e),
k;f.then(function(l){k.setDisposable(b._s.schedule([c,l],a))},function(a){k.setDisposable(b._s.schedule([c,a],l))});return k};return c}(N),fa=P.fromPromise=function(k,c){c||(c=ia);return new ad(k,c)};D.toPromise=function(k){k||(k=Q.config.Promise);if(!k)throw new Ob("Promise type not provided nor in Rx.config.Promise");var c=this;return new k(function(k,a){var l;c.subscribe(function(c){l=c},a,function(){k(l)})})};var id=function(k){function c(c){this.source=c;k.call(this)}function a(c){this.o=c;this.a=
[];M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new a(c))};y(a,M);a.prototype.next=function(c){this.a.push(c)};a.prototype.error=function(c){this.o.onError(c)};a.prototype.completed=function(){this.o.onNext(this.a);this.o.onCompleted()};return c}(N);D.toArray=function(){return new id(this)};P.create=function(k,c){return new ja(k,c)};var jd=function(k){function c(c){this._f=c;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=K(this._f)();if(k===
J)return w(k.e).subscribe(c);da(k)&&(k=fa(k));return k.subscribe(c)};return c}(N),Tb=P.defer=function(k){return new jd(k)},Oa=function(k){function c(c){this.scheduler=c;k.call(this)}function a(c,k){this.observer=c;this.scheduler=k}function l(c,k){k.onCompleted();return qa}y(c,k);c.prototype.subscribeCore=function(c){return(new a(c,this.scheduler)).run()};a.prototype.run=function(){var c=this.observer;return this.scheduler===Ua?l(null,c):this.scheduler.schedule(c,l)};return c}(N),ic=new Oa(Ua),Mb=
P.empty=function(k){ca(k)||(k=Ua);return k===Ua?ic:new Oa(k)},bd=function(k){function c(c,a,l){this._iterable=c;this._fn=a;this._scheduler=l;k.call(this)}function a(c,k,l){return function(a,t){var b=K(k.next).call(k);if(b===J)return c.onError(b.e);if(b.done)return c.onCompleted();b=b.value;if(U(l)&&(b=K(l)(b,a),b===J))return c.onError(b.e);c.onNext(b);t(a+1)}}y(c,k);c.prototype.subscribeCore=function(c){var k;k=Object(this._iterable);var l=k[Sa];if(l||"string"!==typeof k)if(l||k.length===b){if(!l)throw new TypeError("Object is not iterable");
}else k=new pa(k);else k=new T(k);k=k[Sa]();return this._scheduler.scheduleRecursive(0,a(c,k,this._fn))};return c}(N),Ja=Math.pow(2,53)-1;T.prototype[Sa]=function(){return new W(this._s)};W.prototype[Sa]=function(){return this};W.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:sc};pa.prototype[Sa]=function(){return new R(this._a)};R.prototype[Sa]=function(){return this};R.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:
sc};var bc=P.from=function(k,c,a,l){if(null==k)throw Error("iterable cannot be null.");if(c&&!U(c))throw Error("mapFn when provided must be a function");if(c)var b=ya(c,a,2);ca(l)||(l=Fa);return new bd(k,b,l)},Ma=function(k){function c(c,a){this._args=c;this._scheduler=a;k.call(this)}function a(c,k){var l=k.length;return function(a,t){if(a<l)c.onNext(k[a]),t(a+1);else c.onCompleted()}}y(c,k);c.prototype.subscribeCore=function(c){return this._scheduler.scheduleRecursive(0,a(c,this._args))};return c}(N),
cd=P.fromArray=function(k,c){ca(c)||(c=Fa);return new Ma(k,c)},zc=function(k){function c(c,a,l,t,b){this._initialState=c;this._cndFn=a;this._itrFn=l;this._resFn=t;this._s=b;k.call(this)}function a(c,k){if(c.first)c.first=!1;else if(c.newState=K(c.self._itrFn)(c.newState),c.newState===J)return c.o.onError(c.newState.e);var l=K(c.self._cndFn)(c.newState);if(l===J)return c.o.onError(l.e);if(l){l=K(c.self._resFn)(c.newState);if(l===J)return c.o.onError(l.e);c.o.onNext(l);k(c)}else c.o.onCompleted()}y(c,
k);c.prototype.subscribeCore=function(c){return this._s.scheduleRecursive({o:c,self:this,first:!0,newState:this._initialState},a)};return c}(N);P.generate=function(k,c,a,l,b){ca(b)||(b=Fa);return new zc(k,c,a,l,b)};P.of=function(){for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];return new Ma(c,Fa)};P.ofWithScheduler=function(k){for(var c=arguments.length,a=Array(c-1),l=1;l<c;l++)a[l-1]=arguments[l];return new Ma(a,k)};P.ofArrayChanges=function(k){if(!Array.isArray(k))throw new TypeError("Array.observe only accepts arrays.");
if("function"!==typeof Array.observe&&"function"!==typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new ja(function(c){function a(k){for(var l=0,t=k.length;l<t;l++)c.onNext(k[l])}Array.observe(k,a);return function(){Array.unobserve(k,a)}})};P.ofObjectChanges=function(k){if(null==k)throw new TypeError("object must not be null or undefined.");if("function"!==typeof Object.observe&&"function"!==typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");
return new ja(function(c){function a(k){for(var l=0,t=k.length;l<t;l++)c.onNext(k[l])}Object.observe(k,a);return function(){Object.unobserve(k,a)}})};var dd=new (function(k){function c(){k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return qa};return c}(N)),lc=P.never=function(){return dd},Zb=function(k){function c(c,a){this._o=c;this._keys=Object.keys(c);this._scheduler=a;k.call(this)}function a(c,k,l){return function(a,t){if(a<l.length){var b=l[a];c.onNext([b,k[b]]);t(a+1)}else c.onCompleted()}}
y(c,k);c.prototype.subscribeCore=function(c){return this._scheduler.scheduleRecursive(0,a(c,this._o,this._keys))};return c}(N);P.pairs=function(k,c){c||(c=Fa);return new Zb(k,c)};var $b=function(k){function c(c,a,l){this.start=c;this.rangeCount=a;this.scheduler=l;k.call(this)}function a(c,k,l){return function(a,t){if(a<k)l.onNext(c+a),t(a+1);else l.onCompleted()}}y(c,k);c.prototype.subscribeCore=function(c){return this.scheduler.scheduleRecursive(0,a(this.start,this.rangeCount,c))};return c}(N);P.range=
function(k,c,a){ca(a)||(a=Fa);return new $b(k,c,a)};var Qa=function(k){function c(c,a,l){this.value=c;this.repeatCount=null==a?-1:a;this.scheduler=l;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return(new ba(c,this)).run()};return c}(N);ba.prototype.run=function(){var k=this.observer,c=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,function(a,l){if(-1===a||0<a)k.onNext(c),0<a&&a--;if(0===a)return k.onCompleted();l(a)})};P.repeat=function(k,c,
a){ca(a)||(a=Fa);return new Qa(k,c,a)};var Ac=function(k){function c(c,a){this._value=c;this._scheduler=a;k.call(this)}function a(c,k){var l=k[1];l.onNext(k[0]);l.onCompleted();return qa}y(c,k);c.prototype.subscribeCore=function(c){c=[this._value,c];return this._scheduler===Ua?a(null,c):this._scheduler.schedule(c,a)};return c}(N);P["return"]=P.just=function(k,c){ca(c)||(c=Ua);return new Ac(k,c)};var l=function(k){function c(c,a){this._error=c;this._scheduler=a;k.call(this)}function a(c,k){k[1].onError(k[0]);
return qa}y(c,k);c.prototype.subscribeCore=function(c){c=[this._error,c];return this._scheduler===Ua?a(null,c):this._scheduler.schedule(c,a)};return c}(N),w=P["throw"]=function(k,c){ca(c)||(c=Ua);return new l(k,c)},Ed=function(k){function c(c,a){this._resFn=c;this._obsFn=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=qa,a=K(this._resFn)();if(a===J)return new ga(w(a.e).subscribe(c),k);a&&(k=a);a=K(this._obsFn)(a);return a===J?new ga(w(a.e).subscribe(c),k):new ga(a.subscribe(c),k)};
return c}(N);P.using=function(k,c){return new Ed(k,c)};D.amb=function(k){var c=this;return new ja(function(a){function l(){f||(f="L",e.dispose())}function b(){f||(f="R",w.dispose())}var f,w=new Z,e=new Z;da(k)&&(k=fa(k));var d=ob(function(c){l();"L"===f&&a.onNext(c)},function(c){l();"L"===f&&a.onError(c)},function(){l();"L"===f&&a.onCompleted()}),g=ob(function(c){b();"R"===f&&a.onNext(c)},function(c){b();"R"===f&&a.onError(c)},function(){b();"R"===f&&a.onCompleted()});w.setDisposable(c.subscribe(d));
e.setDisposable(k.subscribe(g));return new ga(w,e)})};P.amb=function(){var k=lc(),c;if(Array.isArray(arguments[0]))c=arguments[0];else{var a=arguments.length;c=Array(c);for(var l=0;l<a;l++)c[l]=arguments[l]}l=0;for(a=c.length;l<a;l++)k=k.amb(c[l]);return k};var Gd=function(k){function c(c,a){this.source=c;this._fn=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new Z,a=new sa;a.setDisposable(k);k.setDisposable(this.source.subscribe(new Fd(c,a,this._fn)));return a};return c}(N),Fd=
function(k){function c(c,a,l){this._o=c;this._s=a;this._fn=l;k.call(this)}y(c,k);c.prototype.next=function(c){this._o.onNext(c)};c.prototype.completed=function(){return this._o.onCompleted()};c.prototype.error=function(c){c=K(this._fn)(c);if(c===J)return this._o.onError(c.e);da(c)&&(c=fa(c));var k=new Z;this._s.setDisposable(k);k.setDisposable(c.subscribe(this._o))};return c}(M);D["catch"]=function(k){return U(k)?new Gd(this,k):Hd([this,k])};var Hd=P["catch"]=function(){var k;if(Array.isArray(arguments[0]))k=
arguments[0];else{var c=arguments.length;k=Array(c);for(var a=0;a<c;a++)k[a]=arguments[a]}return yc(k).catchError()};D.combineLatest=function(){for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];Array.isArray(c[0])?c[0].unshift(this):c.unshift(this);return Id.apply(this,c)};var Kd=function(k){function c(c,a){this._params=c;this._cb=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){for(var k=this._params.length,a=Array(k),l={hasValue:G(k,aa),hasValueAll:!1,isDone:G(k,aa),
values:Array(k)},b=0;b<k;b++){var f=this._params[b],w=new Z;a[b]=w;da(f)&&(f=fa(f));w.setDisposable(f.subscribe(new Jd(c,b,this._cb,l)))}return new db(a)};return c}(N),Jd=function(k){function c(c,a,l,t){this._o=c;this._i=a;this._cb=l;this._state=t;k.call(this)}function a(c){return function(k,a){return a!==c}}y(c,k);c.prototype.next=function(c){this._state.values[this._i]=c;this._state.hasValue[this._i]=!0;if(this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Ya))){c=K(this._cb).apply(null,
this._state.values);if(c===J)return this._o.onError(c.e);this._o.onNext(c)}else if(this._state.isDone.filter(a(this._i)).every(Ya))this._o.onCompleted()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._state.isDone[this._i]=!0;this._state.isDone.every(Ya)&&this._o.onCompleted()};return c}(M),Id=P.combineLatest=function(){for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];k=U(c[k-1])?c.pop():ua;Array.isArray(c[0])&&(c=c[0]);return new Kd(c,
k)};D.concat=function(){for(var k=[],c=0,a=arguments.length;c<a;c++)k.push(arguments[c]);k.unshift(this);return kd.apply(null,k)};var Ld=function(k){function c(c,a){this._s=c;this._fn=a;k.call(this)}y(c,k);c.prototype.next=function(c){this._s.o.onNext(c)};c.prototype.error=function(c){this._s.o.onError(c)};c.prototype.completed=function(){this._s.i++;this._fn(this._s)};return c}(M),Md=function(k){function c(c){this._sources=c;k.call(this)}function a(c,k){if(!c.disposable.isDisposed){if(c.i===c.sources.length)return c.o.onCompleted();
var l=c.sources[c.i];da(l)&&(l=fa(l));var t=new Z;c.subscription.setDisposable(t);t.setDisposable(l.subscribe(new Ld(c,k)))}}y(c,k);c.prototype.subscribeCore=function(c){var k=new sa,l=cb(za);c=Ua.scheduleRecursive({o:c,i:0,subscription:k,disposable:l,sources:this._sources},a);return new db([k,l,c])};return c}(N),kd=P.concat=function(){var k;if(Array.isArray(arguments[0]))k=arguments[0];else{k=Array(arguments.length);for(var c=0,a=arguments.length;c<a;c++)k[c]=arguments[c]}return new Md(k)};D.concatAll=
function(){return this.merge(1)};var Od=function(k){function c(c,a){this.source=c;this.maxConcurrent=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new Ca;k.add(this.source.subscribe(new Nd(c,this.maxConcurrent,k)));return k};return c}(N),Nd=function(k){function c(c,a,l){this.o=c;this.max=a;this.g=l;this.done=!1;this.q=[];this.activeCount=0;k.call(this)}function a(c,l){this.parent=c;this.sad=l;k.call(this)}y(c,k);c.prototype.handleSubscribe=function(c){var k=new Z;this.g.add(k);
da(c)&&(c=fa(c));k.setDisposable(c.subscribe(new a(this,k)))};c.prototype.next=function(c){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(c)):this.q.push(c)};c.prototype.error=function(c){this.o.onError(c)};c.prototype.completed=function(){this.done=!0;0===this.activeCount&&this.o.onCompleted()};y(a,k);a.prototype.next=function(c){this.parent.o.onNext(c)};a.prototype.error=function(c){this.parent.o.onError(c)};a.prototype.completed=function(){this.parent.g.remove(this.sad);0<this.parent.q.length?
this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())};return c}(M);D.merge=function(k){return"number"!==typeof k?Pd(this,k):new Od(this,k)};var Pd=P.merge=function(){var k,c=[],a,l=arguments.length;arguments[0]?ca(arguments[0])?(k=arguments[0],a=1):(k=Ua,a=0):(k=Ua,a=1);for(;a<l;a++)c.push(arguments[a]);Array.isArray(c[0])&&(c=c[0]);return Y(k,c).mergeAll()},Rd=function(k){function c(c){this.source=
c;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new Ca,a=new Z;k.add(a);a.setDisposable(this.source.subscribe(new Qd(c,k)));return k};return c}(N),Qd=function(k){function c(c,a){this.o=c;this.g=a;this.done=!1;k.call(this)}function a(c,l){this.parent=c;this.sad=l;k.call(this)}y(c,k);c.prototype.next=function(c){var k=new Z;this.g.add(k);da(c)&&(c=fa(c));k.setDisposable(c.subscribe(new a(this,k)))};c.prototype.error=function(c){this.o.onError(c)};c.prototype.completed=function(){this.done=
!0;1===this.g.length&&this.o.onCompleted()};y(a,k);a.prototype.next=function(c){this.parent.o.onNext(c)};a.prototype.error=function(c){this.parent.o.onError(c)};a.prototype.completed=function(){this.parent.g.remove(this.sad);this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()};return c}(M);D.mergeAll=function(){return new Rd(this)};var ld=Q.CompositeError=function(k){this.innerErrors=k;this.message="This contains multiple errors. Check the innerErrors";Error.call(this)};ld.prototype=
Object.create(Error.prototype);ld.prototype.name="CompositeError";var Td=function(k){function c(c){this.source=c;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new Ca,a=new Z;c={isStopped:!1,errors:[],o:c};k.add(a);a.setDisposable(this.source.subscribe(new Sd(k,c)));return k};return c}(N),Sd=function(k){function c(c,a){this._group=c;this._state=a;k.call(this)}function a(c,k){if(0===k.length)c.onCompleted();else if(1===k.length)c.onError(k[0]);else c.onError(new ld(k))}function l(c,
a,t){this._inner=c;this._group=a;this._state=t;k.call(this)}y(c,k);c.prototype.next=function(c){var k=new Z;this._group.add(k);da(c)&&(c=fa(c));k.setDisposable(c.subscribe(new l(k,this._group,this._state)))};c.prototype.error=function(c){this._state.errors.push(c);this._state.isStopped=!0;1===this._group.length&&a(this._state.o,this._state.errors)};c.prototype.completed=function(){this._state.isStopped=!0;1===this._group.length&&a(this._state.o,this._state.errors)};y(l,k);l.prototype.next=function(c){this._state.o.onNext(c)};
l.prototype.error=function(c){this._state.errors.push(c);this._group.remove(this._inner);this._state.isStopped&&1===this._group.length&&a(this._state.o,this._state.errors)};l.prototype.completed=function(){this._group.remove(this._inner);this._state.isStopped&&1===this._group.length&&a(this._state.o,this._state.errors)};return c}(M);P.mergeDelayError=function(){var k;if(Array.isArray(arguments[0]))k=arguments[0];else{var c=arguments.length;k=Array(c);for(var a=0;a<c;a++)k[a]=arguments[a]}k=Y(null,
k);return new Td(k)};D.onErrorResumeNext=function(k){if(!k)throw Error("Second observable is required");return Ud([this,k])};var Wd=function(k){function c(c){this.sources=c;k.call(this)}function a(c,k){if(c.pos<c.sources.length){var l=c.sources[c.pos++];da(l)&&(l=fa(l));var t=new Z;c.subscription.setDisposable(t);t.setDisposable(l.subscribe(new Vd(c,k)))}else c.o.onCompleted()}y(c,k);c.prototype.subscribeCore=function(c){var k=new sa;c=Ua.scheduleRecursive({pos:0,subscription:k,o:c,sources:this.sources},
a);return new ga(k,c)};return c}(N),Vd=function(k){function c(c,a){this._state=c;this._recurse=a;k.call(this)}y(c,k);c.prototype.next=function(c){this._state.o.onNext(c)};c.prototype.error=function(){this._recurse(this._state)};c.prototype.completed=function(){this._recurse(this._state)};return c}(M),Ud=P.onErrorResumeNext=function(){var k=[];if(Array.isArray(arguments[0]))k=arguments[0];else for(var c=arguments.length,k=Array(c),a=0;a<c;a++)k[a]=arguments[a];return new Wd(k)},Zd=function(k){function c(c,
a){this._s=c;this._o=da(a)?fa(a):a;this._open=!1;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new Z;k.setDisposable(this._s.subscribe(new Xd(c,this)));da(this._o)&&(this._o=fa(this._o));var a=new Z;a.setDisposable(this._o.subscribe(new Yd(c,this,a)));return new ga(k,a)};return c}(N),Xd=function(k){function c(c,a){this._o=c;this._p=a;k.call(this)}y(c,k);c.prototype.next=function(c){this._p._open&&this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.onCompleted=
function(){this._p._open&&this._o.onCompleted()};return c}(M),Yd=function(k){function c(c,a,l){this._o=c;this._p=a;this._r=l;k.call(this)}y(c,k);c.prototype.next=function(){this._p._open=!0;this._r.dispose()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.onCompleted=function(){this._r.dispose()};return c}(M);D.skipUntil=function(k){return new Zd(this,k)};var $d=function(k){function c(c){this.source=c;k.call(this)}function a(c,k){this.o=c;this.inner=k;this.stopped=!1;this.latest=0;
this.hasLatest=!1;M.call(this)}function l(c,k){this.parent=c;this.id=k;M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=new sa;c=this.source.subscribe(new a(c,k));return new ga(c,k)};y(a,M);a.prototype.next=function(c){var k=new Z,a=++this.latest;this.hasLatest=!0;this.inner.setDisposable(k);da(c)&&(c=fa(c));k.setDisposable(c.subscribe(new l(this,a)))};a.prototype.error=function(c){this.o.onError(c)};a.prototype.completed=function(){this.stopped=!0;!this.hasLatest&&this.o.onCompleted()};
y(l,M);l.prototype.next=function(c){this.parent.latest===this.id&&this.parent.o.onNext(c)};l.prototype.error=function(c){this.parent.latest===this.id&&this.parent.o.onError(c)};l.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())};return c}(N);D["switch"]=D.switchLatest=function(){return new $d(this)};var be=function(k){function c(c,a){this.source=c;this.other=da(a)?fa(a):a;k.call(this)}y(c,k);c.prototype.subscribeCore=
function(c){return new ga(this.source.subscribe(c),this.other.subscribe(new ae(c)))};return c}(N),ae=function(k){function c(c){this._o=c;k.call(this)}y(c,k);c.prototype.next=function(){this._o.onCompleted()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.onCompleted=za;return c}(M);D.takeUntil=function(k){return new be(this,k)};var ee=function(k){function c(c,a,l){this._s=c;this._ss=a;this._cb=l;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){for(var k=this._ss.length,k={hasValue:G(k,
aa),hasValueAll:!1,values:Array(k)},a=this._ss.length,l=Array(a+1),b=0;b<a;b++){var f=this._ss[b],w=new Z;da(f)&&(f=fa(f));w.setDisposable(f.subscribe(new ce(c,b,k)));l[b]=w}b=new Z;b.setDisposable(this._s.subscribe(new de(c,this._cb,k)));l[a]=b;return new db(l)};return c}(N),ce=function(k){function c(c,a,l){this._o=c;this._i=a;this._state=l;k.call(this)}y(c,k);c.prototype.next=function(c){this._state.values[this._i]=c;this._state.hasValue[this._i]=!0;this._state.hasValueAll=this._state.hasValue.every(Ya)};
c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=za;return c}(M),de=function(k){function c(c,a,l){this._o=c;this._cb=a;this._state=l;k.call(this)}y(c,k);c.prototype.next=function(c){c=[c].concat(this._state.values);if(this._state.hasValueAll){c=K(this._cb).apply(null,c);if(c===J)return this._o.onError(c.e);this._o.onNext(c)}};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.withLatestFrom=function(){if(0===
arguments.length)throw Error("invalid arguments");for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];k=U(c[k-1])?c.pop():ua;Array.isArray(c[0])&&(c=c[0]);return new ee(this,c,k)};var ge=function(k){function c(c,a){this._s=c;this._cb=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){for(var k=this._s.length,a=Array(k),l=G(k,aa),b=G(k,xa),f=0;f<k;f++){var w=this._s[f],e=new Z;a[f]=e;da(w)&&(w=fa(w));e.setDisposable(w.subscribe(new fe(c,f,this,b,l)))}return new db(a)};return c}(N),
fe=function(k){function c(c,a,l,t,b){this._o=c;this._i=a;this._p=l;this._q=t;this._d=b;k.call(this)}function a(c){return 0<c.length}function l(c){return c.shift()}function b(c){return function(k,a){return a!==c}}y(c,k);c.prototype.next=function(c){this._q[this._i].push(c);if(this._q.every(a)){c=this._q.map(l);c=K(this._p._cb).apply(null,c);if(c===J)return this._o.onError(c.e);this._o.onNext(c)}else if(this._d.filter(b(this._i)).every(Ya))this._o.onCompleted()};c.prototype.error=function(c){this._o.onError(c)};
c.prototype.completed=function(){this._d[this._i]=!0;this._d.every(Ya)&&this._o.onCompleted()};return c}(M);D.zip=function(){if(0===arguments.length)throw Error("invalid arguments");for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];k=U(c[k-1])?c.pop():ua;Array.isArray(c[0])&&(c=c[0]);c.unshift(this);return new ge(c,k)};P.zip=function(){for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];Array.isArray(c[0])&&(c=U(c[1])?c[0].concat(c[1]):c[0]);k=c.shift();return k.zip.apply(k,
c)};var ie=function(k){function c(c,a){this.sources=c;this._cb=a;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){var k=this.sources,a=k.length,l=Array(a);c={q:G(a,xa),done:G(a,aa),cb:this._cb,o:c};for(var b=0;b<a;b++){var f=b,w=k[f],e=new Z;(Rb(w)||sb(w))&&(w=bc(w));l[f]=e;e.setDisposable(w.subscribe(new he(c,f)))}return new db(l)};return c}(N),he=function(k){function c(c,a){this._s=c;this._i=a;k.call(this)}function a(c){return 0<c.length}function l(c){return c.shift()}function b(c){return function(k,
a){return a!==c}}y(c,k);c.prototype.next=function(c){this._s.q[this._i].push(c);if(this._s.q.every(a)){c=this._s.q.map(l);c=K(this._s.cb).apply(null,c);if(c===J)return this._s.o.onError(c.e);this._s.o.onNext(c)}else if(this._s.done.filter(b(this._i)).every(Ya))this._s.o.onCompleted()};c.prototype.error=function(c){this._s.o.onError(c)};c.prototype.completed=function(){this._s.done[this._i]=!0;this._s.done.every(Ya)&&this._s.o.onCompleted()};return c}(M);D.zipIterable=function(){if(0===arguments.length)throw Error("invalid arguments");
for(var k=arguments.length,c=Array(k),a=0;a<k;a++)c[a]=arguments[a];k=U(c[k-1])?c.pop():ua;c.unshift(this);return new ie(c,k)};D.asObservable=function(){return new ja(Ra(this),this)};D.bufferWithCount=D.bufferCount=function(k,c){"number"!==typeof c&&(c=k);return this.windowWithCount(k,c).flatMap(X).filter(eb)};var ke=function(k){function c(c){this.source=c;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new je(c))};return c}(N),je=function(k){function c(c){this._o=
c;k.call(this)}y(c,k);c.prototype.next=function(c){c.accept(this._o)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.dematerialize=function(){return new ke(this)};var me=function(k){function c(c,a,l){this.source=c;this.keyFn=a;this.comparer=l;k.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new le(c,this.keyFn,this.comparer))};return c}(N),le=function(k){function c(c,a,l){this.o=c;this.keyFn=
a;this.comparer=l;this.hasCurrentKey=!1;this.currentKey=null;k.call(this)}y(c,k);c.prototype.next=function(c){var k=c,a;if(U(this.keyFn)&&(k=K(this.keyFn)(c),k===J))return this.o.onError(k.e);if(this.hasCurrentKey&&(a=K(this.comparer)(this.currentKey,k),a===J))return this.o.onError(a.e);this.hasCurrentKey&&a||(this.hasCurrentKey=!0,this.currentKey=k,this.o.onNext(c))};c.prototype.error=function(c){this.o.onError(c)};c.prototype.completed=function(){this.o.onCompleted()};return c}(M);D.distinctUntilChanged=
function(k,c){c||(c=gc);return new me(this,k,c)};var ne=function(k){function c(c,a,l,t){this.source=c;this._oN=a;this._oE=l;this._oC=t;k.call(this)}function a(c,k){this.o=c;this.t=!k._oN||U(k._oN)?ob(k._oN||za,k._oE||za,k._oC||za):k._oN;this.isStopped=!1;M.call(this)}y(c,k);c.prototype.subscribeCore=function(c){return this.source.subscribe(new a(c,this))};y(a,M);a.prototype.next=function(c){var k=K(this.t.onNext).call(this.t,c);if(k===J)this.o.onError(k.e);this.o.onNext(c)};a.prototype.error=function(c){var k=
K(this.t.onError).call(this.t,c);if(k===J)return this.o.onError(k.e);this.o.onError(c)};a.prototype.completed=function(){var c=K(this.t.onCompleted).call(this.t);if(c===J)return this.o.onError(c.e);this.o.onCompleted()};return c}(N);D["do"]=D.tap=D.doAction=function(k,c,a){return new ne(this,k,c,a)};D.doOnNext=D.tapOnNext=function(k,c){return this.tap("undefined"!==typeof c?function(a){k.call(c,a)}:k)};D.doOnError=D.tapOnError=function(k,c){return this.tap(za,"undefined"!==typeof c?function(a){k.call(c,
a)}:k)};D.doOnCompleted=D.tapOnCompleted=function(k,c){return this.tap(za,null,"undefined"!==typeof c?function(){k.call(c)}:k)};var oe=function(k){function c(c,a,l){this.source=c;this._fn=ya(a,l,0);k.call(this)}function a(c,k){this.isDisposed=!1;this._s=c;this._fn=k}y(c,k);c.prototype.subscribeCore=function(c){c=K(this.source.subscribe).call(this.source,c);c===J&&(this._fn(),r(c.e));return new a(c,this._fn)};a.prototype.dispose=function(){if(!this.isDisposed){var c=K(this._s.dispose).call(this._s);
this._fn();c===J&&r(c.e)}};return c}(N);D["finally"]=function(a,c){return new oe(this,a,c)};var pe=function(a){function c(c){this.source=c;a.call(this)}function l(c){this.o=c;this.isStopped=!1}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new l(c))};l.prototype.onNext=za;l.prototype.onError=function(c){this.isStopped||(this.isStopped=!0,this.o.onError(c))};l.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())};l.prototype.dispose=function(){this.isStopped=
!0};l.prototype.fail=function(c){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(c),!0)};return c}(N);D.ignoreElements=function(){return new pe(this)};var re=function(a){function c(c,l){this.source=c;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new qe(c))};return c}(N),qe=function(a){function c(c){this._o=c;a.call(this)}y(c,a);c.prototype.next=function(c){this._o.onNext(Yc(c))};c.prototype.error=function(c){this._o.onNext(Qc(c));this._o.onCompleted()};
c.prototype.completed=function(){this._o.onNext(vc());this._o.onCompleted()};return c}(M);D.materialize=function(){return new re(this)};D.repeat=function(a){return Zc(this,a).concat()};D.retry=function(a){return Zc(this,a).catchError()};var se=function(a){function c(c){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,c.isDisposed=!0)}}}function l(c,t){this.source=c;this._notifier=t;a.call(this)}y(l,a);l.prototype.subscribeCore=function(a){var k=new Ha,l=new Ha,t=this._notifier(k).subscribe(l),
b=this.source["@@iterator"](),f={isDisposed:!1},w=new sa,e=Fa.scheduleRecursive(null,function(c,t){if(!f.isDisposed){var e=b.next();if(e.done)a.onCompleted();else{e=e.value;da(e)&&(e=fa(e));var d=new Z,g=new Z;w.setDisposable(new ga(g,d));d.setDisposable(e.subscribe(function(c){a.onNext(c)},function(c){g.setDisposable(l.subscribe(t,function(c){a.onError(c)},function(){a.onCompleted()}));k.onNext(c);d.dispose()},function(){a.onCompleted()}))}}});return new db([t,w,e,c(f)])};return l}(N);D.retryWhen=
function(a){return new se(Ea(this),a)};var te=function(a){function c(c){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,c.isDisposed=!0)}}}function l(c,t){this.source=c;this._notifier=t;a.call(this)}y(l,a);l.prototype.subscribeCore=function(a){var k=new Ha,l=new Ha,t=this._notifier(k).subscribe(l),b=this.source["@@iterator"](),f={isDisposed:!1},w=new sa,e=Fa.scheduleRecursive(null,function(c,t){if(!f.isDisposed){var e=b.next();if(e.done)a.onCompleted();else{e=e.value;
da(e)&&(e=fa(e));var d=new Z,g=new Z;w.setDisposable(new ga(g,d));d.setDisposable(e.subscribe(function(c){a.onNext(c)},function(c){a.onError(c)},function(){g.setDisposable(l.subscribe(t,function(c){a.onError(c)},function(){a.onCompleted()}));k.onNext(null);d.dispose()}))}}});return new db([t,w,e,c(f)])};return l}(N);D.repeatWhen=function(a){return new te(Ea(this),a)};var ve=function(a){function c(c,l,b,f){this.source=c;this.accumulator=l;this.hasSeed=b;this.seed=f;a.call(this)}y(c,a);c.prototype.subscribeCore=
function(c){return this.source.subscribe(new ue(c,this))};return c}(N),ue=function(a){function c(c,l){this._o=c;this._p=l;this._fn=l.accumulator;this._hs=l.hasSeed;this._s=l.seed;this._ha=!1;this._a=null;this._hv=!1;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){!this._hv&&(this._hv=!0);this._ha?this._a=K(this._fn)(this._a,c,this._i,this._p):(this._a=this._hs?K(this._fn)(this._s,c,this._i,this._p):c,this._ha=!0);if(this._a===J)return this._o.onError(this._a.e);this._o.onNext(this._a);
this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s);this._o.onCompleted()};return c}(M);D.scan=function(){var a=!1,c,l=arguments[0];2===arguments.length&&(a=!0,c=arguments[1]);return new ve(this,l,a,c)};var xe=function(a){function c(c,l){this.source=c;this._c=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new we(c,this._c))};return c}(N),we=function(a){function c(c,l){this._o=
c;this._c=l;this._q=[];a.call(this)}y(c,a);c.prototype.next=function(c){this._q.push(c);this._q.length>this._c&&this._o.onNext(this._q.shift())};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.skipLast=function(a){if(0>a)throw new Pa;return new xe(this,a)};D.startWith=function(){var a,c=0;arguments.length&&ca(arguments[0])?(a=arguments[0],c=1):a=Ua;for(var l=[],b=arguments.length;c<b;c++)l.push(arguments[c]);return kd.apply(null,
[cd(l,a),this])};var ye=function(a){function c(c,l){this._o=c;this._c=l;this._q=[];a.call(this)}y(c,a);c.prototype.next=function(c){this._q.push(c);this._q.length>this._c&&this._q.shift()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){for(;0<this._q.length;)this._o.onNext(this._q.shift());this._o.onCompleted()};return c}(M);D.takeLast=function(a){if(0>a)throw new Pa;var c=this;return new ja(function(l){return c.subscribe(new ye(l,a))},c)};var ze=function(a){function c(c,
l){this._o=c;this._c=l;this._q=[];a.call(this)}y(c,a);c.prototype.next=function(c){this._q.push(c);this._q.length>this._c&&this._q.shift()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._q);this._o.onCompleted()};return c}(M);D.takeLastBuffer=function(a){if(0>a)throw new Pa;var c=this;return new ja(function(l){return c.subscribe(new ze(l,a))},c)};D.windowWithCount=D.windowCount=function(a,c){var l=this;+a||(a=0);Infinity===Math.abs(a)&&(a=0);
if(0>=a)throw new Pa;null==c&&(c=a);+c||(c=0);Infinity===Math.abs(c)&&(c=0);if(0>=c)throw new Pa;return new ja(function(b){function f(){var c=new Ha;g.push(c);b.onNext(ab(c,e))}var w=new Z,e=new wb(w),d=0,g=[];f();w.setDisposable(l.subscribe(function(l){for(var b=0,t=g.length;b<t;b++)g[b].onNext(l);l=d-a+1;0<=l&&0===l%c&&g.shift().onCompleted();0===++d%c&&f()},function(c){for(;0<g.length;)g.shift().onError(c);b.onError(c)},function(){for(;0<g.length;)g.shift().onCompleted();b.onCompleted()}));return e},
l)};D.selectConcat=D.concatMap=function(a,c,l){return U(a)&&U(c)?this.concatMap(function(l,b){var t=a(l,b);da(t)&&(t=fa(t));(Rb(t)||sb(t))&&(t=bc(t));return t.map(function(a,k){return c(l,a,b,k)})}):U(a)?Va(this,a,l):Va(this,function(){return a})};D.concatMapObserver=D.selectConcatObserver=function(a,c,l,b){var f=this,w=ya(a,b,2),e=ya(c,b,1),d=ya(l,b,0);return(new ja(function(c){var a=0;return f.subscribe(function(k){var l;try{l=w(k,a++)}catch(b){c.onError(b);return}da(l)&&(l=fa(l));c.onNext(l)},
function(a){var k;try{k=e(a)}catch(l){c.onError(l);return}da(k)&&(k=fa(k));c.onNext(k);c.onCompleted()},function(){var a;try{a=d()}catch(k){c.onError(k);return}da(a)&&(a=fa(a));c.onNext(a);c.onCompleted()})},this)).concatAll()};var Ae=function(a){function c(c,l){this._o=c;this._d=l;this._f=!1;a.call(this)}y(c,a);c.prototype.next=function(c){this._f=!0;this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){!this._f&&this._o.onNext(this._d);this._o.onCompleted()};
return c}(M);D.defaultIfEmpty=function(a){var c=this;a===b&&(a=null);return new ja(function(l){return c.subscribe(new Ae(l,a))},c)};fb.prototype.push=function(a){var c;a:{c=this.set;for(var l=this.comparer,b=0,f=c.length;b<f;b++)if(l(c[b],a)){c=b;break a}c=-1}(c=-1===c)&&this.set.push(a);return c};var Ce=function(a){function c(c,l,b){this.source=c;this._keyFn=l;this._cmpFn=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Be(c,this._keyFn,this._cmpFn))};
return c}(N),Be=function(a){function c(c,l,b){this._o=c;this._keyFn=l;this._h=new fb(b);a.call(this)}y(c,a);c.prototype.next=function(c){var a=c;if(U(this._keyFn)&&(a=K(this._keyFn)(c),a===J))return this._o.onError(a.e);this._h.push(a)&&this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.distinct=function(a,c){c||(c=gc);return new Ce(this,a,c)};D.groupBy=function(a,c){return this.groupByUntil(a,c,lc)};D.groupByUntil=
function(a,c,l){var f=this;return new ja(function(w){var e=new ec,d=new Ca,g=new wb(d),q=function(c){return function(a){a.onError(c)}};d.add(f.subscribe(function(f){var S=K(a)(f);if(S===J)return e.forEach(q(S.e)),w.onError(S.e);var p=!1,r=e.get(S);r===b&&(r=new Ha,e.set(S,r),p=!0);if(p){var p=new pd(S,r,g),h=new pd(S,r),h=K(l)(h);if(h===J)return e.forEach(q(h.e)),w.onError(h.e);w.onNext(p);var m=new Z;d.add(m);m.setDisposable(h.take(1).subscribe(za,function(c){e.forEach(q(c));w.onError(c)},function(){if(e["delete"](S))r.onCompleted();
d.remove(m)}))}p=f;if(U(c)&&(p=K(c)(f),p===J))return e.forEach(q(p.e)),w.onError(p.e);r.onNext(p)},function(c){e.forEach(q(c));w.onError(c)},function(){e.forEach(function(c){c.onCompleted()});w.onCompleted()}));return g},f)};var qd=function(a){function c(c,l,b){this.source=c;this.selector=ya(l,b,3);a.call(this)}function l(c,a){return function(k,l,b){return c.call(this,a.selector(k,l,b),l,b)}}function b(c,a,k){this.o=c;this.selector=a;this.source=k;this.i=0;M.call(this)}y(c,a);c.prototype.internalMap=
function(a,k){return new c(this.source,l(a,this),k)};c.prototype.subscribeCore=function(c){return this.source.subscribe(new b(c,this.selector,this))};y(b,M);b.prototype.next=function(c){c=K(this.selector)(c,this.i++,this.source);if(c===J)return this.o.onError(c.e);this.o.onNext(c)};b.prototype.error=function(c){this.o.onError(c)};b.prototype.completed=function(){this.o.onCompleted()};return c}(N);D.map=D.select=function(a,c){var l="function"===typeof a?a:function(){return a};return this instanceof
qd?this.internalMap(l,c):new qd(this,l,c)};D.pluck=function(){var a=arguments.length,c=Array(a);if(0===a)throw Error("List of properties cannot be empty.");for(var l=0;l<a;l++)c[l]=arguments[l];return this.map(tb(c,a))};D.flatMap=D.selectMany=D.mergeMap=function(a,c,l){return(new Yb(this,a,c,l)).mergeAll()};D.flatMapObserver=D.selectManyObserver=function(a,c,l,b){var f=this;return(new ja(function(w){var e=0;return f.subscribe(function(c){var l;try{l=a.call(b,c,e++)}catch(t){w.onError(t);return}da(l)&&
(l=fa(l));w.onNext(l)},function(a){var k;try{k=c.call(b,a)}catch(l){w.onError(l);return}da(k)&&(k=fa(k));w.onNext(k);w.onCompleted()},function(){var c;try{c=l.call(b)}catch(a){w.onError(a);return}da(c)&&(c=fa(c));w.onNext(c);w.onCompleted()})},f)).mergeAll()};D.flatMapLatest=D.switchMap=function(a,c,l){return(new Yb(this,a,c,l)).switchLatest()};var De=function(a){function c(c,l){this.source=c;this._count=l;a.call(this)}function l(c,a){this._o=c;this._r=a;M.call(this)}y(c,a);c.prototype.subscribeCore=
function(c){return this.source.subscribe(new l(c,this._count))};y(l,M);l.prototype.next=function(c){if(0>=this._r)this._o.onNext(c);else this._r--};l.prototype.error=function(c){this._o.onError(c)};l.prototype.completed=function(){this._o.onCompleted()};return c}(N);D.skip=function(a){if(0>a)throw new Pa;return new De(this,a)};var Fe=function(a){function c(c,l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Ee(c,this))};return c}(N),
Ee=function(a){function c(c,l){this._o=c;this._p=l;this._i=0;this._r=!1;a.call(this)}y(c,a);c.prototype.next=function(c){if(!this._r){var a=K(this._p._fn)(c,this._i++,this._p);if(a===J)return this._o.onError(a.e);this._r=!a}this._r&&this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.skipWhile=function(a,c){var l=ya(a,c,3);return new Fe(this,l)};var Ge=function(a){function c(c,l){this.source=c;this._count=l;a.call(this)}
function l(c,a){this._o=c;this._r=this._c=a;M.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new l(c,this._count))};y(l,M);l.prototype.next=function(c){0<this._r--&&(this._o.onNext(c),0>=this._r&&this._o.onCompleted())};l.prototype.error=function(c){this._o.onError(c)};l.prototype.completed=function(){this._o.onCompleted()};return c}(N);D.take=function(a,c){if(0>a)throw new Pa;return 0===a?Mb(c):new Ge(this,a)};var Ie=function(a){function c(c,l){this.source=c;
this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new He(c,this))};return c}(N),He=function(a){function c(c,l){this._o=c;this._p=l;this._i=0;this._r=!0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._r&&(this._r=K(this._p._fn)(c,this._i++,this._p),this._r===J))return this._o.onError(this._r.e);if(this._r)this._o.onNext(c);else this._o.onCompleted()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};
return c}(M);D.takeWhile=function(a,c){var l=ya(a,c,3);return new Ie(this,l)};var rd=function(a){function c(c,l,b){this.source=c;this.predicate=ya(l,b,3);a.call(this)}function l(c,a){return function(k,l,b){return a.predicate(k,l,b)&&c.call(this,k,l,b)}}function b(c,a,k){this.o=c;this.predicate=a;this.source=k;this.i=0;M.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new b(c,this.predicate,this))};c.prototype.internalFilter=function(a,k){return new c(this.source,
l(a,this),k)};y(b,M);b.prototype.next=function(c){var a=K(this.predicate)(c,this.i++,this.source);if(a===J)return this.o.onError(a.e);a&&this.o.onNext(c)};b.prototype.error=function(c){this.o.onError(c)};b.prototype.completed=function(){this.o.onCompleted()};return c}(N);D.filter=D.where=function(a,c){return this instanceof rd?this.internalFilter(a,c):new rd(this,a,c)};var sd=function(a){function c(c,l,b){this.source=c;this._k=l;this._c=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Je(c,
this._k,this._c))};return c}(N),Je=function(a){function c(c,l,b){this._o=c;this._k=l;this._c=b;this._v=null;this._hv=!1;this._l=[];a.call(this)}y(c,a);c.prototype.next=function(c){var a=K(this._k)(c);if(a===J)return this._o.onError(a.e);var k=0;if(this._hv){if(k=K(this._c)(a,this._v),k===J)return this._o.onError(k.e)}else this._hv=!0,this._v=a;0<k&&(this._v=a,this._l=[]);0<=k&&this._l.push(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._l);
this._o.onCompleted()};return c}(M),Le=function(a){function c(c,l,b,f){this.source=c;this.accumulator=l;this.hasSeed=b;this.seed=f;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Ke(c,this))};return c}(N),Ke=function(a){function c(c,l){this._o=c;this._p=l;this._fn=l.accumulator;this._hs=l.hasSeed;this._s=l.seed;this._ha=!1;this._a=null;this._hv=!1;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){!this._hv&&(this._hv=!0);this._ha?this._a=K(this._fn)(this._a,
c,this._i,this._p):(this._a=this._hs?K(this._fn)(this._s,c,this._i,this._p):c,this._ha=!0);if(this._a===J)return this._o.onError(this._a.e);this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._hv&&this._o.onNext(this._a);!this._hv&&this._hs&&this._o.onNext(this._s);this._hv||this._hs||this._o.onError(new Wa);this._o.onCompleted()};return c}(M);D.reduce=function(){var a=!1,c,l=arguments[0];2===arguments.length&&(a=!0,c=arguments[1]);return new Le(this,
l,a,c)};var Ne=function(a){function c(c,l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Me(c,this._fn,this.source))};return c}(N),Me=function(a){function c(c,l,b){this._o=c;this._fn=l;this._s=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){c=K(this._fn)(c,this._i++,this._s);if(c===J)return this._o.onError(c.e);Boolean(c)&&(this._o.onNext(!0),this._o.onCompleted())};c.prototype.error=function(c){this._o.onError(c)};
c.prototype.completed=function(){this._o.onNext(!1);this._o.onCompleted()};return c}(M);D.some=function(a,c){var l=ya(a,c,3);return new Ne(this,l)};var Pe=function(a){function c(c){this.source=c;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Oe(c))};return c}(N),Oe=function(a){function c(c){this._o=c;a.call(this)}y(c,a);c.prototype.next=function(){this._o.onNext(!1);this._o.onCompleted()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=
function(){this._o.onNext(!0);this._o.onCompleted()};return c}(M);D.isEmpty=function(){return new Pe(this)};var Re=function(a){function c(c,l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Qe(c,this._fn,this.source))};return c}(N),Qe=function(a){function c(c,l,b){this._o=c;this._fn=l;this._s=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){c=K(this._fn)(c,this._i++,this._s);if(c===J)return this._o.onError(c.e);Boolean(c)||
(this._o.onNext(!1),this._o.onCompleted())};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(!0);this._o.onCompleted()};return c}(M);D.every=function(a,c){var l=ya(a,c,3);return new Re(this,l)};var Te=function(a){function c(c,l,b){b=+b||0;Infinity===Math.abs(b)&&(b=0);this.source=c;this._elem=l;this._n=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return 0>this._n?(c.onNext(!1),c.onCompleted(),qa):this.source.subscribe(new Se(c,this._elem,
this._n))};return c}(N),Se=function(a){function c(c,l,b){this._o=c;this._elem=l;this._n=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){var a;if(a=this._i++>=this._n)a=this._elem,a=0===c&&0===a||c===a||isNaN(c)&&isNaN(a);a&&(this._o.onNext(!0),this._o.onCompleted())};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(!1);this._o.onCompleted()};return c}(M);D.includes=function(a,c){return new Te(this,a,c)};var Ve=function(a){function c(c,
l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Ue(c,this._fn,this.source))};return c}(N),Ue=function(a){function c(c,l,b){this._o=c;this._fn=l;this._s=b;this._c=this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._fn){c=K(this._fn)(c,this._i++,this._s);if(c===J)return this._o.onError(c.e);Boolean(c)&&this._c++}else this._c++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._c);
this._o.onCompleted()};return c}(M);D.count=function(a,c){var l=ya(a,c,3);return new Ve(this,l)};var Xe=function(a){function c(c,l,b){this.source=c;this._e=l;this._n=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return 0>this._n?(c.onNext(-1),c.onCompleted(),qa):this.source.subscribe(new We(c,this._e,this._n))};return c}(N),We=function(a){function c(c,l,b){this._o=c;this._e=l;this._n=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){this._i>=this._n&&c===this._e&&(this._o.onNext(this._i),
this._o.onCompleted());this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(-1);this._o.onCompleted()};return c}(M);D.indexOf=function(a,c){var l=+c||0;Infinity===Math.abs(l)&&(l=0);return new Xe(this,a,l)};var Ze=function(a){function c(c,l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Ye(c,this._fn,this.source))};return c}(N),Ye=function(a){function c(c,l,b){this._o=c;this._fn=
l;this._s=b;this._c=this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._fn&&(c=K(this._fn)(c,this._i++,this._s),c===J))return this._o.onError(c.e);this._c+=c};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._c);this._o.onCompleted()};return c}(M);D.sum=function(a,c){var l=ya(a,c,3);return new Ze(this,l)};D.minBy=function(a,c){c||(c=jb);return new sd(this,a,function(a,l){return-1*c(a,l)})};D.min=function(a){return this.minBy(Ya,
a).map(ub)};D.maxBy=function(a,c){c||(c=jb);return new sd(this,a,c)};D.max=function(a){return this.maxBy(Ya,a).map(ub)};var af=function(a){function c(c,l){this.source=c;this._fn=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new $e(c,this._fn,this.source))};return c}(N),$e=function(a){function c(c,l,b){this._o=c;this._fn=l;this._s=b;this._t=this._c=0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._fn){if(c=K(this._fn)(c,this._c++,this._s),c===J)return this._o.onError(c.e)}else this._c++;
this._t+=c};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){if(0===this._c)return this._o.onError(new Wa);this._o.onNext(this._t/this._c);this._o.onCompleted()};return c}(M);D.average=function(a,c){var l;U(a)&&(l=ya(a,c,3));return new af(this,l)};D.sequenceEqual=function(a,c){var l=this;c||(c=gc);return new ja(function(b){var f=!1,w=!1,e=[],d=[],g=l.subscribe(function(a){if(0<d.length){var l=d.shift();a=K(c)(l,a);if(a===J)return b.onError(a.e);a||(b.onNext(!1),b.onCompleted())}else w?
(b.onNext(!1),b.onCompleted()):e.push(a)},function(c){b.onError(c)},function(){f=!0;0===e.length&&(0<d.length?(b.onNext(!1),b.onCompleted()):w&&(b.onNext(!0),b.onCompleted()))});(Rb(a)||sb(a))&&(a=bc(a));da(a)&&(a=fa(a));var q=a.subscribe(function(a){if(0<e.length){var l=e.shift();a=K(c)(l,a);if(a===J)return b.onError(a.e);a||(b.onNext(!1),b.onCompleted())}else f?(b.onNext(!1),b.onCompleted()):d.push(a)},function(c){b.onError(c)},function(){w=!0;0===d.length&&(0<e.length?(b.onNext(!1),b.onCompleted()):
f&&(b.onNext(!0),b.onCompleted()))});return new ga(g,q)},l)};var cf=function(a){function c(c,l,b){this.source=c;this._i=l;this._d=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new bf(c,this._i,this._d))};return c}(N),bf=function(a){function c(c,l,b){this._o=c;this._i=l;this._d=b;a.call(this)}y(c,a);c.prototype.next=function(c){0===this._i--&&(this._o.onNext(c),this._o.onCompleted())};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=
function(){if(this._d===b)this._o.onError(new Pa);else this._o.onNext(this._d),this._o.onCompleted()};return c}(M);D.elementAt=function(a,c){if(0>a)throw new Pa;return new cf(this,a,c)};var df=function(a){function c(c,l,b){this._o=c;this._obj=l;this._s=b;this._i=0;this._hv=!1;this._v=null;a.call(this)}y(c,a);c.prototype.next=function(c){var a=!1;if(this._obj.predicate){var l=K(this._obj.predicate)(c,this._i++,this._s);if(l===J)return this._o.onError(l.e);Boolean(l)&&(a=!0)}else this._obj.predicate||
(a=!0);if(a){if(this._hv)return this._o.onError(Error("Sequence contains more than one matching element"));this._hv=!0;this._v=c}};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){if(this._hv)this._o.onNext(this._v),this._o.onCompleted();else if(this._obj.defaultValue===b)this._o.onError(new Wa);else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return c}(M);D.single=function(a,c,l){var b={},f=this,b="object"===typeof a?a:{predicate:a,thisArg:c,defaultValue:l};
U(b.predicate)&&(b.predicate=ya(b.predicate,b.thisArg,3));return new ja(function(c){return f.subscribe(new df(c,b,f))},f)};var ff=function(a){function c(c,l){this.source=c;this._obj=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new ef(c,this._obj,this.source))};return c}(N),ef=function(a){function c(c,l,b){this._o=c;this._obj=l;this._s=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._obj.predicate){var a=K(this._obj.predicate)(c,this._i++,
this._s);if(a===J)return this._o.onError(a.e);Boolean(a)&&(this._o.onNext(c),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(c),this._o.onCompleted())};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){if(this._obj.defaultValue===b)this._o.onError(new Wa);else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return c}(M);D.first=function(a,c,l){var b={},b="object"===typeof a?a:{predicate:a,thisArg:c,defaultValue:l};U(b.predicate)&&(b.predicate=
ya(b.predicate,b.thisArg,3));return new ff(this,b)};var hf=function(a){function c(c,l){this.source=c;this._obj=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new gf(c,this._obj,this.source))};return c}(N),gf=function(a){function c(c,l,b){this._o=c;this._obj=l;this._s=b;this._i=0;this._hv=!1;this._v=null;a.call(this)}y(c,a);c.prototype.next=function(c){var a=!1;if(this._obj.predicate){var l=K(this._obj.predicate)(c,this._i++,this._s);if(l===J)return this._o.onError(l.e);
Boolean(l)&&(a=!0)}else this._obj.predicate||(a=!0);a&&(this._hv=!0,this._v=c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){if(this._hv)this._o.onNext(this._v),this._o.onCompleted();else if(this._obj.defaultValue===b)this._o.onError(new Wa);else this._o.onNext(this._obj.defaultValue),this._o.onCompleted()};return c}(M);D.last=function(a,c,l){var b={},b="object"===typeof a?a:{predicate:a,thisArg:c,defaultValue:l};U(b.predicate)&&(b.predicate=ya(b.predicate,b.thisArg,
3));return new hf(this,b)};var xd=function(a){function c(c,l,b,f){this._o=c;this._s=l;this._cb=b;this._y=f;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){var a=K(this._cb)(c,this._i,this._s);if(a===J)return this._o.onError(a.e);a?(this._o.onNext(this._y?this._i:c),this._o.onCompleted()):this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._y&&this._o.onNext(-1);this._o.onCompleted()};return c}(M);D.find=function(a,c){return Xa(this,a,c,!1)};
D.findIndex=function(a,c){return Xa(this,a,c,!0)};var kf=function(a){function c(c){this.source=c;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new jf(c))};return c}(N),jf=function(a){function c(c){this._o=c;this._s=new ha.Set;a.call(this)}y(c,a);c.prototype.next=function(c){this._s.add(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._s);this._o.onCompleted()};return c}(M);D.toSet=function(){if("undefined"===
typeof ha.Set)throw new TypeError;return new kf(this)};var mf=function(a){function c(c,l,b){this.source=c;this._k=l;this._e=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new lf(c,this._k,this._e))};return c}(N),lf=function(a){function c(c,l,b){this._o=c;this._k=l;this._e=b;this._m=new ha.Map;a.call(this)}y(c,a);c.prototype.next=function(c){var a=K(this._k)(c);if(a===J)return this._o.onError(a.e);var l=c;if(this._e&&(l=K(this._e)(c),l===J))return this._o.onError(l.e);
this._m.set(a,l)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onNext(this._m);this._o.onCompleted()};return c}(M);D.toMap=function(a,c){if("undefined"===typeof ha.Map)throw new TypeError;return new mf(this,a,c)};var of=function(a){function c(c,l,b){this.source=c;this._b=l;this._e=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new nf(c,this._b,this._e))};return c}(N),nf=function(a){function c(c,l,b){this._o=c;
this._b=l;this._e=b;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._i>=this._b)if(this._e===this._i)this._o.onCompleted();else this._o.onNext(c);this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.slice=function(a,c){var l=a||0;if(0>l)throw new Q.ArgumentOutOfRangeError;if("number"===typeof c&&c<l)throw new Q.ArgumentOutOfRangeError;return new of(this,l,c)};var qf=function(a){function c(c,l,b){this.source=
c;this._e=l;this._n=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return 0>this._n?(c.onNext(-1),c.onCompleted(),qa):this.source.subscribe(new pf(c,this._e,this._n))};return c}(N),pf=function(a){function c(c,l,b){this._o=c;this._e=l;this._n=b;this._v=0;this._hv=!1;this._i=0;a.call(this)}y(c,a);c.prototype.next=function(c){this._i>=this._n&&c===this._e&&(this._hv=!0,this._v=this._i);this._i++};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){if(this._hv)this._o.onNext(this._v);
else this._o.onNext(-1);this._o.onCompleted()};return c}(M);D.lastIndexOf=function(a,c){var l=+c||0;Infinity===Math.abs(l)&&(l=0);return new qf(this,a,l)};P.wrap=function(a){function c(){return P.spawn.call(this,a.apply(this,arguments))}c.__generatorFunction__=a;return c};var yd=P.spawn=function(){for(var a=arguments[0],c=this,l=[],b=1,f=arguments.length;b<f;b++)l.push(arguments[b]);return new ja(function(b){function f(c){c=K(a.next).call(a,c);if(c===J)return b.onError(c.e);e(c)}function w(c){c=K(a.next).call(a,
c);if(c===J)return b.onError(c.e);e(c)}function e(a){if(a.done)b.onNext(a.value),b.onCompleted();else{a=kb.call(c,a.value);var l=null,k=!1;P.isObservable(a)?d.add(a.subscribe(function(c){k=!0;l=c},w,function(){k&&f(l)})):w(new TypeError("type not supported"))}}var d=new Ca;U(a)&&(a=a.apply(c,l));if(!a||!U(a.next))return b.onNext(a),b.onCompleted();f();return d})};P.start=function(a,c,l){return rf(a,c,l)()};var rf=P.toAsync=function(a,c,l){ca(l)||(l=ia);return function(){var b=arguments,f=new Bc;l.schedule(null,
function(){var l;try{l=a.apply(c,b)}catch(w){f.onError(w);return}f.onNext(l);f.onCompleted()});return f.asObservable()}};P.fromCallback=function(a,c,l){return function(){"undefined"===typeof c&&(c=this);for(var b=arguments.length,f=Array(b),w=0;w<b;w++)f[w]=arguments[w];b=c;w=new Bc;f.push(Kb(w,b,l));a.apply(b,f);return w.asObservable()}};P.fromNodeCallback=function(a,c,l){return function(){"undefined"===typeof c&&(c=this);for(var b=arguments.length,f=Array(b),w=0;w<b;w++)f[w]=arguments[w];b=c;w=
new Bc;f.push(Ga(w,b,l));a.apply(b,f);return w.asObservable()}};$a.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)};Q.config.useNativeEvents=!1;var sf=function(a){function c(c,l,b){this._el=c;this._n=l;this._fn=b;a.call(this)}function l(c,a){return function(){var l=arguments[0];if(U(a)&&(l=K(a).apply(null,arguments),l===J))return c.onError(l.e);c.onNext(l)}}y(c,a);c.prototype.subscribeCore=function(c){return vb(this._el,this._n,l(c,
this._fn))};return c}(N);P.fromEvent=function(a,c,l){return a.addListener?td(function(l){a.addListener(c,l)},function(l){a.removeListener(c,l)},l):Q.config.useNativeEvents||"function"!==typeof a.on||"function"!==typeof a.off?(new sf(a,c,l)).publish().refCount():td(function(l){a.on(c,l)},function(l){a.off(c,l)},l)};var tf=function(a){function c(c,l,b){this._add=c;this._del=l;this._fn=b;a.call(this)}function l(c,a){return function(){var l=arguments[0];if(U(a)&&(l=K(a).apply(null,arguments),l===J))return c.onError(l.e);
c.onNext(l)}}function b(c,a,l){this._del=c;this._fn=a;this._ret=l;this.isDisposed=!1}y(c,a);c.prototype.subscribeCore=function(c){c=l(c,this._fn);var a=this._add(c);return new b(this._del,c,a)};b.prototype.dispose=function(){this.isDisposed||(U(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)};return c}(N),td=P.fromEventPattern=function(a,c,l){return(new tf(a,c,l)).publish().refCount()};P.startAsync=function(a){a=K(a)();return a===J?w(a.e):fa(a)};var uf=function(a){function c(c,l){this.source=
c;this.controller=new Ha;this.paused=!0;this.pauser=l&&l.subscribe?this.controller.merge(l):this.controller;a.call(this)}y(c,a);c.prototype._subscribe=function(c){var a=this.source.publish();c=a.subscribe(c);var l=qa,k=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(c){c?l=a.connect():(l.dispose(),l=qa)});return new db([c,l,k])};c.prototype.pause=function(){this.paused=!0;this.controller.onNext(!1)};c.prototype.resume=function(){this.paused=!1;this.controller.onNext(!0)};
return c}(P);D.pausable=function(a){return new uf(this,a)};var vf=function(a){function c(c,l){this.source=c;this.controller=new Ha;this.paused=!0;this.pauser=l&&l.subscribe?this.controller.merge(l):this.controller;a.call(this)}y(c,a);c.prototype._subscribe=function(c){function a(){for(;0<l.length;)c.onNext(l.shift())}var l=[],k;return gb(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(c,a){return{data:c,shouldFire:a}}).subscribe(function(f){if(k!==b&&f.shouldFire!==
k)(k=f.shouldFire)&&a();else if(k=f.shouldFire)c.onNext(f.data);else l.push(f.data)},function(l){a();c.onError(l)},function(){a();c.onCompleted()})};c.prototype.pause=function(){this.paused=!0;this.controller.onNext(!1)};c.prototype.resume=function(){this.paused=!1;this.controller.onNext(!0)};return c}(P);D.pausableBuffered=function(a){return new vf(this,a)};var md=function(a){function c(c,l,b){a.call(this);this.subject=new wf(l,b);this.source=c.multicast(this.subject).refCount()}y(c,a);c.prototype._subscribe=
function(c){return this.source.subscribe(c)};c.prototype.request=function(c){return this.subject.request(null==c?-1:c)};return c}(P),wf=function(a){function c(c,l){null==c&&(c=!0);a.call(this);this.subject=new Ha;this.queue=(this.enableQueue=c)?[]:null;this.requestedCount=0;this.error=this.requestedDisposable=null;this.hasCompleted=this.hasFailed=!1;this.scheduler=l||Fa}y(c,a);Db(c.prototype,Ka,{_subscribe:function(c){return this.subject.subscribe(c)},onCompleted:function(){this.hasCompleted=!0;this.enableQueue&&
0!==this.queue.length?this.queue.push(Na.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(c){this.hasFailed=!0;this.error=c;this.enableQueue&&0!==this.queue.length?this.queue.push(Na.createOnError(c)):(this.subject.onError(c),this.disposeCurrentRequest())},onNext:function(c){0>=this.requestedCount?this.enableQueue&&this.queue.push(Na.createOnNext(c)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(c))},_processRequest:function(c){if(this.enableQueue)for(;0<
this.queue.length&&(0<c||"N"!==this.queue[0].kind);){var a=this.queue.shift();a.accept(this.subject);"N"===a.kind?c--:(this.disposeCurrentRequest(),this.queue=[])}return c},request:function(c){this.disposeCurrentRequest();var a=this;return this.requestedDisposable=this.scheduler.schedule(c,function(c,l){var k=a._processRequest(l);if(!a.hasCompleted&&!a.hasFailed&&0<k)return a.requestedCount=k,cb(function(){a.requestedCount=0})})},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),
this.requestedDisposable=null)}});return c}(P);D.controlled=function(a,c){a&&ca(a)&&(c=a,a=!0);null==a&&(a=!0);return new md(this,a,c)};var xf=function(a){function c(c){a.call(this);this.source=c}function l(c,a){return a.source.request(1)}y(c,a);c.prototype._subscribe=function(c){this.subscription=this.source.subscribe(new b(c,this,this.subscription));return new ga(this.subscription,ia.schedule(this,l))};var b=function(c){function a(l,k,b){c.call(this);this.observer=l;this.observable=k;this.cancel=
b;this.scheduleDisposable=null}function l(c,a){return a.observable.source.request(1)}y(a,c);a.prototype.completed=function(){this.observer.onCompleted();this.dispose()};a.prototype.error=function(c){this.observer.onError(c);this.dispose()};a.prototype.next=function(c){this.observer.onNext(c);this.scheduleDisposable=ia.schedule(this,l)};a.dispose=function(){this.observer=null;this.cancel&&(this.cancel.dispose(),this.cancel=null);this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=
null);c.prototype.dispose.call(this)};return a}(M);return c}(P);md.prototype.stopAndWait=function(){return new xf(this)};var yf=function(a){function c(c,l){a.call(this);this.source=c;this.windowSize=l}function l(c,a){return a.source.request(a.windowSize)}y(c,a);c.prototype._subscribe=function(c){this.subscription=this.source.subscribe(new b(c,this,this.subscription));return new ga(this.subscription,ia.schedule(this,l))};var b=function(c){function a(l,k,b){this.observer=l;this.observable=k;this.cancel=
b;this.received=0;this.scheduleDisposable=null;c.call(this)}function l(c,a){return a.observable.source.request(a.observable.windowSize)}y(a,c);a.prototype.completed=function(){this.observer.onCompleted();this.dispose()};a.prototype.error=function(c){this.observer.onError(c);this.dispose()};a.prototype.next=function(c){this.observer.onNext(c);this.received=++this.received%this.observable.windowSize;0===this.received&&(this.scheduleDisposable=ia.schedule(this,l))};a.prototype.dispose=function(){this.observer=
null;this.cancel&&(this.cancel.dispose(),this.cancel=null);this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null);c.prototype.dispose.call(this)};return a}(M);return c}(P);md.prototype.windowed=function(a){return new yf(this,a)};D.pipe=function(a){function c(){l.resume()}var l=this.pausableBuffered();a.addListener("drain",c);l.subscribe(function(c){!a.write(c)&&l.pause()},function(c){a.emit("error",c)},function(){!a._isStdio&&a.end();a.removeListener("drain",c)});
l.resume();return a};var zf=function(a){function c(c,l,b){this.source=c;this._fn1=l;this._fn2=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){var a=this.source.multicast(this._fn1());return new ga(this._fn2(a).subscribe(c),a.connect())};return c}(N);D.multicast=function(a,c){return U(a)?new zf(this,a,c):new Af(this,a)};D.publish=function(a){return a&&U(a)?this.multicast(function(){return new Ha},a):this.multicast(new Ha)};D.share=function(){return this.publish().refCount()};D.publishLast=
function(a){return a&&U(a)?this.multicast(function(){return new Bc},a):this.multicast(new Bc)};D.publishValue=function(a,c){return 2===arguments.length?this.multicast(function(){return new ud(c)},a):this.multicast(new ud(a))};D.shareValue=function(a){return this.publishValue(a).refCount()};D.replay=function(a,c,l,b){return a&&U(a)?this.multicast(function(){return new vd(c,l,b)},a):this.multicast(new vd(c,l,b))};D.shareReplay=function(a,c,l){return this.replay(null,a,c,l).refCount()};var ed=function(a,
c){this._s=a;this._o=c};ed.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var a=this._s.observers.indexOf(this._o);this._s.observers.splice(a,1);this._o=null}};var Bf=function(a){function c(c){this.source=c;this._count=0;this._connectableSubscription=null;a.call(this)}function l(c,a){this._p=c;this._s=a;this.isDisposed=!1}y(c,a);c.prototype.subscribeCore=function(c){c=this.source.subscribe(c);1===++this._count&&(this._connectableSubscription=this.source.connect());return new l(this,
c)};l.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())};return c}(N),Af=Q.ConnectableObservable=function(a){function c(c,l){this.source=c;this._connection=null;this._source=c.asObservable();this._subject=l;a.call(this)}function l(c,a){this._p=c;this._s=a}y(c,a);l.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)};c.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return qa;
var c=this._source.subscribe(this._subject);this._connection=new l(this,c)}return this._connection};c.prototype._subscribe=function(c){return this._subject.subscribe(c)};c.prototype.refCount=function(){return new Bf(this)};return c}(P);D.singleInstance=function(){function a(){l||(l=!0,b=c["finally"](function(){l=!1}).publish().refCount());return b}var c=this,l=!1,b;return new ja(function(c){return a().subscribe(c)})};D.join=function(a,c,l,b){var f=this;return new ja(function(w){var e=new Ca,d=!1,
g=!1,q=0,p=0,r=new ec,h=new ec,m=function(c){w.onError(c)};e.add(f.subscribe(function(a){var l=q++,k=new Z;r.set(l,a);e.add(k);var f=K(c)(a);if(f===J)return w.onError(f.e);k.setDisposable(f.take(1).subscribe(za,m,function(){r["delete"](l)&&0===r.size&&d&&w.onCompleted();e.remove(k)}));h.forEach(function(c){c=K(b)(a,c);if(c===J)return w.onError(c.e);w.onNext(c)})},m,function(){d=!0;(g||0===r.size)&&w.onCompleted()}));e.add(a.subscribe(function(c){var a=p++,k=new Z;h.set(a,c);e.add(k);var f=K(l)(c);
if(f===J)return w.onError(f.e);k.setDisposable(f.take(1).subscribe(za,m,function(){h["delete"](a)&&0===h.size&&g&&w.onCompleted();e.remove(k)}));r.forEach(function(a){a=K(b)(a,c);if(a===J)return w.onError(a.e);w.onNext(a)})},m,function(){g=!0;(d||0===h.size)&&w.onCompleted()}));return e},f)};D.groupJoin=function(a,c,l,b){var f=this;return new ja(function(w){function e(c){}var d=new Ca,g=new wb(d),q=new ec,p=new ec,r=0,h=0,e=function(c){return function(a){a.onError(c)}};d.add(f.subscribe(function(a){var l=
new Ha,k=r++;q.set(k,l);var f=K(b)(a,ab(l,g));if(f===J)return q.forEach(e(f.e)),w.onError(f.e);w.onNext(f);p.forEach(function(c){l.onNext(c)});var t=new Z;d.add(t);a=K(c)(a);if(a===J)return q.forEach(e(a.e)),w.onError(a.e);t.setDisposable(a.take(1).subscribe(za,function(c){q.forEach(e(c));w.onError(c)},function(){q["delete"](k)&&l.onCompleted();d.remove(t)}))},function(c){q.forEach(e(c));w.onError(c)},function(){w.onCompleted()}));d.add(a.subscribe(function(c){var a=h++;p.set(a,c);var k=new Z;d.add(k);
var b=K(l)(c);if(b===J)return q.forEach(e(b.e)),w.onError(b.e);k.setDisposable(b.take(1).subscribe(za,function(c){q.forEach(e(c));w.onError(c)},function(){p["delete"](a);d.remove(k)}));q.forEach(function(a){a.onNext(c)})},function(c){q.forEach(e(c));w.onError(c)}));return g},f)};D.buffer=function(){return this.window.apply(this,arguments).flatMap(X)};D.window=function(a,c){return 1===arguments.length&&"function"!==typeof arguments[0]?La.call(this,a):"function"===typeof a?cc.call(this,a):Lb.call(this,
a,c)};var Df=function(a){function c(c){this.source=c;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Cf(c))};return c}(N),Cf=function(a){function c(c){this._o=c;this._p=null;this._hp=!1;a.call(this)}y(c,a);c.prototype.next=function(c){if(this._hp)this._o.onNext([this._p,c]);else this._hp=!0;this._p=c};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.pairwise=function(){return new Df(this)};
D.partition=function(a,c){var l=ya(a,c,3);return[this.filter(a,c),this.filter(function(c,a,k){return!l(c,a,k)})]};var Ef=function(a){function c(c,a){this.c=c;this.s=a}y(c,a);c.prototype[Sa]=function(){var c=this;return{next:function(){return c.c()?{done:!1,value:c.s}:{done:!0,value:void 0}}}};return c}(rb);D.letBind=D.let=function(a){return a(this)};P["if"]=function(a,c,l){return Tb(function(){l||(l=Mb());da(c)&&(c=fa(c));da(l)&&(l=fa(l));"function"===typeof l.now&&(l=Mb(l));return a()?c:l})};P["for"]=
P.forIn=function(a,c,l){return yc(a,c,l).concat()};var Ff=P["while"]=P.whileDo=function(a,c){da(c)&&(c=fa(c));return(new Ef(a,c)).concat()};D.doWhile=function(a){return kd([this,Ff(a,this)])};P["case"]=function(a,c,l){return Tb(function(){da(l)&&(l=fa(l));l||(l=Mb());ca(l)&&(l=Mb(l));var b=c[a()];da(b)&&(b=fa(b));return b||l})};var Hf=function(a){function c(c,l,b){this.source=c;this._fn=l;this._scheduler=b;a.call(this)}function l(c,a){var k=c[0],b=c[1],f;if(0<k.q.length){f=k.q.shift();var w=new Z;
k.d.add(w);w.setDisposable(f.subscribe(new Gf(k,b,w)));a([k,b])}else k.isAcquired=!1}y(c,a);c.prototype._ensureActive=function(c){var a=!1;0<c.q.length&&(a=!c.isAcquired,c.isAcquired=!0);a&&c.m.setDisposable(this._scheduler.scheduleRecursive([c,this],l))};c.prototype.subscribeCore=function(c){var a=new sa,l=new Ca(a);c={q:[],m:a,d:l,activeCount:0,isAcquired:!1,o:c};c.q.push(this.source);c.activeCount++;this._ensureActive(c);return l};return c}(N),Gf=function(a){function c(c,l,b){this._s=c;this._p=
l;this._m1=b;a.call(this)}y(c,a);c.prototype.next=function(c){this._s.o.onNext(c);c=K(this._p._fn)(c);if(c===J)return this._s.o.onError(c.e);this._s.q.push(c);this._s.activeCount++;this._p._ensureActive(this._s)};c.prototype.error=function(c){this._s.o.onError(c)};c.prototype.completed=function(){this._s.d.remove(this._m1);this._s.activeCount--;0===this._s.activeCount&&this._s.o.onCompleted()};return c}(M);D.expand=function(a,c){ca(c)||(c=Fa);return new Hf(this,a,c)};var Jf=function(a){function c(c,
l){this._sources=c;this._cb=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){if(0===this._sources.length)return c.onCompleted(),qa;for(var a=this._sources.length,a={finished:!1,hasResults:Array(a),hasCompleted:Array(a),results:Array(a)},l=new Ca,k=0,b=this._sources.length;k<b;k++){var f=this._sources[k];da(f)&&(f=fa(f));l.add(f.subscribe(new If(c,a,k,this._cb,l)))}return l};return c}(N),If=function(a){function c(c,l,b,f,w){this._o=c;this._s=l;this._i=b;this._cb=f;this._subs=w;a.call(this)}
y(c,a);c.prototype.next=function(c){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=c)};c.prototype.error=function(c){this._s.finished=!0;this._o.onError(c);this._subs.dispose()};c.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var c=0;c<this._s.results.length;c++)if(!this._s.hasCompleted[c])return;this._s.finished=!0;c=K(this._cb).apply(null,this._s.results);if(c===J)return this._o.onError(c.e);
this._o.onNext(c);this._o.onCompleted()}};return c}(M);P.forkJoin=function(){for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];a=U(c[a-1])?c.pop():ua;Array.isArray(c[0])&&(c=c[0]);return new Jf(c,a)};D.forkJoin=function(){for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];Array.isArray(c[0])?c[0].unshift(this):c.unshift(this);return P.forkJoin.apply(null,c)};D.manySelect=D.extend=function(a,c){ca(c)||(c=Q.Scheduler.immediate);var l=this;return Tb(function(){var b;
return l.map(function(c){var a=new Kf(c);b&&b.onNext(c);return b=a}).tap(za,function(c){b&&b.onError(c)},function(){b&&b.onCompleted()}).observeOn(c).map(a)},l)};var Kf=function(a){function c(c){a.call(this);this.head=c;this.tail=new Bc}y(c,a);Db(c.prototype,Ka,{_subscribe:function(c){var a=new Ca;a.add(Fa.schedule(this,function(l,k){c.onNext(k.head);a.add(k.tail.mergeAll().subscribe(c))}));return a},onCompleted:function(){this.onNext(P.empty())},onError:function(c){this.onNext(P["throw"](c))},onNext:function(c){this.tail.onNext(c);
this.tail.onCompleted()}});return c}(P),ec=ha.Map||function(){function a(){this.size=0;this._values=[];this._keys=[]}a.prototype["delete"]=function(c){c=this._keys.indexOf(c);if(-1===c)return!1;this._values.splice(c,1);this._keys.splice(c,1);this.size--;return!0};a.prototype.get=function(c){c=this._keys.indexOf(c);return-1===c?b:this._values[c]};a.prototype.set=function(c,a){var l=this._keys.indexOf(c);-1===l?(this._keys.push(c),this._values.push(a),this.size++):this._values[l]=a;return this};a.prototype.forEach=
function(c,a){for(var l=0;l<this.size;l++)c.call(a,this._values[l],this._keys[l])};return a}();xb.prototype.and=function(a){return new xb(this.patterns.concat(a))};xb.prototype.thenDo=function(a){return new la(this,a)};la.prototype.activate=function(a,c,l){for(var b=[],f=na(c),w=0,e=this.expression.patterns.length;w<e;w++)b.push(dc(a,this.expression.patterns[w],f));for(var d=new yb(b,Ec(this,c),function(){for(var c=0,a=b.length;c<a;c++)b[c].removeActivePlan(d);l(d)}),w=0,e=b.length;w<e;w++)b[w].addActivePlan(d);
return d};yb.prototype.dequeue=function(){this.joinObservers.forEach(function(a){a.queue.shift()})};yb.prototype.match=function(){var a,c,l=!0;a=0;for(c=this.joinObserverArray.length;a<c;a++)if(0===this.joinObserverArray[a].queue.length){l=!1;break}if(l){var l=[],b=!1;a=0;for(c=this.joinObserverArray.length;a<c;a++)l.push(this.joinObserverArray[a].queue[0]),"C"===this.joinObserverArray[a].queue[0].kind&&(b=!0);if(b)this.onCompleted();else{this.dequeue();c=[];for(a=0;a<l.length;a++)c.push(l[a].value);
this.onNext.apply(this,c)}}};var Ad=function(a){function c(c,l){a.call(this);this.source=c;this.onError=l;this.queue=[];this.activePlans=[];this.subscription=new Z;this.isDisposed=!1}y(c,a);var l=c.prototype;l.next=function(c){if(!this.isDisposed){if("E"===c.kind)return this.onError(c.error);this.queue.push(c);c=this.activePlans.slice(0);for(var a=0,l=c.length;a<l;a++)c[a].match()}};l.error=za;l.completed=za;l.addActivePlan=function(c){this.activePlans.push(c)};l.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))};
l.removeActivePlan=function(c){this.activePlans.splice(this.activePlans.indexOf(c),1);0===this.activePlans.length&&this.dispose()};l.dispose=function(){a.prototype.dispose.call(this);this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())};return c}(M);D.and=function(a){return new xb([this,a])};D.thenDo=function(a){return(new xb([this])).thenDo(a)};P.when=function(){var a=arguments.length,c;if(Array.isArray(arguments[0]))c=arguments[0];else{c=Array(a);for(var l=0;l<a;l++)c[l]=arguments[l]}return new ja(function(a){var l=
[],k=new ec,b=ob(function(c){a.onNext(c)},function(c){k.forEach(function(a){a.onError(c)});a.onError(c)},function(c){a.onCompleted()});try{for(var f=0,e=c.length;f<e;f++)l.push(c[f].activate(k,b,function(c){c=l.indexOf(c);l.splice(c,1);0===l.length&&a.onCompleted()}))}catch(d){return w(d).subscribe(a)}var g=new Ca;k.forEach(function(c){c.subscribe();g.add(c)});return g})};var Lf=function(a){function c(c,l){this._dt=c;this._s=l;a.call(this)}function l(c,a){a.onNext(0);a.onCompleted()}y(c,a);c.prototype.subscribeCore=
function(c){return this._s.scheduleFuture(c,this._dt,l)};return c}(N),Mf=P.interval=function(a,c){return zb(a,a,ca(c)?c:ia)};P.timer=function(a,c,l){var f;ca(l)||(l=ia);null!=c&&"number"===typeof c?f=c:ca(c)&&(l=c);return(a instanceof Date||"number"===typeof a)&&f===b?new Lf(a,l):a instanceof Date&&f!==b?Sb(a,c,l):zb(a,f,l)};D.delay=function(a,c){if("number"===typeof a||a instanceof Date){var l=c;ca(l)||(l=ia);return a instanceof Date?Gc(this,a,l):hb(this,a,l)}if(P.isObservable(a)||U(a))return Hc(this,
a,c);throw Error("Invalid arguments");};var Of=function(a){function c(c,l,b){ca(b)||(b=ia);this.source=c;this._dt=l;this._s=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){var a=new sa;return new ga(this.source.subscribe(new Nf(c,this._dt,this._s,a)),a)};return c}(N),Nf=function(a){function c(c,l,b,f){this._o=c;this._d=l;this._scheduler=b;this._c=f;this._v=null;this._hv=!1;this._id=0;a.call(this)}y(c,a);c.prototype.next=function(c){this._hv=!0;this._v=c;var a=++this._id,l=new Z;this._c.setDisposable(l);
l.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(l,k){k._hv&&k._id===a&&k._o.onNext(c);k._hv=!1}))};c.prototype.error=function(c){this._c.dispose();this._o.onError(c);this._hv=!1;this._id++};c.prototype.completed=function(){this._c.dispose();this._hv&&this._o.onNext(this._v);this._o.onCompleted();this._hv=!1;this._id++};return c}(M);D.debounce=function(a,c){if(U(a))return Ic(this,a);if("number"===typeof a)return new Of(this,a,c);throw Error("Invalid arguments");};D.windowWithTime=
D.windowTime=function(a,c,l){var b=this,f;null==c&&(f=a);ca(l)||(l=ia);"number"===typeof c?f=c:ca(c)&&(f=a,l=c);return new ja(function(c){function w(){var a=new Z,k=!1,b=!1;r.setDisposable(a);g===d?b=k=!0:g<d?k=!0:b=!0;var e=k?g:d,m=e-h;h=e;k&&(g+=f);b&&(d+=f);a.setDisposable(l.scheduleFuture(null,m,function(){if(b){var a=new Ha;q.push(a);c.onNext(ab(a,p))}k&&q.shift().onCompleted();w()}))}var e,d=f,g=a,q=[],p,r=new sa,h=0;e=new Ca(r);p=new wb(e);q.push(new Ha);c.onNext(ab(q[0],p));w();e.add(b.subscribe(function(c){for(var a=
0,l=q.length;a<l;a++)q[a].onNext(c)},function(a){for(var l=0,k=q.length;l<k;l++)q[l].onError(a);c.onError(a)},function(){for(var a=0,l=q.length;a<l;a++)q[a].onCompleted();c.onCompleted()}));return p},b)};D.windowWithTimeOrCount=D.windowTimeOrCount=function(a,c,l){var b=this;ca(l)||(l=ia);return new ja(function(f){function w(c){var b=new Z;e.setDisposable(b);b.setDisposable(l.scheduleFuture(null,a,function(){if(c===p){q=0;var a=++p;r.onCompleted();r=new Ha;f.onNext(ab(r,g));w(a)}}))}var e=new sa,d=
new Ca(e),g=new wb(d),q=0,p=0,r=new Ha;f.onNext(ab(r,g));w(0);d.add(b.subscribe(function(a){var l=0,k=!1;r.onNext(a);++q===c&&(k=!0,q=0,l=++p,r.onCompleted(),r=new Ha,f.onNext(ab(r,g)));k&&w(l)},function(c){r.onError(c);f.onError(c)},function(){r.onCompleted();f.onCompleted()}));return g},b)};D.bufferWithTime=D.bufferTime=function(a,c,l){return this.windowWithTime(a,c,l).flatMap(X)};D.bufferWithTimeOrCount=D.bufferTimeOrCount=function(a,c,l){return this.windowWithTimeOrCount(a,c,l).flatMap(X)};var Qf=
function(a){function c(c,l){this.source=c;this._s=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Pf(c,this._s))};return c}(N),Pf=function(a){function c(c,l){this._o=c;this._s=l;this._l=l.now();a.call(this)}y(c,a);c.prototype.next=function(c){var a=this._s.now(),l=a-this._l;this._l=a;this._o.onNext({value:c,interval:l})};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.timeInterval=
function(a){ca(a)||(a=ia);return new Qf(this,a)};var Sf=function(a){function c(c,l){this.source=c;this._s=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Rf(c,this._s))};return c}(N),Rf=function(a){function c(c,l){this._o=c;this._s=l;a.call(this)}y(c,a);c.prototype.next=function(c){this._o.onNext({value:c,timestamp:this._s.now()})};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.timestamp=
function(a){ca(a)||(a=ia);return new Sf(this,a)};var wd=function(a){function c(c,l){this.source=c;this._sampler=l;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){c={o:c,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new Z};c.sourceSubscription.setDisposable(this.source.subscribe(new Tf(c)));return new ga(c.sourceSubscription,this._sampler.subscribe(new Uf(c)))};return c}(N),Uf=function(a){function c(c){this._s=c;a.call(this)}y(c,a);c.prototype._handleMessage=function(){this._s.hasValue&&
(this._s.hasValue=!1,this._s.o.onNext(this._s.value));this._s.atEnd&&this._s.o.onCompleted()};c.prototype.next=function(){this._handleMessage()};c.prototype.error=function(c){this._s.onError(c)};c.prototype.completed=function(){this._handleMessage()};return c}(M),Tf=function(a){function c(c){this._s=c;a.call(this)}y(c,a);c.prototype.next=function(c){this._s.hasValue=!0;this._s.value=c};c.prototype.error=function(c){this._s.o.onError(c)};c.prototype.completed=function(){this._s.atEnd=!0;this._s.sourceSubscription.dispose()};
return c}(M);D.sample=function(a,c){ca(c)||(c=ia);return"number"===typeof a?new wd(this,Mf(a,c)):new wd(this,a)};var Uc=Q.TimeoutError=function(a){this.message=a||"Timeout has occurred";this.name="TimeoutError";Error.call(this)};Uc.prototype=Object.create(Error.prototype);D.timeout=function(a,c,l){if(a instanceof Date||"number"===typeof a)return Bd(this,a,c,l);if(P.isObservable(a)||U(a))return ib(this,a,c,l);throw Error("Invalid arguments");};var Vf=function(a){function c(c,l,b,f,w,e){this._state=
c;this._cndFn=l;this._itrFn=b;this._resFn=f;this._timeFn=w;this._s=e;a.call(this)}function l(c,a){c.hasResult&&c.o.onNext(c.result);if(c.first)c.first=!1;else if(c.newState=K(c.self._itrFn)(c.newState),c.newState===J)return c.o.onError(c.newState.e);c.hasResult=K(c.self._cndFn)(c.newState);if(c.hasResult===J)return c.o.onError(c.hasResult.e);if(c.hasResult){c.result=K(c.self._resFn)(c.newState);if(c.result===J)return c.o.onError(c.result.e);var k=K(c.self._timeFn)(c.newState);if(k===J)return c.o.onError(k.e);
a(c,k)}else c.o.onCompleted()}y(c,a);c.prototype.subscribeCore=function(c){return this._s.scheduleRecursiveFuture({o:c,self:this,newState:this._state,first:!0,hasResult:!1},new Date(this._s.now()),l)};return c}(N);P.generateWithAbsoluteTime=function(a,c,l,b,f,w){ca(w)||(w=ia);return new Vf(a,c,l,b,f,w)};var Wf=function(a){function c(c,l,b,f,w,e){this._state=c;this._cndFn=l;this._itrFn=b;this._resFn=f;this._timeFn=w;this._s=e;a.call(this)}function l(c,a){c.hasResult&&c.o.onNext(c.result);if(c.first)c.first=
!1;else if(c.newState=K(c.self._itrFn)(c.newState),c.newState===J)return c.o.onError(c.newState.e);c.hasResult=K(c.self._cndFn)(c.newState);if(c.hasResult===J)return c.o.onError(c.hasResult.e);if(c.hasResult){c.result=K(c.self._resFn)(c.newState);if(c.result===J)return c.o.onError(c.result.e);var b=K(c.self._timeFn)(c.newState);if(b===J)return c.o.onError(b.e);a(c,b)}else c.o.onCompleted()}y(c,a);c.prototype.subscribeCore=function(c){return this._s.scheduleRecursiveFuture({o:c,self:this,newState:this._state,
first:!0,hasResult:!1},0,l)};return c}(N);P.generateWithRelativeTime=function(a,c,l,b,f,w){ca(w)||(w=ia);return new Wf(a,c,l,b,f,w)};var Xf=function(a){function c(c,l,b){this.source=c;this._dt=l;this._s=b;a.call(this)}function l(c,a){a[2].setDisposable(a[0].subscribe(a[1]))}y(c,a);c.prototype.subscribeCore=function(c){var a=new sa;a.setDisposable(this._s.scheduleFuture([this.source,c,a],this._dt,l));return a};return c}(N);D.delaySubscription=function(a,c){ca(c)||(c=ia);return new Xf(this,a,c)};var Zf=
function(a){function c(c,l,b){this.source=c;this._d=l;this._s=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new Yf(c,this))};return c}(N),Yf=function(a){function c(c,l){this._o=c;this._s=l._s;this._d=l._d;this._q=[];a.call(this)}y(c,a);c.prototype.next=function(c){var a=this._s.now();for(this._q.push({interval:a,value:c});0<this._q.length&&a-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)};c.prototype.error=function(c){this._o.onError(c)};
c.prototype.completed=function(){for(var c=this._s.now();0<this._q.length&&c-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()};return c}(M);D.skipLastWithTime=function(a,c){ca(c)||(c=ia);return new Zf(this,a,c)};var ag=function(a){function c(c,l,b){this.source=c;this._d=l;this._s=b;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){return this.source.subscribe(new $f(c,this._d,this._s))};return c}(N),$f=function(a){function c(c,l,b){this._o=c;this._d=
l;this._s=b;this._q=[];a.call(this)}y(c,a);c.prototype.next=function(c){var a=this._s.now();for(this._q.push({interval:a,value:c});0<this._q.length&&a-this._q[0].interval>=this._d;)this._q.shift()};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){for(var c=this._s.now();0<this._q.length;){var a=this._q.shift();if(c-a.interval<=this._d)this._o.onNext(a.value)}this._o.onCompleted()};return c}(M);D.takeLastWithTime=function(a,c){ca(c)||(c=ia);return new ag(this,a,c)};
D.takeLastBufferWithTime=function(a,c){var l=this;ca(c)||(c=ia);return new ja(function(b){var f=[];return l.subscribe(function(l){var b=c.now();for(f.push({interval:b,value:l});0<f.length&&b-f[0].interval>=a;)f.shift()},function(c){b.onError(c)},function(){for(var l=c.now(),w=[];0<f.length;){var e=f.shift();l-e.interval<=a&&w.push(e.value)}b.onNext(w);b.onCompleted()})},l)};var bg=function(a){function c(c,l,b){this.source=c;this._d=l;this._s=b;a.call(this)}function l(c,a){a.onCompleted()}y(c,a);c.prototype.subscribeCore=
function(c){return new ga(this._s.scheduleFuture(c,this._d,l),this.source.subscribe(c))};return c}(N);D.takeWithTime=function(a,c){ca(c)||(c=ia);return new bg(this,a,c)};var dg=function(a){function c(c,l,b){this.source=c;this._d=l;this._s=b;this._open=!1;a.call(this)}function l(c,a){a._open=!0}y(c,a);c.prototype.subscribeCore=function(c){return new ga(this._s.scheduleFuture(this,this._d,l),this.source.subscribe(new cg(c,this)))};return c}(N),cg=function(a){function c(c,l){this._o=c;this._p=l;a.call(this)}
y(c,a);c.prototype.next=function(c){this._p._open&&this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.skipWithTime=function(a,c){ca(c)||(c=ia);return new dg(this,a,c)};var fg=function(a){function c(c,l,b){this.source=c;this._st=l;this._s=b;a.call(this)}function l(c,a){a._open=!0}y(c,a);c.prototype.subscribeCore=function(c){this._open=!1;return new ga(this._s.scheduleFuture(this,this._st,l),this.source.subscribe(new eg(c,
this)))};return c}(N),eg=function(a){function c(c,l){this._o=c;this._p=l;a.call(this)}y(c,a);c.prototype.next=function(c){this._p._open&&this._o.onNext(c)};c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._o.onCompleted()};return c}(M);D.skipUntilWithTime=function(a,c){ca(c)||(c=ia);return new fg(this,a,c)};D.takeUntilWithTime=function(a,c){ca(c)||(c=ia);var l=this;return new ja(function(b){return new ga(c.scheduleFuture(b,a,function(c,a){a.onCompleted()}),l.subscribe(b))},
l)};D.throttle=function(a,c){ca(c)||(c=ia);var l=+a||0;if(0>=l)throw new RangeError("windowDuration cannot be less or equal zero.");var b=this;return new ja(function(a){var k=0;return b.subscribe(function(b){var f=c.now();if(0===k||f-k>=l)k=f,a.onNext(b)},function(c){a.onError(c)},function(){a.onCompleted()})},b)};var gg=function(a){function c(c,l){this._o=c;this._xform=l;a.call(this)}y(c,a);c.prototype.next=function(c){c=K(this._xform["@@transducer/step"]).call(this._xform,this._o,c);if(c===J)this._o.onError(c.e)};
c.prototype.error=function(c){this._o.onError(c)};c.prototype.completed=function(){this._xform["@@transducer/result"](this._o)};return c}(M);D.transduce=function(a){var c=this;return new ja(function(l){var b=a(Jc(l));return c.subscribe(new gg(l,b))},c)};var ig=function(a){function c(c){this.source=c;a.call(this)}y(c,a);c.prototype.subscribeCore=function(c){var a=new Z,l=new Ca;c={hasCurrent:!1,isStopped:!1,o:c,g:l};l.add(a);a.setDisposable(this.source.subscribe(new hg(c)));return l};return c}(N),
hg=function(a){function c(c){this._s=c;a.call(this)}function l(c,b){this._s=c;this._i=b;a.call(this)}y(c,a);c.prototype.next=function(c){if(!this._s.hasCurrent){this._s.hasCurrent=!0;da(c)&&(c=fa(c));var a=new Z;this._s.g.add(a);a.setDisposable(c.subscribe(new l(this._s,a)))}};c.prototype.error=function(c){this._s.o.onError(c)};c.prototype.completed=function(){this._s.isStopped=!0;!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()};y(l,a);l.prototype.next=function(c){this._s.o.onNext(c)};
l.prototype.error=function(c){this._s.o.onError(c)};l.prototype.completed=function(){this._s.g.remove(this._i);this._s.hasCurrent=!1;this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()};return c}(M);D.switchFirst=function(){return new ig(this)};D.flatMapFirst=D.exhaustMap=function(a,c,l){return(new Yb(this,a,c,l)).switchFirst()};D.flatMapWithMaxConcurrent=D.flatMapMaxConcurrent=function(a,c,l,b){return(new Yb(this,c,l,b)).merge(a)};var jg=Q.VirtualTimeScheduler=function(a){function c(c,
l){this.clock=c;this.comparer=l;this.isEnabled=!1;this.queue=new Ta(1024);a.call(this)}y(c,a);var l=c.prototype;l.now=function(){return this.toAbsoluteTime(this.clock)};l.schedule=function(c,a){return this.scheduleAbsolute(c,this.clock,a)};l.scheduleFuture=function(c,a,l){a=a instanceof Date?this.toRelativeTime(a-this.now()):this.toRelativeTime(a);return this.scheduleRelative(c,a,l)};l.add=Cb;l.toAbsoluteTime=Cb;l.toRelativeTime=Cb;l.schedulePeriodic=function(c,a,l){return(new nb(this,c,a,l)).start()};
l.scheduleRelative=function(c,a,l){a=this.add(this.clock,a);return this.scheduleAbsolute(c,a,l)};l.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var c=this.getNext();null!==c?(0<this.comparer(c.dueTime,this.clock)&&(this.clock=c.dueTime),c.invoke()):this.isEnabled=!1}while(this.isEnabled)}};l.stop=function(){this.isEnabled=!1};l.advanceTo=function(c){var a=this.comparer(this.clock,c);if(0<this.comparer(this.clock,c))throw new Pa;if(0!==a&&!this.isEnabled){this.isEnabled=!0;do a=this.getNext(),
null!==a&&0>=this.comparer(a.dueTime,c)?(0<this.comparer(a.dueTime,this.clock)&&(this.clock=a.dueTime),a.invoke()):this.isEnabled=!1;while(this.isEnabled);this.clock=c}};l.advanceBy=function(c){c=this.add(this.clock,c);var a=this.comparer(this.clock,c);if(0<a)throw new Pa;0!==a&&this.advanceTo(c)};l.sleep=function(c){c=this.add(this.clock,c);if(0<=this.comparer(this.clock,c))throw new Pa;this.clock=c};l.getNext=function(){for(;0<this.queue.length;){var c=this.queue.peek();if(c.isCancelled())this.queue.dequeue();
else return c}return null};l.scheduleAbsolute=function(c,a,l){var b=this,k=new Eb(this,c,function(c,a){b.queue.remove(k);return l(c,a)},a,this.comparer);this.queue.enqueue(k);return k.disposable};return c}(oa);Q.HistoricalScheduler=function(a){function c(c,l){a.call(this,null==c?0:c,l||jb)}y(c,a);var l=c.prototype;l.add=function(c,a){return c+a};l.toAbsoluteTime=function(c){return(new Date(c)).getTime()};l.toRelativeTime=function(c){return c};return c}(Q.VirtualTimeScheduler);mc.prototype.equals=
function(a){return a===this?!0:null==a||"N"!==a.kind?!1:this.predicate(a.value)};fc.prototype.equals=function(a){return a===this?!0:null==a||"E"!==a.kind?!1:this.predicate(a.error)};var nd=Q.ReactiveTest={created:100,subscribed:200,disposed:1E3,onNext:function(a,c){return"function"===typeof c?new Gb(a,new mc(c)):new Gb(a,Na.createOnNext(c))},onError:function(a,c){return"function"===typeof c?new Gb(a,new fc(c)):new Gb(a,Na.createOnError(c))},onCompleted:function(a){return new Gb(a,Na.createOnCompleted())},
subscribe:function(a,c){return new Hb(a,c)}},Gb=Q.Recorded=function(a,c,l){this.time=a;this.value=c;this.comparer=l||gc};Gb.prototype.equals=function(a){return this.time===a.time&&this.comparer(this.value,a.value)};Gb.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Hb=Q.Subscription=function(a,c){this.subscribe=a;this.unsubscribe=c||Number.MAX_VALUE};Hb.prototype.equals=function(a){return this.subscribe===a.subscribe&&this.unsubscribe===a.unsubscribe};Hb.prototype.toString=
function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};(Q.MockDisposable=function(a){this.scheduler=a;this.disposes=[];this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var kg=function(a){function c(c){a.call(this);this.scheduler=c;this.messages=[]}y(c,a);var l=c.prototype;l.onNext=function(c){this.messages.push(new Gb(this.scheduler.clock,Na.createOnNext(c)))};l.onError=function(c){this.messages.push(new Gb(this.scheduler.clock,
Na.createOnError(c)))};l.onCompleted=function(){this.messages.push(new Gb(this.scheduler.clock,Na.createOnCompleted()))};return c}(Ka);Ub.prototype.then=function(a,c){var l=this;this.subscriptions.push(new Hb(this.scheduler.clock));var f=this.subscriptions.length-1,w,e=Q.Observer.create(function(c){(c=a(c))&&"function"===typeof c.then?w=c:(c=l.scheduler.clock,w=new Ub(l.scheduler,[Q.ReactiveTest.onNext(c,b),Q.ReactiveTest.onCompleted(c)]));c=l.observers.indexOf(e);l.observers.splice(c,1);l.subscriptions[f]=
new Hb(l.subscriptions[f].subscribe,l.scheduler.clock)},function(a){c(a);a=l.observers.indexOf(e);l.observers.splice(a,1);l.subscriptions[f]=new Hb(l.subscriptions[f].subscribe,l.scheduler.clock)});this.observers.push(e);return w||new Ub(this.scheduler,this.messages)};var lg=function(a){function c(c,l){a.call(this);var b,f,w=this;this.scheduler=c;this.messages=l;this.subscriptions=[];this.observers=[];for(var e=0,d=this.messages.length;e<d;e++)b=this.messages[e],f=b.value,function(a){c.scheduleAbsolute(null,
b.time,function(){for(var c=w.observers.slice(0),l=0,b=c.length;l<b;l++)a.accept(c[l]);return qa})}(f)}y(c,a);c.prototype._subscribe=function(c){var a=this;this.observers.push(c);this.subscriptions.push(new Hb(this.scheduler.clock));var l=this.subscriptions.length-1;return cb(function(){var b=a.observers.indexOf(c);a.observers.splice(b,1);a.subscriptions[l]=new Hb(a.subscriptions[l].subscribe,a.scheduler.clock)})};return c}(P),mg=function(a){function c(c,l){a.call(this);this.scheduler=c;this.messages=
l;this.subscriptions=[]}y(c,a);c.prototype._subscribe=function(c){var a,l,b=this;this.subscriptions.push(new Hb(this.scheduler.clock));for(var k=this.subscriptions.length-1,f=new Ca,w=0,e=this.messages.length;w<e;w++)a=this.messages[w],l=a.value,function(l){f.add(b.scheduler.scheduleRelative(null,a.time,function(){l.accept(c);return qa}))}(l);return cb(function(){b.subscriptions[k]=new Hb(b.subscriptions[k].subscribe,b.scheduler.clock);f.dispose()})};return c}(P);Q.TestScheduler=function(a){function c(c,
a){return c>a?1:c<a?-1:0}function l(){a.call(this,0,c)}y(l,a);l.prototype.scheduleAbsolute=function(c,l,b){l<=this.clock&&(l=this.clock+1);return a.prototype.scheduleAbsolute.call(this,c,l,b)};l.prototype.add=function(c,a){return c+a};l.prototype.toAbsoluteTime=function(c){return(new Date(c)).getTime()};l.prototype.toRelativeTime=function(c){return c};l.prototype.startScheduler=function(c,a){a||(a={});null==a.created&&(a.created=nd.created);null==a.subscribed&&(a.subscribed=nd.subscribed);null==a.disposed&&
(a.disposed=nd.disposed);var l=this.createObserver(),b,k;this.scheduleAbsolute(null,a.created,function(){b=c();return qa});this.scheduleAbsolute(null,a.subscribed,function(){k=b.subscribe(l);return qa});this.scheduleAbsolute(null,a.disposed,function(){k.dispose();return qa});this.start();return l};l.prototype.createHotObservable=function(){var c=arguments.length,a;if(Array.isArray(arguments[0]))a=arguments[0];else{a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l]}return new lg(this,a)};l.prototype.createColdObservable=
function(){var c=arguments.length,a;if(Array.isArray(arguments[0]))a=arguments[0];else{a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l]}return new mg(this,a)};l.prototype.createResolvedPromise=function(c,a){return new Ub(this,[Q.ReactiveTest.onNext(c,a),Q.ReactiveTest.onCompleted(c)])};l.prototype.createRejectedPromise=function(c,a){return new Ub(this,[Q.ReactiveTest.onError(c,a)])};l.prototype.createObserver=function(){return new kg(this)};return l}(jg);var ja=Q.AnonymousObservable=function(a){function c(c){return c&&
U(c.dispose)?c:U(c)?cb(c):qa}function l(a,b){var k=b[0],f=b[1],f=K(f.__subscribe).call(f,k);f!==J||k.fail(J.e)||r(J.e);k.setDisposable(c(f))}function b(c,l){this.source=l;this.__subscribe=c;a.call(this)}y(b,a);b.prototype._subscribe=function(c){c=new od(c);var a=[c,this];Fa.scheduleRequired()?Fa.schedule(a,l):l(null,a);return c};return b}(P),od=function(a){function c(c){a.call(this);this.observer=c;this.m=new Z}y(c,a);var l=c.prototype;l.next=function(c){c=K(this.observer.onNext).call(this.observer,
c);c===J&&(this.dispose(),r(c.e))};l.error=function(c){c=K(this.observer.onError).call(this.observer,c);this.dispose();c===J&&r(c.e)};l.completed=function(){var c=K(this.observer.onCompleted).call(this.observer);this.dispose();c===J&&r(c.e)};l.setDisposable=function(c){this.m.setDisposable(c)};l.getDisposable=function(){return this.m.getDisposable()};l.dispose=function(){a.prototype.dispose.call(this);this.m.dispose()};return c}(M),ng=function(a){function c(c,l){this._m=c;this._u=l;a.call(this)}y(c,
a);c.prototype.subscribeCore=function(c){return new ga(this._m.getDisposable(),this._u.subscribe(c))};return c}(N),pd=function(a){function c(c,l,b){a.call(this);this.key=c;this.underlyingObservable=b?new ng(b,l):l}y(c,a);c.prototype._subscribe=function(c){return this.underlyingObservable.subscribe(c)};return c}(P),Ha=Q.Subject=function(a){function c(){a.call(this);this.isStopped=this.isDisposed=!1;this.observers=[];this.hasError=!1}y(c,a);Db(c.prototype,Ka.prototype,{_subscribe:function(c){Da(this);
if(!this.isStopped)return this.observers.push(c),new ed(this,c);if(this.hasError)return c.onError(this.error),qa;c.onCompleted();return qa},hasObservers:function(){Da(this);return 0<this.observers.length},onCompleted:function(){Da(this);if(!this.isStopped){this.isStopped=!0;for(var c=0,a=v(this.observers),l=a.length;c<l;c++)a[c].onCompleted();this.observers.length=0}},onError:function(c){Da(this);if(!this.isStopped){this.isStopped=!0;this.error=c;this.hasError=!0;for(var a=0,l=v(this.observers),b=
l.length;a<b;a++)l[a].onError(c);this.observers.length=0}},onNext:function(c){Da(this);if(!this.isStopped)for(var a=0,l=v(this.observers),b=l.length;a<b;a++)l[a].onNext(c)},dispose:function(){this.isDisposed=!0;this.observers=null}});c.create=function(c,a){return new og(c,a)};return c}(P),Bc=Q.AsyncSubject=function(a){function c(){a.call(this);this.hasValue=this.isStopped=this.isDisposed=!1;this.observers=[];this.hasError=!1}y(c,a);Db(c.prototype,Ka.prototype,{_subscribe:function(c){Da(this);if(!this.isStopped)return this.observers.push(c),
new ed(this,c);if(this.hasError)c.onError(this.error);else{if(this.hasValue)c.onNext(this.value);c.onCompleted()}return qa},hasObservers:function(){Da(this);return 0<this.observers.length},onCompleted:function(){var c,a;Da(this);if(!this.isStopped){this.isStopped=!0;var l=v(this.observers);a=l.length;if(this.hasValue)for(c=0;c<a;c++){var b=l[c];b.onNext(this.value);b.onCompleted()}else for(c=0;c<a;c++)l[c].onCompleted();this.observers.length=0}},onError:function(c){Da(this);if(!this.isStopped){this.hasError=
this.isStopped=!0;this.error=c;for(var a=0,l=v(this.observers),b=l.length;a<b;a++)l[a].onError(c);this.observers.length=0}},onNext:function(c){Da(this);this.isStopped||(this.value=c,this.hasValue=!0)},dispose:function(){this.isDisposed=!0;this.value=this.error=this.observers=null}});return c}(P),ud=Q.BehaviorSubject=function(a){function c(c){a.call(this);this.value=c;this.observers=[];this.hasError=this.isStopped=this.isDisposed=!1}y(c,a);Db(c.prototype,Ka.prototype,{_subscribe:function(c){Da(this);
if(!this.isStopped)return this.observers.push(c),c.onNext(this.value),new ed(this,c);if(this.hasError)c.onError(this.error);else c.onCompleted();return qa},getValue:function(){Da(this);this.hasError&&r(this.error);return this.value},hasObservers:function(){Da(this);return 0<this.observers.length},onCompleted:function(){Da(this);if(!this.isStopped){this.isStopped=!0;for(var c=0,a=v(this.observers),l=a.length;c<l;c++)a[c].onCompleted();this.observers.length=0}},onError:function(c){Da(this);if(!this.isStopped){this.hasError=
this.isStopped=!0;this.error=c;for(var a=0,l=v(this.observers),b=l.length;a<b;a++)l[a].onError(c);this.observers.length=0}},onNext:function(c){Da(this);if(!this.isStopped){this.value=c;for(var a=0,l=v(this.observers),b=l.length;a<b;a++)l[a].onNext(c)}},dispose:function(){this.isDisposed=!0;this.error=this.value=this.observers=null}});return c}(P),vd=Q.ReplaySubject=function(a){function c(c,a){return cb(function(){a.dispose();!c.isDisposed&&c.observers.splice(c.observers.indexOf(a),1)})}function l(c,
f,w){this.bufferSize=null==c?b:c;this.windowSize=null==f?b:f;this.scheduler=w||Fa;this.q=[];this.observers=[];this.hasError=this.isDisposed=this.isStopped=!1;this.error=null;a.call(this)}var b=Math.pow(2,53)-1;y(l,a);Db(l.prototype,Ka.prototype,{_subscribe:function(a){Da(this);a=new xc(this.scheduler,a);var l=c(this,a);this._trim(this.scheduler.now());this.observers.push(a);for(var b=0,k=this.q.length;b<k;b++)a.onNext(this.q[b].value);if(this.hasError)a.onError(this.error);else if(this.isStopped)a.onCompleted();
a.ensureActive();return l},hasObservers:function(){Da(this);return 0<this.observers.length},_trim:function(c){for(;this.q.length>this.bufferSize;)this.q.shift();for(;0<this.q.length&&c-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(c){Da(this);if(!this.isStopped){var a=this.scheduler.now();this.q.push({interval:a,value:c});this._trim(a);for(var a=0,l=v(this.observers),b=l.length;a<b;a++){var k=l[a];k.onNext(c);k.ensureActive()}}},onError:function(c){Da(this);if(!this.isStopped){this.isStopped=
!0;this.error=c;this.hasError=!0;var a=this.scheduler.now();this._trim(a);for(var a=0,l=v(this.observers),b=l.length;a<b;a++){var k=l[a];k.onError(c);k.ensureActive()}this.observers.length=0}},onCompleted:function(){Da(this);if(!this.isStopped){this.isStopped=!0;var c=this.scheduler.now();this._trim(c);for(var c=0,a=v(this.observers),l=a.length;c<l;c++){var b=a[c];b.onCompleted();b.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0;this.observers=null}});return l}(P),og=
Q.AnonymousSubject=function(a){function c(c,l){this.observer=c;this.observable=l;a.call(this)}y(c,a);Db(c.prototype,Ka.prototype,{_subscribe:function(c){return this.observable.subscribe(c)},onCompleted:function(){this.observer.onCompleted()},onError:function(c){this.observer.onError(c)},onNext:function(c){this.observer.onNext(c)}});return c}(P);Q.Pauser=function(a){function c(){a.call(this)}y(c,a);c.prototype.pause=function(){this.onNext(!1)};c.prototype.resume=function(){this.onNext(!0)};return c}(Ha);
ha.Rx=Q;!(g=function(){return Q}.call(h,a,h,d),g!==b&&(d.exports=g));var Dd=E()}).call(this)}).call(h,a(24)(d),function(){return this}(),a(25))},function(d,h){d.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1);return a}},function(d,h){function a(){throw Error("setTimeout has not been defined");}function g(){throw Error("clearTimeout has not been defined");}function m(b){if(r===setTimeout)return setTimeout(b,0);if((r===a||!r)&&setTimeout)return r=
setTimeout,setTimeout(b,0);try{return r(b,0)}catch(f){try{return r.call(null,b,0)}catch(e){return r.call(this,b,0)}}}function e(a){if(E===clearTimeout)return clearTimeout(a);if((E===g||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(a);try{return E(a)}catch(b){try{return E.call(null,a)}catch(f){return E.call(this,a)}}}function f(){u&&z&&(u=!1,z.length?C=z.concat(C):H=-1,C.length&&b())}function b(){if(!u){var a=m(f);u=!0;for(var b=C.length;b;){z=C;for(C=[];++H<b;)z&&z[H].run();H=-1;b=C.length}z=
null;u=!1;e(a)}}function p(a,b){this.fun=a;this.array=b}function v(){}var q=d.exports={},r,E;try{r="function"===typeof setTimeout?setTimeout:a}catch(B){r=a}try{E="function"===typeof clearTimeout?clearTimeout:g}catch(A){E=g}var C=[],u=!1,z,H=-1;q.nextTick=function(a){var f=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)f[e-1]=arguments[e];C.push(new p(a,f));1!==C.length||u||m(b)};p.prototype.run=function(){this.fun.apply(null,this.array)};q.title="browser";q.browser=
!0;q.env={};q.argv=[];q.version="";q.versions={};q.on=v;q.addListener=v;q.once=v;q.off=v;q.removeListener=v;q.removeAllListeners=v;q.emit=v;q.binding=function(a){throw Error("process.binding is not supported");};q.cwd=function(){return"/"};q.chdir=function(a){throw Error("process.chdir is not supported");};q.umask=function(){return 0}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(27);var m=g(d),e=a(28);d=a(40);var f=g(d);d=
a(41);var b=g(d);d=a(42);var p=g(d);d=a(52);var v=g(d),q=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;return b}(a(51));a=a(134);var r=g(a);h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:m.default.Map(),d=[f.default],g=function(a){return m.default.Iterable.isIterable(a)?a.toJS():a},h=void 0,h=v.default.getDebugMode()?(0,b.default)({collapsed:!0,stateTransformer:g}):(0,b.default)({stateTransformer:g,
level:{prevState:"noop",action:"log",nextState:"log",error:"log"},colors:{title:!1,prevState:!1,action:!1,nextState:!1,error:!1},predicate:function(a,b){return b.type===q.ERROR},logger:r.default});d.push(h);return(0,e.createStore)(p.default,a,e.compose.apply(n,[e.applyMiddleware.apply(n,d)].concat([])))}},function(d,h,a){(function(a,h){d.exports=h()})(this,function(){function a(l,b){b&&(l.prototype=Object.create(b.prototype));l.prototype.constructor=l}function d(a){return p(a)?a:R(a)}function e(a){return h(a)?
a:Y(a)}function f(a){return q(a)?a:ba(a)}function b(a){return p(a)&&!r(a)?a:aa(a)}function p(a){return!(!a||!a[Vc])}function h(a){return!(!a||!a[Na])}function q(a){return!(!a||!a[Xc])}function r(a){return h(a)||q(a)}function E(a){return!(!a||!a[Wb])}function B(a){a.value=!1;return a}function A(a){a&&(a.value=!0)}function C(){}function u(a,b){b=b||0;for(var f=Math.max(0,a.length-b),e=Array(f),d=0;d<f;d++)e[d]=a[d+b];return e}function z(a){a.size===n&&(a.size=a.__iterate(x));return a.size}function H(a,
b){if("number"!==typeof b){var f=b>>>0;if(""+f!==b||4294967295===f)return NaN;b=f}return 0>b?z(a)+b:b}function x(){return!0}function I(a,b,f){return(0===a||f!==n&&a<=-f)&&(b===n||f!==n&&b>=f)}function G(a,b){return L(a,b,b)}function L(a,b,f){return a===n?f:0>a?Math.max(0,b+a):b===n?a:Math.min(b,a)}function F(a){this.next=a}function O(a,b,f,e){a=0===a?b:1===a?f:[b,f];e?e.value=a:e={value:a,done:!1};return e}function V(){return{value:n,done:!0}}function T(a){return a&&"function"===typeof a.next}function W(a){var b=
pa(a);return b&&b.call(a)}function pa(a){a=a&&(vc&&a[vc]||a[Ka]);if("function"===typeof a)return a}function R(a){if(null===a||a===n)a=Ea();else if(p(a))a=a.toSeq();else{var b=tb(a)||"object"===typeof a&&new xa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);a=b}return a}function Y(a){return null===a||a===n?Ea().toKeyedSeq():p(a)?h(a)?a.toSeq():a.fromEntrySeq():Va(a)}function ba(a){return null===a||a===n?Ea():p(a)?h(a)?a.entrySeq():a.toIndexedSeq():
fb(a)}function aa(a){return(null===a||a===n?Ea():p(a)?h(a)?a.entrySeq():a:fb(a)).toSetSeq()}function ua(a){this._array=a;this.size=a.length}function xa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}function Ra(a){this._iterable=a;this.size=a.length||a.size}function X(a){this._iterator=a;this._iteratorCache=[]}function eb(a){return!(!a||!a[M])}function Ea(){return wc||(wc=new ua([]))}function Va(a){var b=Array.isArray(a)?(new ua(a)).fromEntrySeq():T(a)?(new X(a)).fromEntrySeq():
pa(a)?(new Ra(a)).fromEntrySeq():"object"===typeof a?new xa(a):n;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function fb(a){var b=tb(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function tb(a){return a&&"number"===typeof a.length?new ua(a):T(a)?new X(a):pa(a)?new Ra(a):n}function ub(a,b,f,e){var d=a._cache;if(d){for(var g=d.length-1,q=0;q<=g;q++){var p=d[f?g-q:q];if(!1===b(p[1],e?p[0]:q,
a))return q+1}return q}return a.__iterateUncached(b,f)}function Xa(a,b,f,e){var d=a._cache;if(d){var g=d.length-1,q=0;return new F(function(){var a=d[f?g-q:q];return q++>g?V():O(b,e?a[0]:q-1,a[1])})}return a.__iteratorUncached(b,f)}function kb(a,b){return b?ea(b,a,"",{"":a}):Za(a)}function ea(a,b,f,e){return Array.isArray(b)?a.call(e,f,ba(b).map(function(f,e){return ea(a,f,e,b)})):!b||b.constructor!==Object&&b.constructor!==n?b:a.call(e,f,Y(b).map(function(f,e){return ea(a,f,e,b)}))}function Za(a){return Array.isArray(a)?
ba(a).map(Za).toList():!a||a.constructor!==Object&&a.constructor!==n?a:Y(a).map(Za).toMap()}function ra(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if("function"===typeof a.valueOf&&"function"===typeof b.valueOf){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return"function"===typeof a.equals&&"function"===typeof b.equals&&a.equals(b)?!0:!1}function lb(a,b){if(a===b)return!0;if(!p(b)||a.size!==n&&b.size!==n&&a.size!==b.size||a.__hash!==n&&b.__hash!==n&&
a.__hash!==b.__hash||h(a)!==h(b)||q(a)!==q(b)||E(a)!==E(b))return!1;if(0===a.size&&0===b.size)return!0;var f=!r(a);if(E(a)){var e=a.entries();return b.every(function(a,l){var b=e.next().value;return b&&ra(b[1],a)&&(f||ra(b[0],l))})&&e.next().done}var d=!1;if(a.size===n)if(b.size===n)"function"===typeof a.cacheResult&&a.cacheResult();else{var d=!0,g=a;a=b;b=g}var m=!0,g=b.__iterate(function(b,e){if(f?!a.has(b):d?!ra(b,a.get(e,ma)):!ra(a.get(e,ma),b))return m=!1});return m&&a.size===g}function Ba(a,
b){if(!(this instanceof Ba))return new Ba(a,b);this._value=a;this.size=b===n?Infinity:Math.max(0,b);if(0===this.size){if(Rc)return Rc;Rc=this}}function Kb(a,b){if(!a)throw Error(b);}function Ga(a,b,f){if(!(this instanceof Ga))return new Ga(a,b,f);Kb(0!==f,"Cannot step a Range by 0");a=a||0;b===n&&(b=Infinity);f=f===n?1:Math.abs(f);b<a&&(f=-f);this._start=a;this._end=b;this._step=f;this.size=Math.max(0,Math.ceil((b-a)/f-1)+1);if(0===this.size){if(xc)return xc;xc=this}}function $a(){throw TypeError("Abstract");
}function vb(){}function gb(){}function Lb(){}function La(a){if(!1===a||null===a||a===n||"function"===typeof a.valueOf&&(a=a.valueOf(),!1===a||null===a||a===n))return 0;if(!0===a)return 1;var b=typeof a;if("number"===b){if(a!==a||Infinity===a)return 0;b=a|0;for(b!==a&&(b^=4294967295*a);4294967295<a;)a/=4294967295,b^=a;return b>>>1&1073741824|b&3221225471}if("string"===b)return a.length>hd?(b=yc[a],b===n&&(b=cc(a),Tc===Zc&&(Tc=0,yc={}),Tc++,yc[a]=b),a=b):a=cc(a),a;if("function"===typeof a.hashCode)return a.hashCode();
if("object"===b)return xb(a);if("function"===typeof a.toString)return cc(a.toString());throw Error("Value type "+b+" cannot be hashed.");}function cc(a){for(var b=0,f=0;f<a.length;f++)b=31*b+a.charCodeAt(f)|0;return b>>>1&1073741824|b&3221225471}function xb(a){var b;if(Yb&&(b=rb.get(a),b!==n))return b;b=a[Pb];if(b!==n)return b;if(!P){b=a.propertyIsEnumerable&&a.propertyIsEnumerable[Pb];if(b!==n)return b;a:{if(a&&0<a.nodeType)switch(a.nodeType){case 1:b=a.uniqueID;break a;case 9:b=a.documentElement&&
a.documentElement.uniqueID;break a}b=void 0}if(b!==n)return b}b=++Sc;Sc&1073741824&&(Sc=0);if(Yb)rb.set(a,b);else{if(D!==n&&!1===D(a))throw Error("Non-extensible objects are not allowed as keys.");if(P)Object.defineProperty(a,Pb,{enumerable:!1,configurable:!1,writable:!1,value:b});else if(a.propertyIsEnumerable!==n&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[Pb]=
b;else if(a.nodeType!==n)a[Pb]=b;else throw Error("Unable to set a non-enumerable property on object.");}return b}function la(a){Kb(Infinity!==a,"Cannot perform this action with an infinite size.")}function na(a){return null===a||a===n?ib():Ec(a)&&!E(a)?a:ib().withMutations(function(b){var f=e(a);la(f.size);f.forEach(function(a,l){return b.set(l,a)})})}function Ec(a){return!(!a||!a[$c])}function dc(a,b){this.ownerID=a;this.entries=b}function yb(a,b,f){this.ownerID=a;this.bitmap=b;this.nodes=f}function Sb(a,
b,f){this.ownerID=a;this.count=b;this.nodes=f}function zb(a,b,f){this.ownerID=a;this.keyHash=b;this.entries=f}function hb(a,b,f){this.ownerID=a;this.keyHash=b;this.entry=f}function Gc(a,b,f){this._type=b;this._reverse=f;this._stack=a._root&&{node:a._root,index:0,__prev:void 0}}function Hc(a,b){return O(a,b[0],b[1])}function Ic(a,b,f,e){var d=Object.create(ka);d.size=a;d._root=b;d.__ownerID=f;d.__hash=e;d.__altered=!1;return d}function ib(){return ad||(ad=Ic(0))}function pb(a,b,f){var e;if(a._root){e=
B(Yc);var d=B(Qc);b=Jc(a._root,a.__ownerID,0,n,b,f,e,d);if(!d.value)return a;e=a.size+(e.value?f===ma?-1:1:0)}else{if(f===ma)return a;e=1;b=new dc(a.__ownerID,[[b,f]])}return a.__ownerID?(a.size=e,a._root=b,a.__hash=n,a.__altered=!0,a):b?Ic(e,b):ib()}function Jc(a,b,f,e,d,g,q,p){if(!a){if(g===ma)return a;A(p);A(q);return new hb(b,e,[d,g])}return a.update(b,f,e,d,g,q,p)}function mc(a,b,f,e,d){if(a.keyHash===e)return new zb(b,e,[a.entry,d]);var g=(0===f?a.keyHash:a.keyHash>>>f)&31,q=(0===f?e:e>>>f)&
31,p;a=g===q?[mc(a,b,f+5,e,d)]:(p=new hb(b,e,d),g<q?[a,p]:[p,a]);return new yb(b,1<<g|1<<q,a)}function fc(a,b,f){for(var d=[],g=0;g<f.length;g++){var q=f[g],r=e(q);p(q)||(r=r.map(function(a){return kb(a)}));d.push(r)}return nc(a,b,d)}function Ub(a,b,f){return a&&a.mergeDeep&&p(b)?a.mergeDeep(b):ra(a,b)?a:b}function Vb(a){return function(b,f,e){if(b&&b.mergeDeepWith&&p(f))return b.mergeDeepWith(a,f);f=a(b,f,e);return ra(b,f)?b:f}}function nc(a,b,f){f=f.filter(function(a){return 0!==a.size});return 0===
f.length?a:0!==a.size||a.__ownerID||1!==f.length?a.withMutations(function(a){for(var l=b?function(l,f){a.update(f,ma,function(a){return a===ma?l:b(a,l,f)})}:function(l,b){a.set(b,l)},e=0;e<f.length;e++)f[e].forEach(l)}):a.constructor(f[0])}function oc(a,b,f,e){var d=a===ma,g=b.next();if(g.done)return d=d?f:a,e=e(d),e===d?a:e;Kb(d||a&&a.set,"invalid keyPath");var g=g.value,q=d?ma:a.get(g,ma);e=oc(q,b,f,e);return e===q?a:e===ma?a.remove(g):(d?ib():a).set(g,e)}function pc(a){a-=a>>1&1431655765;a=(a&
858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a+=a>>8;return a+(a>>16)&127}function va(a){var b=Q();if(null===a||a===n)return b;if(Kc(a))return a;var e=f(a),d=e.size;if(0===d)return b;la(d);return 0<d&&32>d?ha(0,d,5,null,new Ab(e.toArray())):b.withMutations(function(a){a.setSize(d);e.forEach(function(l,b){return a.set(b,l)})})}function Kc(a){return!(!a||!a[Tb])}function Ab(a,b){this.array=a;this.ownerID=b}function qc(a,b){function f(a,l,b){return 0===l?e(a,b):d(a,l,b)}function e(a,l){var f=l===
p?r&&r.array:a&&a.array,d=l>g?0:g-l,h=q-l;32<h&&(h=32);return function(){if(d===h)return ic;var a=b?--h:d++;return f&&f[a]}}function d(a,l,e){var p,r=a&&a.array,h=e>g?0:g-e>>l,m=(q-e>>l)+1;32<m&&(m=32);return function(){do{if(p){var a=p();if(a!==ic)return a;p=null}if(h===m)return ic;a=b?--m:h++;p=f(r&&r[a],l-5,e+(a<<l))}while(1)}}var g=a._origin,q=a._capacity,p=da(q),r=a._tail;return f(a._root,a._level,0)}function ha(a,b,f,e,d,g,q){var p=Object.create(Oa);p.size=b-a;p._origin=a;p._capacity=b;p._level=
f;p._root=e;p._tail=d;p.__ownerID=g;p.__hash=q;p.__altered=!1;return p}function Q(){return Mb||(Mb=ha(0,0,5))}function za(a,b,f){b=H(a,b);if(b!==b)return a;if(b>=a.size||0>b)return a.withMutations(function(a){0>b?jb(a,b).set(0,f):jb(a,0,b+1).set(b,f)});b+=a._origin;var e=a._tail,d=a._root,g=B(Qc);b>=da(a._capacity)?e=Ya(e,a.__ownerID,0,b,f,g):d=Ya(d,a.__ownerID,a._level,b,f,g);return g.value?a.__ownerID?(a._root=d,a._tail=e,a.__hash=n,a.__altered=!0,a):ha(a._origin,a._capacity,a._level,d,e):a}function Ya(a,
b,f,e,d,g){var q=e>>>f&31,p=a&&q<a.array.length;if(!p&&d===n)return a;if(0<f){p=a&&a.array[q];d=Ya(p,b,f-5,e,d,g);if(d===p)return a;a=Nb(a,b);a.array[q]=d;return a}if(p&&a.array[q]===d)return a;A(g);a=Nb(a,b);d===n&&q===a.array.length-1?a.array.pop():a.array[q]=d;return a}function Nb(a,b){return b&&a&&b===a.ownerID?a:new Ab(a?a.array.slice():[],b)}function gc(a,b){if(b>=da(a._capacity))return a._tail;if(b<1<<a._level+5){for(var f=a._root,e=a._level;f&&0<e;)f=f.array[b>>>e&31],e-=5;return f}}function jb(a,
b,f){b!==n&&(b|=0);f!==n&&(f|=0);var e=a.__ownerID||new C,d=a._origin,g=a._capacity;b=d+b;f=f===n?g:0>f?g+f:d+f;if(b===d&&f===g)return a;if(b>=f)return a.clear();for(var q=a._level,p=a._root,r=0;0>b+r;)p=new Ab(p&&p.array.length?[n,p]:[],e),q+=5,r+=1<<q;r&&(b+=r,d+=r,f+=r,g+=r);for(var h=da(g),m=da(f);m>=1<<q+5;)p=new Ab(p&&p.array.length?[p]:[],e),q+=5;var r=a._tail,z=m<h?gc(a,f-1):m>h?new Ab([],e):r;if(r&&m>h&&b<g&&r.array.length){for(var v=p=Nb(p,e),x=q;5<x;x-=5)var B=h>>>x&31,v=v.array[B]=Nb(v.array[B],
e);v.array[h>>>5&31]=r}f<g&&(z=z&&z.removeAfter(e,0,f));if(b>=m)b-=m,f-=m,q=5,p=null,z=z&&z.removeBefore(e,0,b);else if(b>d||m<h){for(r=0;p;){g=b>>>q&31;if(g!==m>>>q&31)break;g&&(r+=(1<<q)*g);q-=5;p=p.array[g]}p&&b>d&&(p=p.removeBefore(e,q,b-r));p&&m<h&&(p=p.removeAfter(e,q,m-r));r&&(b-=r,f-=r)}return a.__ownerID?(a.size=f-b,a._origin=b,a._capacity=f,a._level=q,a._root=p,a._tail=z,a.__hash=n,a.__altered=!0,a):ha(b,f,q,p,z)}function rc(a,b,e){for(var d=[],g=0,q=0;q<e.length;q++){var r=e[q],h=f(r);
h.size>g&&(g=h.size);p(r)||(h=h.map(function(a){return kb(a)}));d.push(h)}g>a.size&&(a=a.setSize(g));return nc(a,b,d)}function da(a){return 32>a?0:a-1>>>5<<5}function U(a){return null===a||a===n?Ib():J(a)?a:Ib().withMutations(function(b){var f=e(a);la(f.size);f.forEach(function(a,l){return b.set(l,a)})})}function J(a){return Ec(a)&&E(a)}function K(a,b,f,e){var d=Object.create(U.prototype);d.size=a?a.size:0;d._map=a;d._list=b;d.__ownerID=f;d.__hash=e;return d}function Ib(){return bd||(bd=K(ib(),Q()))}
function Lc(a,b,f){var e=a._map,d=a._list,g=e.get(b),q=g!==n;if(f===ma){if(!q)return a;32<=d.size&&d.size>=2*e.size?(b=d.filter(function(a,l){return a!==n&&g!==l}),e=b.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(e.__ownerID=b.__ownerID=a.__ownerID)):(e=e.remove(b),b=g===d.size-1?d.pop():d.set(g,n))}else if(q){if(f===d.get(g)[1])return a;b=d.set(g,[b,f])}else e=e.set(b,d.size),b=d.set(d.size,[b,f]);return a.__ownerID?(a.size=e.size,a._map=e,a._list=b,a.__hash=n,a):K(e,b)}
function bb(a,b){this._iter=a;this._useKeys=b;this.size=a.size}function Jb(a){this._iter=a;this.size=a.size}function Wa(a){this._iter=a;this.size=a.size}function Bb(a){this._iter=a;this.size=a.size}function Pa(a){var b=Ta(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=mb;b.__iterateUncached=function(b,
f){var e=this;return a.__iterate(function(a,l){return!1!==b(l,a,e)},f)};b.__iteratorUncached=function(b,f){if(2===b){var e=a.__iterator(b,f);return new F(function(){var a=e.next();if(!a.done){var l=a.value[0];a.value[0]=a.value[1];a.value[1]=l}return a})}return a.__iterator(1===b?0:1,f)};return b}function Ob(a,b,f){var e=Ta(a);e.size=a.size;e.has=function(b){return a.has(b)};e.get=function(e,d){var g=a.get(e,ma);return g===ma?d:b.call(f,g,e,a)};e.__iterateUncached=function(e,d){var g=this;return a.__iterate(function(a,
l,d){return!1!==e(b.call(f,a,l,d),l,g)},d)};e.__iteratorUncached=function(e,d){var g=a.__iterator(2,d);return new F(function(){var d=g.next();if(d.done)return d;var q=d.value,p=q[0];return O(e,p,b.call(f,q[1],p,a),d)})};return e}function qb(a,b){var f=Ta(a);f._iter=a;f.size=a.size;f.reverse=function(){return a};a.flip&&(f.flip=function(){var b=Pa(a);b.reverse=function(){return a.flip()};return b});f.get=function(f,e){return a.get(b?f:-1-f,e)};f.has=function(f){return a.has(b?f:-1-f)};f.includes=function(b){return a.includes(b)};
f.cacheResult=mb;f.__iterate=function(b,f){var e=this;return a.__iterate(function(a,l){return b(a,l,e)},!f)};f.__iterator=function(b,f){return a.__iterator(b,!f)};return f}function Cb(a,b,f,e){var d=Ta(a);e&&(d.has=function(e){var d=a.get(e,ma);return d!==ma&&!!b.call(f,d,e,a)},d.get=function(e,d){var g=a.get(e,ma);return g!==ma&&b.call(f,g,e,a)?g:d});d.__iterateUncached=function(d,g){var q=this,p=0;a.__iterate(function(a,l,g){if(b.call(f,a,l,g))return p++,d(a,e?l:p-1,q)},g);return p};d.__iteratorUncached=
function(d,g){var q=a.__iterator(2,g),p=0;return new F(function(){for(;;){var g=q.next();if(g.done)return g;var r=g.value,h=r[0],r=r[1];if(b.call(f,r,h,a))return O(d,e?h:p++,r,g)}})};return d}function Sa(a,b,f){var e=na().asMutable();a.__iterate(function(d,g){e.update(b.call(f,d,g,a),0,function(a){return a+1})});return e.asImmutable()}function sc(a,b,f){var e=h(a),d=(E(a)?U():na()).asMutable();a.__iterate(function(g,q){d.update(b.call(f,g,q,a),function(a){return a=a||[],a.push(e?[q,g]:g),a})});var g=
ab(a);return d.map(function(b){return ta(a,g(b))})}function sb(a,b,f,e){var d=a.size;b!==n&&(b|=0);f!==n&&(f=Infinity===f?d:f|0);if(I(b,f,d))return a;var g=L(b,d,0),d=G(f,d);if(g!==g||d!==d)return sb(a.toSeq().cacheResult(),b,f,e);b=d-g;var q;b===b&&(q=0>b?0:b);b=Ta(a);b.size=0===q?q:a.size&&q||n;!e&&eb(a)&&0<=q&&(b.get=function(b,f){b=H(this,b);return 0<=b&&b<q?a.get(b+g,f):f});b.__iterateUncached=function(b,f){var d=this;if(0===q)return 0;if(f)return this.cacheResult().__iterate(b,f);var p=0,w=
!0,r=0;a.__iterate(function(a,l){if(!w||!(w=p++<g))return r++,!1!==b(a,e?l:r-1,d)&&r!==q});return r};b.__iteratorUncached=function(b,f){if(0!==q&&f)return this.cacheResult().__iterator(b,f);var d=0!==q&&a.__iterator(b,f),p=0,w=0;return new F(function(){for(;p++<g;)d.next();if(++w>q)return V();var a=d.next();return e||1===b?a:0===b?O(b,w-1,n,a):O(b,w-1,a.value[1],a)})};return b}function Rb(a,b,f){var e=Ta(a);e.__iterateUncached=function(e,d){var g=this;if(d)return this.cacheResult().__iterate(e,d);
var q=0;a.__iterate(function(a,l,d){return b.call(f,a,l,d)&&++q&&e(a,l,g)});return q};e.__iteratorUncached=function(e,d){var g=this;if(d)return this.cacheResult().__iterator(e,d);var q=a.__iterator(2,d),p=!0;return new F(function(){if(!p)return V();var a=q.next();if(a.done)return a;var l=a.value,d=l[0],l=l[1];return b.call(f,l,d,g)?2===e?a:O(e,d,l,a):(p=!1,V())})};return e}function ya(a,b,f,e){var d=Ta(a);d.__iterateUncached=function(d,g){var q=this;if(g)return this.cacheResult().__iterate(d,g);var p=
!0,r=0;a.__iterate(function(a,l,g){if(!p||!(p=b.call(f,a,l,g)))return r++,d(a,e?l:r-1,q)});return r};d.__iteratorUncached=function(d,g){var q=this;if(g)return this.cacheResult().__iterator(d,g);var p=a.__iterator(2,g),r=!0,h=0;return new F(function(){var a,l,g;do{a=p.next();if(a.done)return e||1===d?a:0===d?O(d,h++,n,a):O(d,h++,a.value[1],a);g=a.value;l=g[0];g=g[1];r&&(r=b.call(f,g,l,q))}while(r);return 2===d?a:O(d,l,g,a)})};return d}function wa(a,b){var f=h(a),d=[a].concat(b).map(function(a){p(a)?
f&&(a=e(a)):a=f?Va(a):fb(Array.isArray(a)?a:[a]);return a}).filter(function(a){return 0!==a.size});if(0===d.length)return a;if(1===d.length){var g=d[0];if(g===a||f&&h(g)||q(a)&&q(g))return g}g=new ua(d);f?g=g.toKeyedSeq():q(a)||(g=g.toSetSeq());g=g.flatten(!0);g.size=d.reduce(function(a,b){if(a!==n){var l=b.size;if(l!==n)return a+l}},0);return g}function Mc(a,b,f){var e=Ta(a);e.__iterateUncached=function(e,d){function g(a,l){var h=this;a.__iterate(function(a,d){(!b||l<b)&&p(a)?g(a,l+1):!1===e(a,f?
d:q++,h)&&(r=!0);return!r},d)}var q=0,r=!1;g(a,0);return q};e.__iteratorUncached=function(e,d){var g=a.__iterator(e,d),q=[],r=0;return new F(function(){for(;g;){var a=g.next();if(!1!==a.done)g=q.pop();else{var l=a.value;2===e&&(l=l[1]);if((!b||q.length<b)&&p(l))q.push(g),g=l.__iterator(e,d);else return f?a:O(e,r++,l,a)}}return V()})};return e}function Cc(a,b,f){var e=ab(a);return a.toSeq().map(function(d,g){return e(b.call(f,d,g,a))}).flatten(!0)}function kc(a,b){var f=Ta(a);f.size=a.size&&2*a.size-
1;f.__iterateUncached=function(f,e){var d=this,g=0;a.__iterate(function(a,l){return(!g||!1!==f(b,g++,d))&&!1!==f(a,g++,d)},e);return g};f.__iteratorUncached=function(f,e){var d=a.__iterator(1,e),g=0,q;return new F(function(){if(!q||g%2)if(q=d.next(),q.done)return q;return g%2?O(f,g++,b):O(f,g++,q.value,q)})};return f}function Qb(a,b,f){b||(b=Ca);var e=h(a),d=0,g=a.toSeq().map(function(b,e){return[e,b,d++,f?f(b,e,a):b]}).toArray();g.sort(function(a,l){return b(a[3],l[3])||a[2]-l[2]}).forEach(e?function(a,
b){g[b].length=2}:function(a,b){g[b]=a[1]});return e?Y(g):q(a)?ba(g):aa(g)}function ac(a,b,f){b||(b=Ca);if(f){var e=a.toSeq().map(function(b,e){return[b,f(b,e,a)]}).reduce(function(a,l){return Dc(b,a[1],l[1])?l:a});return e&&e[0]}return a.reduce(function(a,l){return Dc(b,a,l)?l:a})}function Dc(a,b,f){a=a(f,b);return 0===a&&f!==b&&(f===n||null===f||f!==f)||0<a}function jc(a,b,f){a=Ta(a);a.size=(new ua(f)).map(function(a){return a.size}).min();a.__iterate=function(a,b){for(var l=this.__iterator(1,b),
f,e=0;!(f=l.next()).done&&!1!==a(f.value,e++,this););return e};a.__iteratorUncached=function(a,l){var e=f.map(function(a){return a=d(a),W(l?a.reverse():a)}),g=0,q=!1;return new F(function(){var l;q||(l=e.map(function(a){return a.next()}),q=l.some(function(a){return a.done}));return q?V():O(a,g++,b.apply(null,l.map(function(a){return a.value})))})};return a}function ta(a,b){return eb(a)?b:a.constructor(b)}function y(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a);}function Db(a){la(a.size);
return z(a)}function ab(a){return h(a)?e:q(a)?f:b}function Ta(a){return Object.create((h(a)?Y:q(a)?ba:aa).prototype)}function mb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):R.prototype.cacheResult.call(this)}function Ca(a,b){return a>b?1:a<b?-1:0}function tc(a){var b=W(a);if(!b){if(!a||"number"!==typeof a.length)throw new TypeError("Expected iterable or array-like: "+a);b=W(d(a))}return b}function Ia(a,b){var f,e=function(g){if(g instanceof e)return g;
if(!(this instanceof e))return new e(g);if(!f){f=!0;var q=Object.keys(a);try{q.forEach(qa.bind(n,d))}catch(p){}d.size=q.length;d._name=b;d._keys=q;d._defaultValues=a}this._map=na(g)},d=e.prototype=Object.create(Ja);return d.constructor=e}function cb(a,b,f){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=f;return a}function qa(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){Kb(this.__ownerID,"Cannot set on an immutable record.");this.set(b,a)}})}function Aa(a){return null===
a||a===n?sa():Da(a)&&!E(a)?a:sa().withMutations(function(f){var e=b(a);la(e.size);e.forEach(function(a){return f.add(a)})})}function Da(a){return!(!a||!a[bc])}function hc(a,b){return a.__ownerID?(a.size=b.size,a._map=b,a):b===a._map?a:0===b.size?a.__empty():a.__make(b)}function Z(a,b){var f=Object.create(Ma);f.size=a?a.size:0;f._map=a;f.__ownerID=b;return f}function sa(){return cd||(cd=Z(ib()))}function ga(a){return null===a||a===n?Eb():db(a)?a:Eb().withMutations(function(f){var e=b(a);la(e.size);
e.forEach(function(a){return f.add(a)})})}function db(a){return Da(a)&&E(a)}function wb(a,b){var f=Object.create(zc);f.size=a?a.size:0;f._map=a;f.__ownerID=b;return f}function Eb(){return dd||(dd=wb(Ib()))}function oa(a){return null===a||a===n?$b||($b=ca(0)):Fc(a)?a:($b||($b=ca(0))).unshiftAll(a)}function Fc(a){return!(!a||!a[lc])}function ca(a,b,f,e){var d=Object.create(Zb);d.size=a;d._head=b;d.__ownerID=f;d.__hash=e;d.__altered=!1;return d}function nb(a,b){var f=function(f){a.prototype[f]=b[f]};
Object.keys(b).forEach(f);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(f);return a}function Cd(a,b){return b}function Ua(a,b){return[b,a]}function uc(a){return function(){return!a.apply(this,arguments)}}function Fa(a){return function(){return-a.apply(this,arguments)}}function Fb(a){return"string"===typeof a?JSON.stringify(a):String(a)}function Nc(){return u(arguments)}function Oc(a,b){return a<b?1:a>b?-1:0}function Pc(a){if(Infinity===a.size)return 0;var b=E(a),f=h(a),e=b?
1:0;a=a.__iterate(f?b?function(a,b){e=31*e+Wc(La(a),La(b))|0}:function(a,b){e=e+Wc(La(a),La(b))|0}:b?function(a){e=31*e+La(a)|0}:function(a){e=e+La(a)|0});return gd(a,e)}function gd(a,b){b=Xb(b,3432918353);b=Xb(b<<15|b>>>-15,461845907);b=Xb(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Xb(b^b>>>16,2246822507);b=Xb(b^b>>>13,3266489909);var f=b^b>>>16;return f>>>1&1073741824|f&3221225471}function Wc(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var ia=Array.prototype.slice;a(e,d);a(f,d);a(b,d);d.isIterable=
p;d.isKeyed=h;d.isIndexed=q;d.isAssociative=r;d.isOrdered=E;d.Keyed=e;d.Indexed=f;d.Set=b;var Vc="@@__IMMUTABLE_ITERABLE__@@",Na="@@__IMMUTABLE_KEYED__@@",Xc="@@__IMMUTABLE_INDEXED__@@",Wb="@@__IMMUTABLE_ORDERED__@@",ma={},Yc={value:!1},Qc={value:!1},vc="function"===typeof Symbol&&Symbol.iterator,Ka="@@iterator",ob=vc||Ka;F.prototype.toString=function(){return"[Iterator]"};F.KEYS=0;F.VALUES=1;F.ENTRIES=2;F.prototype.inspect=F.prototype.toSource=function(){return this.toString()};F.prototype[ob]=function(){return this};
a(R,d);R.of=function(){return R(arguments)};R.prototype.toSeq=function(){return this};R.prototype.toString=function(){return this.__toString("Seq {","}")};R.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};R.prototype.__iterate=function(a,b){return ub(this,a,b,!0)};R.prototype.__iterator=function(a,b){return Xa(this,a,b,!0)};a(Y,R);Y.prototype.toKeyedSeq=function(){return this};a(ba,R);ba.of=function(){return ba(arguments)};
ba.prototype.toIndexedSeq=function(){return this};ba.prototype.toString=function(){return this.__toString("Seq [","]")};ba.prototype.__iterate=function(a,b){return ub(this,a,b,!1)};ba.prototype.__iterator=function(a,b){return Xa(this,a,b,!1)};a(aa,R);aa.of=function(){return aa(arguments)};aa.prototype.toSetSeq=function(){return this};R.isSeq=eb;R.Keyed=Y;R.Set=aa;R.Indexed=ba;var M="@@__IMMUTABLE_SEQ__@@";R.prototype[M]=!0;a(ua,ba);ua.prototype.get=function(a,b){return this.has(a)?this._array[H(this,
a)]:b};ua.prototype.__iterate=function(a,b){for(var f=this._array,e=f.length-1,d=0;d<=e;d++)if(!1===a(f[b?e-d:d],d,this))return d+1;return d};ua.prototype.__iterator=function(a,b){var f=this._array,e=f.length-1,d=0;return new F(function(){return d>e?V():O(a,d,f[b?e-d++:d++])})};a(xa,Y);xa.prototype.get=function(a,b){return b===n||this.has(a)?this._object[a]:b};xa.prototype.has=function(a){return this._object.hasOwnProperty(a)};xa.prototype.__iterate=function(a,b){for(var f=this._object,e=this._keys,
d=e.length-1,g=0;g<=d;g++){var q=e[b?d-g:g];if(!1===a(f[q],q,this))return g+1}return g};xa.prototype.__iterator=function(a,b){var f=this._object,e=this._keys,d=e.length-1,g=0;return new F(function(){var q=e[b?d-g:g];return g++>d?V():O(a,q,f[q])})};xa.prototype[Wb]=!0;a(Ra,ba);Ra.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);var f=W(this._iterable),e=0;if(T(f))for(var d;!(d=f.next()).done&&!1!==a(d.value,e++,this););return e};Ra.prototype.__iteratorUncached=
function(a,b){if(b)return this.cacheResult().__iterator(a,b);var f=W(this._iterable);if(!T(f))return new F(V);var e=0;return new F(function(){var b=f.next();return b.done?b:O(a,e++,b.value)})};a(X,ba);X.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);for(var f=this._iterator,e=this._iteratorCache,d=0;d<e.length;)if(!1===a(e[d],d++,this))return d;for(var g;!(g=f.next()).done&&(g=g.value,e[d]=g,!1!==a(g,d++,this)););return d};X.prototype.__iteratorUncached=function(a,
b){if(b)return this.cacheResult().__iterator(a,b);var f=this._iterator,e=this._iteratorCache,d=0;return new F(function(){if(d>=e.length){var b=f.next();if(b.done)return b;e[d]=b.value}return O(a,d,e[d++])})};var wc;a(Ba,ba);Ba.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Ba.prototype.get=function(a,b){return this.has(a)?this._value:b};Ba.prototype.includes=function(a){return ra(this._value,a)};Ba.prototype.slice=function(a,b){var f=
this.size;return I(a,b,f)?this:new Ba(this._value,G(b,f)-L(a,f,0))};Ba.prototype.reverse=function(){return this};Ba.prototype.indexOf=function(a){return ra(this._value,a)?0:-1};Ba.prototype.lastIndexOf=function(a){return ra(this._value,a)?this.size:-1};Ba.prototype.__iterate=function(a,b){for(var f=0;f<this.size;f++)if(!1===a(this._value,f,this))return f+1;return f};Ba.prototype.__iterator=function(a,b){var f=this,e=0;return new F(function(){return e<f.size?O(a,e++,f._value):V()})};Ba.prototype.equals=
function(a){return a instanceof Ba?ra(this._value,a._value):lb(a)};var Rc;a(Ga,ba);Ga.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"};Ga.prototype.get=function(a,b){return this.has(a)?this._start+H(this,a)*this._step:b};Ga.prototype.includes=function(a){a=(a-this._start)/this._step;return 0<=a&&a<this.size&&a===Math.floor(a)};Ga.prototype.slice=function(a,b){if(I(a,b,this.size))return this;a=L(a,this.size,
0);b=G(b,this.size);return b<=a?new Ga(0,0):new Ga(this.get(a,this._end),this.get(b,this._end),this._step)};Ga.prototype.indexOf=function(a){a-=this._start;return 0===a%this._step&&(a/=this._step,0<=a&&a<this.size)?a:-1};Ga.prototype.lastIndexOf=function(a){return this.indexOf(a)};Ga.prototype.__iterate=function(a,b){for(var f=this.size-1,e=this._step,d=b?this._start+f*e:this._start,g=0;g<=f;g++){if(!1===a(d,g,this))return g+1;d+=b?-e:e}return g};Ga.prototype.__iterator=function(a,b){var f=this.size-
1,e=this._step,d=b?this._start+f*e:this._start,g=0;return new F(function(){var q=d;d+=b?-e:e;return g>f?V():O(a,g++,q)})};Ga.prototype.equals=function(a){return a instanceof Ga?this._start===a._start&&this._end===a._end&&this._step===a._step:lb(this,a)};var xc;a($a,d);a(vb,$a);a(gb,$a);a(Lb,$a);$a.Keyed=vb;$a.Indexed=gb;$a.Set=Lb;var Xb="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a|=0;b|=0;var f=a&65535,e=b&65535;return f*e+((a>>>16)*e+f*(b>>>16)<<16>>>0)|0},
D=Object.isExtensible,P;try{Object.defineProperty({},"@",{}),P=!0}catch(N){P=!1}var Yb="function"===typeof WeakMap,rb;Yb&&(rb=new WeakMap);var Sc=0,Pb="__immutablehash__";"function"===typeof Symbol&&(Pb=Symbol(Pb));var hd=16,Zc=255,Tc=0,yc={};a(na,vb);na.of=function(){var a=ia.call(arguments,0);return ib().withMutations(function(b){for(var f=0;f<a.length;f+=2){if(f+1>=a.length)throw Error("Missing value for key: "+a[f]);b.set(a[f],a[f+1])}})};na.prototype.toString=function(){return this.__toString("Map {",
"}")};na.prototype.get=function(a,b){return this._root?this._root.get(0,n,a,b):b};na.prototype.set=function(a,b){return pb(this,a,b)};na.prototype.setIn=function(a,b){return this.updateIn(a,ma,function(){return b})};na.prototype.remove=function(a){return pb(this,a,ma)};na.prototype.deleteIn=function(a){return this.updateIn(a,function(){return ma})};na.prototype.update=function(a,b,f){return 1===arguments.length?a(this):this.updateIn([a],b,f)};na.prototype.updateIn=function(a,b,f){f||(f=b,b=n);a=oc(this,
tc(a),b,f);return a===ma?n:a};na.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=n,this.__altered=!0,this):ib()};na.prototype.merge=function(){return fc(this,n,arguments)};na.prototype.mergeWith=function(a){var b=ia.call(arguments,1);return fc(this,a,b)};na.prototype.mergeIn=function(a){var b=ia.call(arguments,1);return this.updateIn(a,ib(),function(a){return"function"===typeof a.merge?a.merge.apply(a,b):b[b.length-1]})};na.prototype.mergeDeep=
function(){return fc(this,Ub,arguments)};na.prototype.mergeDeepWith=function(a){var b=ia.call(arguments,1);return fc(this,Vb(a),b)};na.prototype.mergeDeepIn=function(a){var b=ia.call(arguments,1);return this.updateIn(a,ib(),function(a){return"function"===typeof a.mergeDeep?a.mergeDeep.apply(a,b):b[b.length-1]})};na.prototype.sort=function(a){return U(Qb(this,a))};na.prototype.sortBy=function(a,b){return U(Qb(this,b,a))};na.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?
b.__ensureOwner(this.__ownerID):this};na.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)};na.prototype.asImmutable=function(){return this.__ensureOwner()};na.prototype.wasAltered=function(){return this.__altered};na.prototype.__iterator=function(a,b){return new Gc(this,a,b)};na.prototype.__iterate=function(a,b){var f=this,e=0;this._root&&this._root.iterate(function(b){e++;return a(b[1],b[0],f)},b);return e};na.prototype.__ensureOwner=function(a){return a===this.__ownerID?
this:a?Ic(this.size,this._root,a,this.__hash):(this.__ownerID=a,this.__altered=!1,this)};na.isMap=Ec;var $c="@@__IMMUTABLE_MAP__@@",ka=na.prototype;ka[$c]=!0;ka["delete"]=ka.remove;ka.removeIn=ka.deleteIn;dc.prototype.get=function(a,b,f,e){a=this.entries;b=0;for(var d=a.length;b<d;b++)if(ra(f,a[b][0]))return a[b][1];return e};dc.prototype.update=function(a,b,f,e,d,g,q){f=d===ma;b=this.entries;for(var p=0,r=b.length;p<r&&!ra(e,b[p][0]);p++);var h=p<r;if(h?b[p][1]===d:f)return this;A(q);!f&&h||A(g);
if(!f||1!==b.length){if(!h&&!f&&b.length>=fa){a||(a=new C);e=new hb(a,La(e),[e,d]);for(d=0;d<b.length;d++)g=b[d],e=e.update(a,0,n,g[0],g[1]);return e}b=(g=a&&a===this.ownerID)?b:u(b);h?f?p===r-1?b.pop():b[p]=b.pop():b[p]=[e,d]:b.push([e,d]);return g?(this.entries=b,this):new dc(a,b)}};yb.prototype.get=function(a,b,f,e){b===n&&(b=La(f));var d=1<<((0===a?b:b>>>a)&31),g=this.bitmap;return 0===(g&d)?e:this.nodes[pc(g&d-1)].get(a+5,b,f,e)};yb.prototype.update=function(a,b,f,e,d,g,q){f===n&&(f=La(e));var p=
(0===b?f:f>>>b)&31,r=1<<p,h=this.bitmap,m=0!==(h&r);if(!m&&d===ma)return this;var z=pc(h&r-1),v=this.nodes,x=m?v[z]:n;b=Jc(x,a,b+5,f,e,d,g,q);if(b===x)return this;if(!m&&b&&v.length>=id){z=h;m=0;r=Array(32);for(h=0;0!==z;h++,z>>>=1)r[h]=z&1?v[m++]:n;r[p]=b;return new Sb(a,m+1,r)}if(p=m&&!b&&2===v.length)p=v[z^1],p=p.constructor===hb||p.constructor===zb;if(p)return v[z^1];if(m&&b&&1===v.length&&(b.constructor===hb||b.constructor===zb))return b;p=a&&a===this.ownerID;r=m?b?h:h^r:h|r;if(m)if(b)v=p?v:
u(v),v[z]=b;else if(b=v.length-1,p&&z===b)v.pop();else{m=Array(b);for(x=h=0;x<b;x++)x===z&&(h=1),m[x]=v[x+h];v=m}else if(m=v.length+1,p&&z+1===m)v[z]=b;else{h=Array(m);for(f=x=0;f<m;f++)f===z?(h[f]=b,x=-1):h[f]=v[f+x];v=h}return p?(this.bitmap=r,this.nodes=v,this):new yb(a,r,v)};Sb.prototype.get=function(a,b,f,e){b===n&&(b=La(f));var d=this.nodes[(0===a?b:b>>>a)&31];return d?d.get(a+5,b,f,e):e};Sb.prototype.update=function(a,b,f,e,d,g,q){f===n&&(f=La(e));var p=(0===b?f:f>>>b)&31,r=this.nodes,h=r[p];
if(d===ma&&!h)return this;b=Jc(h,a,b+5,f,e,d,g,q);if(b===h)return this;f=this.count;if(!h)f++;else if(!b&&(f--,f<jd)){b=h=0;f=Array(f);e=0;d=1;for(g=r.length;e<g;e++,d<<=1)q=r[e],q!==n&&e!==p&&(h|=d,f[b++]=q);return new yb(a,h,f)}r=(h=a&&a===this.ownerID)?r:u(r);r[p]=b;return h?(this.count=f,this.nodes=r,this):new Sb(a,f,r)};zb.prototype.get=function(a,b,f,e){a=this.entries;b=0;for(var d=a.length;b<d;b++)if(ra(f,a[b][0]))return a[b][1];return e};zb.prototype.update=function(a,b,f,e,d,g,q){f===n&&
(f=La(e));var p=d===ma;if(f!==this.keyHash){if(p)return this;A(q);A(g);return mc(this,a,b,f,[e,d])}var r=this.entries;b=0;for(f=r.length;b<f&&!ra(e,r[b][0]);b++);var h=b<f;if(h?r[b][1]===d:p)return this;A(q);!p&&h||A(g);if(p&&2===f)return new hb(a,this.keyHash,r[b^1]);q=(g=a&&a===this.ownerID)?r:u(r);h?p?b===f-1?q.pop():q[b]=q.pop():q[b]=[e,d]:q.push([e,d]);return g?(this.entries=q,this):new zb(a,this.keyHash,q)};hb.prototype.get=function(a,b,f,e){return ra(f,this.entry[0])?this.entry[1]:e};hb.prototype.update=
function(a,b,f,e,d,g,q){f=d===ma;var p=ra(e,this.entry[0]);if(p?d===this.entry[1]:f)return this;A(q);if(f)A(g);else{if(p)return a&&a===this.ownerID?(this.entry[1]=d,this):new hb(a,this.keyHash,[e,d]);A(g);return mc(this,a,b,La(e),[e,d])}};dc.prototype.iterate=zb.prototype.iterate=function(a,b){for(var f=this.entries,e=0,d=f.length-1;e<=d;e++)if(!1===a(f[b?d-e:e]))return!1};yb.prototype.iterate=Sb.prototype.iterate=function(a,b){for(var f=this.nodes,e=0,d=f.length-1;e<=d;e++){var g=f[b?d-e:e];if(g&&
!1===g.iterate(a,b))return!1}};hb.prototype.iterate=function(a,b){return a(this.entry)};a(Gc,F);Gc.prototype.next=function(){for(var a=this._type,b=this._stack;b;){var f=b.node,e=b.index++,d;if(f.entry){if(0===e)return Hc(a,f.entry)}else if(f.entries){if(d=f.entries.length-1,e<=d)return Hc(a,f.entries[this._reverse?d-e:e])}else if(d=f.nodes.length-1,e<=d){if(f=f.nodes[this._reverse?d-e:e]){if(f.entry)return Hc(a,f.entry);b=this._stack={node:f,index:0,__prev:b}}continue}b=this._stack=this._stack.__prev}return V()};
var ad,fa=8,id=16,jd=8;a(va,gb);va.of=function(){return this(arguments)};va.prototype.toString=function(){return this.__toString("List [","]")};va.prototype.get=function(a,b){a=H(this,a);if(0<=a&&a<this.size){a+=this._origin;var f=gc(this,a);return f&&f.array[a&31]}return b};va.prototype.set=function(a,b){return za(this,a,b)};va.prototype.remove=function(a){return this.has(a)?0===a?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};va.prototype.insert=function(a,b){return this.splice(a,
0,b)};va.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=n,this.__altered=!0,this):Q()};va.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(f){jb(f,0,b+a.length);for(var e=0;e<a.length;e++)f.set(b+e,a[e])})};va.prototype.pop=function(){return jb(this,0,-1)};va.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){jb(b,
-a.length);for(var f=0;f<a.length;f++)b.set(f,a[f])})};va.prototype.shift=function(){return jb(this,1)};va.prototype.merge=function(){return rc(this,n,arguments)};va.prototype.mergeWith=function(a){var b=ia.call(arguments,1);return rc(this,a,b)};va.prototype.mergeDeep=function(){return rc(this,Ub,arguments)};va.prototype.mergeDeepWith=function(a){var b=ia.call(arguments,1);return rc(this,Vb(a),b)};va.prototype.setSize=function(a){return jb(this,0,a)};va.prototype.slice=function(a,b){var f=this.size;
return I(a,b,f)?this:jb(this,L(a,f,0),G(b,f))};va.prototype.__iterator=function(a,b){var f=0,e=qc(this,b);return new F(function(){var b=e();return b===ic?V():O(a,f++,b)})};va.prototype.__iterate=function(a,b){for(var f=0,e=qc(this,b),d;(d=e())!==ic&&!1!==a(d,f++,this););return f};va.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?ha(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash):(this.__ownerID=a,this)};va.isList=Kc;var Tb="@@__IMMUTABLE_LIST__@@",
Oa=va.prototype;Oa[Tb]=!0;Oa["delete"]=Oa.remove;Oa.setIn=ka.setIn;Oa.deleteIn=Oa.removeIn=ka.removeIn;Oa.update=ka.update;Oa.updateIn=ka.updateIn;Oa.mergeIn=ka.mergeIn;Oa.mergeDeepIn=ka.mergeDeepIn;Oa.withMutations=ka.withMutations;Oa.asMutable=ka.asMutable;Oa.asImmutable=ka.asImmutable;Oa.wasAltered=ka.wasAltered;Ab.prototype.removeBefore=function(a,b,f){if(f===b?1<<b:0===this.array.length)return this;var e=f>>>b&31;if(e>=this.array.length)return new Ab([],a);var d=0===e,g;if(0<b){var q=this.array[e];
g=q&&q.removeBefore(a,b-5,f);if(g===q&&d)return this}if(d&&!g)return this;a=Nb(this,a);if(!d)for(d=0;d<e;d++)a.array[d]=n;g&&(a.array[e]=g);return a};Ab.prototype.removeAfter=function(a,b,f){if(f===(b?1<<b:0)||0===this.array.length)return this;var e=f-1>>>b&31;if(e>=this.array.length)return this;var d;if(0<b){var g=this.array[e];d=g&&g.removeAfter(a,b-5,f);if(d===g&&e===this.array.length-1)return this}a=Nb(this,a);a.array.splice(e+1);d&&(a.array[e]=d);return a};var ic={},Mb;a(U,na);U.of=function(){return this(arguments)};
U.prototype.toString=function(){return this.__toString("OrderedMap {","}")};U.prototype.get=function(a,b){var f=this._map.get(a);return f!==n?this._list.get(f)[1]:b};U.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ib()};U.prototype.set=function(a,b){return Lc(this,a,b)};U.prototype.remove=function(a){return Lc(this,a,ma)};U.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};U.prototype.__iterate=
function(a,b){var f=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],f)},b)};U.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),f=this._list.__ensureOwner(a);return a?K(b,f,a,this.__hash):(this.__ownerID=a,this._map=b,this._list=f,this)};U.isOrderedMap=J;U.prototype[Wb]=!0;U.prototype["delete"]=U.prototype.remove;var bd;a(bb,Y);bb.prototype.get=
function(a,b){return this._iter.get(a,b)};bb.prototype.has=function(a){return this._iter.has(a)};bb.prototype.valueSeq=function(){return this._iter.valueSeq()};bb.prototype.reverse=function(){var a=this,b=qb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};bb.prototype.map=function(a,b){var f=this,e=Ob(this,a,b);this._useKeys||(e.valueSeq=function(){return f._iter.toSeq().map(a,b)});return e};bb.prototype.__iterate=function(a,b){var f=this,e;return this._iter.__iterate(this._useKeys?
function(b,e){return a(b,e,f)}:(e=b?Db(this):0,function(d){return a(d,b?--e:e++,f)}),b)};bb.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var f=this._iter.__iterator(1,b),e=b?Db(this):0;return new F(function(){var d=f.next();return d.done?d:O(a,b?--e:e++,d.value,d)})};bb.prototype[Wb]=!0;a(Jb,ba);Jb.prototype.includes=function(a){return this._iter.includes(a)};Jb.prototype.__iterate=function(a,b){var f=this,e=0;return this._iter.__iterate(function(b){return a(b,
e++,f)},b)};Jb.prototype.__iterator=function(a,b){var f=this._iter.__iterator(1,b),e=0;return new F(function(){var b=f.next();return b.done?b:O(a,e++,b.value,b)})};a(Wa,aa);Wa.prototype.has=function(a){return this._iter.includes(a)};Wa.prototype.__iterate=function(a,b){var f=this;return this._iter.__iterate(function(b){return a(b,b,f)},b)};Wa.prototype.__iterator=function(a,b){var f=this._iter.__iterator(1,b);return new F(function(){var b=f.next();return b.done?b:O(a,b.value,b.value,b)})};a(Bb,Y);
Bb.prototype.entrySeq=function(){return this._iter.toSeq()};Bb.prototype.__iterate=function(a,b){var f=this;return this._iter.__iterate(function(b){if(b){y(b);var e=p(b);return a(e?b.get(1):b[1],e?b.get(0):b[0],f)}},b)};Bb.prototype.__iterator=function(a,b){var f=this._iter.__iterator(1,b);return new F(function(){for(;;){var b=f.next();if(b.done)return b;var e=b.value;if(e){y(e);var d=p(e);return O(a,d?e.get(0):e[0],d?e.get(1):e[1],b)}}})};Jb.prototype.cacheResult=bb.prototype.cacheResult=Wa.prototype.cacheResult=
Bb.prototype.cacheResult=mb;a(Ia,vb);Ia.prototype.toString=function(){return this.__toString((this._name||this.constructor.name||"Record")+" {","}")};Ia.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};Ia.prototype.get=function(a,b){if(!this.has(a))return b;var f=this._defaultValues[a];return this._map?this._map.get(a,f):f};Ia.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var a=this.constructor;return a._empty||(a._empty=cb(this,ib()))};
Ia.prototype.set=function(a,b){if(!this.has(a))throw Error('Cannot set unknown key "'+a+'" on '+(this._name||this.constructor.name||"Record"));if(this._map&&!this._map.has(a)&&b===this._defaultValues[a])return this;var f=this._map&&this._map.set(a,b);return this.__ownerID||f===this._map?this:cb(this,f)};Ia.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:cb(this,a)};Ia.prototype.wasAltered=function(){return this._map.wasAltered()};
Ia.prototype.__iterator=function(a,b){var f=this;return e(this._defaultValues).map(function(a,b){return f.get(b)}).__iterator(a,b)};Ia.prototype.__iterate=function(a,b){var f=this;return e(this._defaultValues).map(function(a,b){return f.get(b)}).__iterate(a,b)};Ia.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);return a?cb(this,b,a):(this.__ownerID=a,this._map=b,this)};var Ja=Ia.prototype;Ja["delete"]=Ja.remove;Ja.deleteIn=Ja.removeIn=
ka.removeIn;Ja.merge=ka.merge;Ja.mergeWith=ka.mergeWith;Ja.mergeIn=ka.mergeIn;Ja.mergeDeep=ka.mergeDeep;Ja.mergeDeepWith=ka.mergeDeepWith;Ja.mergeDeepIn=ka.mergeDeepIn;Ja.setIn=ka.setIn;Ja.update=ka.update;Ja.updateIn=ka.updateIn;Ja.withMutations=ka.withMutations;Ja.asMutable=ka.asMutable;Ja.asImmutable=ka.asImmutable;a(Aa,Lb);Aa.of=function(){return this(arguments)};Aa.fromKeys=function(a){return this(e(a).keySeq())};Aa.prototype.toString=function(){return this.__toString("Set {","}")};Aa.prototype.has=
function(a){return this._map.has(a)};Aa.prototype.add=function(a){return hc(this,this._map.set(a,!0))};Aa.prototype.remove=function(a){return hc(this,this._map.remove(a))};Aa.prototype.clear=function(){return hc(this,this._map.clear())};Aa.prototype.union=function(){var a=ia.call(arguments,0),a=a.filter(function(a){return 0!==a.size});return 0===a.length?this:0!==this.size||this.__ownerID||1!==a.length?this.withMutations(function(f){for(var e=0;e<a.length;e++)b(a[e]).forEach(function(a){return f.add(a)})}):
this.constructor(a[0])};Aa.prototype.intersect=function(){var a=ia.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return b(a)}),f=this;return this.withMutations(function(b){f.forEach(function(f){a.every(function(a){return a.includes(f)})||b.remove(f)})})};Aa.prototype.subtract=function(){var a=ia.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return b(a)}),f=this;return this.withMutations(function(b){f.forEach(function(f){a.some(function(a){return a.includes(f)})&&
b.remove(f)})})};Aa.prototype.merge=function(){return this.union.apply(this,arguments)};Aa.prototype.mergeWith=function(a){var b=ia.call(arguments,1);return this.union.apply(this,b)};Aa.prototype.sort=function(a){return ga(Qb(this,a))};Aa.prototype.sortBy=function(a,b){return ga(Qb(this,b,a))};Aa.prototype.wasAltered=function(){return this._map.wasAltered()};Aa.prototype.__iterate=function(a,b){var f=this;return this._map.__iterate(function(b,e){return a(e,e,f)},b)};Aa.prototype.__iterator=function(a,
b){return this._map.map(function(a,b){return b}).__iterator(a,b)};Aa.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);return a?this.__make(b,a):(this.__ownerID=a,this._map=b,this)};Aa.isSet=Da;var bc="@@__IMMUTABLE_SET__@@",Ma=Aa.prototype;Ma[bc]=!0;Ma["delete"]=Ma.remove;Ma.mergeDeep=Ma.merge;Ma.mergeDeepWith=Ma.mergeWith;Ma.withMutations=ka.withMutations;Ma.asMutable=ka.asMutable;Ma.asImmutable=ka.asImmutable;Ma.__empty=sa;Ma.__make=Z;var cd;
a(ga,Aa);ga.of=function(){return this(arguments)};ga.fromKeys=function(a){return this(e(a).keySeq())};ga.prototype.toString=function(){return this.__toString("OrderedSet {","}")};ga.isOrderedSet=db;var zc=ga.prototype;zc[Wb]=!0;zc.__empty=Eb;zc.__make=wb;var dd;a(oa,gb);oa.of=function(){return this(arguments)};oa.prototype.toString=function(){return this.__toString("Stack [","]")};oa.prototype.get=function(a,b){var f=this._head;for(a=H(this,a);f&&a--;)f=f.next;return f?f.value:b};oa.prototype.peek=
function(){return this._head&&this._head.value};oa.prototype.push=function(){if(0===arguments.length)return this;for(var a=this.size+arguments.length,b=this._head,f=arguments.length-1;0<=f;f--)b={value:arguments[f],next:b};return this.__ownerID?(this.size=a,this._head=b,this.__hash=n,this.__altered=!0,this):ca(a,b)};oa.prototype.pushAll=function(a){a=f(a);if(0===a.size)return this;la(a.size);var b=this.size,e=this._head;a.reverse().forEach(function(a){b++;e={value:a,next:e}});return this.__ownerID?
(this.size=b,this._head=e,this.__hash=n,this.__altered=!0,this):ca(b,e)};oa.prototype.pop=function(){return this.slice(1)};oa.prototype.unshift=function(){return this.push.apply(this,arguments)};oa.prototype.unshiftAll=function(a){return this.pushAll(a)};oa.prototype.shift=function(){return this.pop.apply(this,arguments)};oa.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this.__hash=this._head=n,this.__altered=!0,this):$b||($b=ca(0))};oa.prototype.slice=function(a,
b){if(I(a,b,this.size))return this;var f=L(a,this.size,0);if(G(b,this.size)!==this.size)return gb.prototype.slice.call(this,a,b);for(var e=this.size-f,d=this._head;f--;)d=d.next;return this.__ownerID?(this.size=e,this._head=d,this.__hash=n,this.__altered=!0,this):ca(e,d)};oa.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?ca(this.size,this._head,a,this.__hash):(this.__ownerID=a,this.__altered=!1,this)};oa.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);
for(var f=0,e=this._head;e&&!1!==a(e.value,f++,this);)e=e.next;return f};oa.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var f=0,e=this._head;return new F(function(){if(e){var b=e.value;e=e.next;return O(a,f++,b)}return V()})};oa.isStack=Fc;var lc="@@__IMMUTABLE_STACK__@@",Zb=oa.prototype;Zb[lc]=!0;Zb.withMutations=ka.withMutations;Zb.asMutable=ka.asMutable;Zb.asImmutable=ka.asImmutable;Zb.wasAltered=ka.wasAltered;var $b;d.Iterator=F;nb(d,{toArray:function(){la(this.size);
var a=Array(this.size||0);this.valueSeq().__iterate(function(b,f){a[f]=b});return a},toIndexedSeq:function(){return new Jb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&"function"===typeof a.toJS?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&"function"===typeof a.toJSON?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new bb(this,!0)},toMap:function(){return na(this.toKeyedSeq())},toObject:function(){la(this.size);var a={};this.__iterate(function(b,
f){a[f]=b});return a},toOrderedMap:function(){return U(this.toKeyedSeq())},toOrderedSet:function(){return ga(h(this)?this.valueSeq():this)},toSet:function(){return Aa(h(this)?this.valueSeq():this)},toSetSeq:function(){return new Wa(this)},toSeq:function(){return q(this)?this.toIndexedSeq():h(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return oa(h(this)?this.valueSeq():this)},toList:function(){return va(h(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,
b){return 0===this.size?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var a=ia.call(arguments,0);return ta(this,wa(this,a))},includes:function(a){return this.some(function(b){return ra(b,a)})},entries:function(){return this.__iterator(2)},every:function(a,b){la(this.size);var f=!0;this.__iterate(function(e,d,g){if(!a.call(b,e,d,g))return f=!1});return f},filter:function(a,b){return ta(this,Cb(this,a,b,!0))},find:function(a,b,f){return(a=this.findEntry(a,b))?
a[1]:f},forEach:function(a,b){la(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){la(this.size);a=a!==n?""+a:",";var b="",f=!0;this.__iterate(function(e){f?f=!1:b+=a;b+=null!==e&&e!==n?e.toString():""});return b},keys:function(){return this.__iterator(0)},map:function(a,b){return ta(this,Ob(this,a,b))},reduce:function(a,b,f){la(this.size);var e,d;2>arguments.length?d=!0:e=b;this.__iterate(function(b,g,q){d?(d=!1,e=b):e=a.call(f,e,b,g,q)});return e},reduceRight:function(a,b,f){var e=
this.toKeyedSeq().reverse();return e.reduce.apply(e,arguments)},reverse:function(){return ta(this,qb(this,!0))},slice:function(a,b){return ta(this,sb(this,a,b,!0))},some:function(a,b){return!this.every(uc(a),b)},sort:function(a){return ta(this,Qb(this,a))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==n?0===this.size:!this.some(function(){return!0})},count:function(a,b){return z(a?this.toSeq().filter(a,b):this)},countBy:function(a,
b){return Sa(this,a,b)},equals:function(a){return lb(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ua(a._cache);var b=a.toSeq().map(Ua).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(uc(a),b)},findEntry:function(a,b,f){var e=f;this.__iterate(function(f,d,g){if(a.call(b,f,d,g))return e=[d,f],!1});return e},findKey:function(a,b){var f=this.findEntry(a,b);return f&&f[0]},findLast:function(a,b,f){return this.toKeyedSeq().reverse().find(a,
b,f)},findLastEntry:function(a,b,f){return this.toKeyedSeq().reverse().findEntry(a,b,f)},findLastKey:function(a,b){return this.toKeyedSeq().reverse().findKey(a,b)},first:function(){return this.find(x)},flatMap:function(a,b){return ta(this,Cc(this,a,b))},flatten:function(a){return ta(this,Mc(this,a,!0))},fromEntrySeq:function(){return new Bb(this)},get:function(a,b){return this.find(function(b,f){return ra(f,a)},n,b)},getIn:function(a,b){for(var f=this,e=tc(a),d;!(d=e.next()).done;)if(d=d.value,f=
f&&f.get?f.get(d,ma):ma,f===ma)return b;return f},groupBy:function(a,b){return sc(this,a,b)},has:function(a){return this.get(a,ma)!==ma},hasIn:function(a){return this.getIn(a,ma)!==ma},isSubset:function(a){a="function"===typeof a.includes?a:d(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){a="function"===typeof a.isSubset?a:d(a);return a.isSubset(this)},keyOf:function(a){return this.findKey(function(b){return ra(b,a)})},keySeq:function(){return this.toSeq().map(Cd).toIndexedSeq()},
last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(a){return this.toKeyedSeq().reverse().keyOf(a)},max:function(a){return ac(this,a)},maxBy:function(a,b){return ac(this,b,a)},min:function(a){return ac(this,a?Fa(a):Oc)},minBy:function(a,b){return ac(this,b?Fa(b):Oc,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return ta(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return ta(this,ya(this,
a,b,!0))},skipUntil:function(a,b){return this.skipWhile(uc(a),b)},sortBy:function(a,b){return ta(this,Qb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return ta(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return ta(this,Rb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(uc(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Pc(this))}});var Qa=d.prototype;Qa[Vc]=!0;
Qa[ob]=Qa.values;Qa.__toJS=Qa.toArray;Qa.__toStringMapper=Fb;Qa.inspect=Qa.toSource=function(){return this.toString()};Qa.chain=Qa.flatMap;Qa.contains=Qa.includes;nb(e,{flip:function(){return ta(this,Pa(this))},mapEntries:function(a,b){var f=this,e=0;return ta(this,this.toSeq().map(function(d,g){return a.call(b,[g,d],e++,f)}).fromEntrySeq())},mapKeys:function(a,b){var f=this;return ta(this,this.toSeq().flip().map(function(e,d){return a.call(b,e,d,f)}).flip())}});var Ac=e.prototype;Ac[Na]=!0;Ac[ob]=
Qa.entries;Ac.__toJS=Qa.toObject;Ac.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+Fb(a)};nb(f,{toKeyedSeq:function(){return new bb(this,!1)},filter:function(a,b){return ta(this,Cb(this,a,b,!1))},findIndex:function(a,b){var f=this.findEntry(a,b);return f?f[0]:-1},indexOf:function(a){a=this.keyOf(a);return a===n?-1:a},lastIndexOf:function(a){a=this.lastKeyOf(a);return a===n?-1:a},reverse:function(){return ta(this,qb(this,!1))},slice:function(a,b){return ta(this,sb(this,a,b,!1))},splice:function(a,
b){var f=arguments.length;b=Math.max(b|0,0);if(0===f||2===f&&!b)return this;var e=0>a?this.count():this.size;a=L(a,e,0);e=this.slice(0,a);return ta(this,1===f?e:e.concat(u(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){var f=this.findLastEntry(a,b);return f?f[0]:-1},first:function(){return this.get(0)},flatten:function(a){return ta(this,Mc(this,a,!1))},get:function(a,b){a=H(this,a);return 0>a||Infinity===this.size||this.size!==n&&a>this.size?b:this.find(function(b,f){return f===a},n,
b)},has:function(a){a=H(this,a);return 0<=a&&(this.size!==n?Infinity===this.size||a<this.size:-1!==this.indexOf(a))},interpose:function(a){return ta(this,kc(this,a))},interleave:function(){var a=[this].concat(u(arguments)),b=jc(this.toSeq(),ba.of,a),f=b.flatten(!0);b.size&&(f.size=b.size*a.length);return ta(this,f)},keySeq:function(){return Ga(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(a,b){return ta(this,ya(this,a,b,!1))},zip:function(){var a=[this].concat(u(arguments));
return ta(this,jc(this,Nc,a))},zipWith:function(a){var b=u(arguments);b[0]=this;return ta(this,jc(this,a,b))}});f.prototype[Xc]=!0;f.prototype[Wb]=!0;nb(b,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});b.prototype.has=Qa.includes;b.prototype.contains=b.prototype.includes;nb(Y,e.prototype);nb(ba,f.prototype);nb(aa,b.prototype);nb(vb,e.prototype);nb(gb,f.prototype);nb(Lb,b.prototype);return{Iterable:d,Seq:R,Collection:$a,
Map:na,OrderedMap:U,List:va,Stack:oa,Set:Aa,OrderedSet:ga,Record:Ia,Range:Ga,Repeat:Ba,is:ra,fromJS:kb}})},function(d,h,a){function g(a){return a&&a.__esModule?a:{"default":a}}h.__esModule=!0;h.compose=h.applyMiddleware=h.bindActionCreators=h.combineReducers=h.createStore=n;d=a(29);d=g(d);var m=a(35),m=g(m),e=a(37),e=g(e),f=a(38),f=g(f),b=a(39),b=g(b);a=a(36);g(a);h.createStore=d["default"];h.combineReducers=m["default"];h.bindActionCreators=e["default"];h.applyMiddleware=f["default"];h.compose=b["default"]},
function(d,h,a){function g(a,d,h){function q(a){if("function"!==typeof a)throw Error("Expected listener to be a function.");var b=!0;u===C&&(u=C.slice());u.push(a);return function(){if(b){b=!1;u===C&&(u=C.slice());var f=u.indexOf(a);u.splice(f,1)}}}function r(a){if(!(0,m["default"])(a))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof a.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');
if(z)throw Error("Reducers may not dispatch actions.");try{z=!0,A=B(A,a)}finally{z=!1}for(var b=C=u,f=0;f<b.length;f++)b[f]();return a}var E;"function"===typeof d&&"undefined"===typeof h&&(h=d,d=n);if("undefined"!==typeof h){if("function"!==typeof h)throw Error("Expected the enhancer to be a function.");return h(g)(a,d)}if("function"!==typeof a)throw Error("Expected the reducer to be a function.");var B=a,A=d,C=[],u=C,z=!1;r({type:f.INIT});return E={dispatch:r,subscribe:q,getState:function(){return A},
replaceReducer:function(a){if("function"!==typeof a)throw Error("Expected the nextReducer to be a function.");B=a;r({type:f.INIT})}},E[e["default"]]=function(){var a;return a={subscribe:function(a){function b(){a.next&&a.next(A)}if("object"!==typeof a)throw new TypeError("Expected the observer to be an object.");b();return{unsubscribe:q(b)}}},a[e["default"]]=function(){return this},a},E}h.__esModule=!0;h.ActionTypes=n;h["default"]=g;var m=(d=a(30))&&d.__esModule?d:{"default":d},e=(a=a(33))&&a.__esModule?
a:{"default":a},f=h.ActionTypes={INIT:"@@redux/INIT"}},function(d,h,a){var g=a(31),m=a(32),e=Object.prototype,f=Function.prototype.toString,b=f.call(Object),p=e.toString,v=Object.getPrototypeOf;d.exports=function(a){if(!m(a)||"[object Object]"!=p.call(a)||g(a))return!1;var d=e;"function"==typeof a.constructor&&(d=v(a));if(null===d)return!0;a=d.constructor;return"function"==typeof a&&a instanceof a&&f.call(a)==b}},function(d,h){d.exports=function(a){var d=!1;if(null!=a&&"function"!=typeof a.toString)try{d=
!!(a+"")}catch(h){}return d}},function(d,h){d.exports=function(a){return!!a&&"object"==typeof a}},function(d,h,a){(function(g){d.exports=a(34)(g||ea||this)}).call(h,function(){return this}())},function(d,h){d.exports=function(a){var d=a.Symbol;"function"===typeof d?d.observable?a=d.observable:(a=d("observable"),d.observable=a):a="@@observable";return a}},function(d,h,a){function g(a){Object.keys(a).forEach(function(f){var b=a[f];if("undefined"===typeof b(n,{type:m.ActionTypes.INIT}))throw Error('Reducer "'+
f+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var d="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"===typeof b(n,{type:d}))throw Error('Reducer "'+f+'" returned undefined when probed with a random type. '+("Don't try to handle "+m.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.");
})}h.__esModule=!0;h["default"]=function(a){for(var f=Object.keys(a),b={},d=0;d<f.length;d++){var h=f[d];"function"===typeof a[h]&&(b[h]=a[h])}var q=Object.keys(b),r;try{g(b)}catch(m){r=m}return function(){var a=0>=arguments.length||arguments[0]===n?{}:arguments[0],f=arguments[1];if(r)throw r;for(var e=!1,d={},g=0;g<q.length;g++){var p=q[g],h=a[p],m=(0,b[p])(h,f);if("undefined"===typeof m)throw a=f&&f.type,Error("Given action "+(a&&'"'+a.toString()+'"'||"an action")+', reducer "'+p+'" returned undefined. To ignore an action, you must explicitly return the previous state.');
d[p]=m;e=e||m!==h}return e?d:a}};var m=a(29);a(30);a(36)},function(d,h){h.__esModule=!0;h["default"]=function(a){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(a);try{throw Error(a);}catch(d){}}},function(d,h){function a(a,d){return function(){return d(a.apply(n,arguments))}}h.__esModule=!0;h["default"]=function(d,h){if("function"===typeof d)return a(d,h);if("object"!==typeof d||null===d)throw Error("bindActionCreators expected an object or a function, instead received "+
(null===d?"null":typeof d)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var e=Object.keys(d),f={},b=0;b<e.length;b++){var p=e[b],v=d[p];"function"===typeof v&&(f[p]=a(v,h))}return f}},function(d,h,a){h.__esModule=!0;var g=Object.assign||function(a){for(var f=1;f<arguments.length;f++){var b=arguments[f],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};h["default"]=function(){for(var a=arguments.length,f=Array(a),b=0;b<
a;b++)f[b]=arguments[b];return function(a){return function(b,e,d){b=a(b,e,d);var h=b.dispatch;e=[];var B={getState:b.getState,dispatch:function(a){return h(a)}};e=f.map(function(a){return a(B)});h=m["default"].apply(n,e)(b.dispatch);return g({},b,{dispatch:h})}}};var m=(d=a(39))&&d.__esModule?d:{"default":d}},function(d,h){h.__esModule=!0;h["default"]=function(){for(var a=arguments.length,d=Array(a),h=0;h<a;h++)d[h]=arguments[h];if(0===d.length)return function(a){return a};a=function(){var a=d[d.length-
1],f=d.slice(0,-1);return{v:function(){return f.reduceRight(function(a,f){return f(a)},a.apply(n,arguments))}}}();if("object"===typeof a)return a.v}},function(d,h){function a(a){return function(e){var f=e.dispatch,b=e.getState;return function(e){return function(d){return"function"===typeof d?d(f,b,a):e(d)}}}}h.__esModule=!0;var g=a();g.withExtraArgument=a;h["default"]=g},function(d,h){function a(a){if(Array.isArray(a)){for(var f=0,e=Array(a.length);f<a.length;f++)e[f]=a[f];return e}return Array.from(a)}
function g(b,f,e,d){switch("undefined"===typeof b?"undefined":b&&"undefined"!==typeof Symbol&&b.constructor===Symbol?"symbol":typeof b){case "object":return"function"===typeof b[d]?b[d].apply(b,a(e)):b[d];case "function":return b(f);default:return b}}var m=function(a,f){return Array(f-a.toString().length+1).join("0")+a},e=function(a){return"@ "+m(a.getHours(),2)+":"+m(a.getMinutes(),2)+":"+m(a.getSeconds(),2)+"."+m(a.getMilliseconds(),3)},f="undefined"!==typeof performance&&"function"===typeof performance.now?
performance:Date;d.exports=function(){function a(){G.forEach(function(a,b){var f=a.started,d=a.startedTime,p=a.action,h=a.prevState,m=a.error,z=a.took,x=a.nextState,v=G[b+1];v&&(x=v.prevState,z=v.started-f);f=H(p);p="function"===typeof B?B(function(){return x},p):B;v=e(d);d=I.title?"color: "+I.title(f)+";":null;z="action "+(u?v:"")+" "+f.type+" "+(C?"(in "+z.toFixed(2)+" ms)":"");try{p?I.title?r.groupCollapsed("%c "+z,d):r.groupCollapsed(z):I.title?r.group("%c "+z,d):r.group(z)}catch(E){r.log(z)}z=
g(q,f,[h],"prevState");d=g(q,f,[f],"action");p=g(q,f,[m,h],"error");v=g(q,f,[x],"nextState");if(z)if(I.prevState)r[z]("%c prev state","color: "+I.prevState(h)+"; font-weight: bold",h);else r[z]("prev state",h);if(d)if(I.action)r[d]("%c action","color: "+I.action(f)+"; font-weight: bold",f);else r[d]("action",f);if(m&&p)if(I.error)r[p]("%c error","color: "+I.error(m,h)+"; font-weight: bold",m);else r[p]("error",m);if(v)if(I.nextState)r[v]("%c next state","color: "+I.nextState(x)+"; font-weight: bold",
x);else r[v]("next state",x);try{r.groupEnd()}catch(A){r.log("—— log end ——")}});G.length=0}var d=0>=arguments.length||arguments[0]===n?{}:arguments[0],h=d.level,q=h===n?"log":h,h=d.logger,r=h===n?console:h,h=d.logErrors,m=h===n?!0:h,B=d.collapsed,A=d.predicate,h=d.duration,C=h===n?!1:h,h=d.timestamp,u=h===n?!0:h,h=d.stateTransformer,z=h===n?function(a){return a}:h,h=d.actionTransformer,H=h===n?function(a){return a}:h,h=d.errorTransformer,x=h===n?function(a){return a}:h,h=d.colors,I=h===n?{title:function(){return"#000000"},
prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:h;if("undefined"===typeof r)return function(){return function(a){return function(b){return a(b)}}};d.transformer&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var G=[];return function(e){var d=e.getState;return function(e){return function(g){if("function"===typeof A&&!A(d,g))return e(g);var q={};G.push(q);q.started=f.now();
q.startedTime=new Date;q.prevState=z(d());q.action=g;var p=n;if(m)try{p=e(g)}catch(h){q.error=x(h)}else p=e(g);q.took=f.now()-q.started;q.nextState=z(d());a();if(q.error)throw q.error;return p}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(43);var m=a(49),m=g(m),e=a(50),e=g(e),f=a(108),f=g(f),b=a(118),b=g(b),p=a(119),p=g(p),v=a(128),v=g(v);a=a(129);a=g(a);h.default=(0,d.combineReducers)({history:m.default,config:e.default,
cache:f.default,playback:b.default,media:p.default,errors:v.default,network:a.default})},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});h.combineReducers=n;d=a(44);h.combineReducers=(d&&d.__esModule?d:{default:d}).default},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=a(27),m=g&&g.__esModule?g:{default:g},e=a(45);h.default=function(a){var b=Object.keys(a);return function(){var d=0<arguments.length&&arguments[0]!==n?arguments[0]:m.default.Map(),g=arguments[1];
return d.withMutations(function(d){b.forEach(function(b){var p=a[b],h=d.get(b),p=p(h,g);(0,e.validateNextState)(p,b,g);d.set(b,p)})})}};d.exports=h["default"]},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}"create index";Object.defineProperty(h,"__esModule",{value:!0});h.validateNextState=h.getUnexpectedInvocationParameterMessage=h.getStateName=n;d=a(46);d=g(d);var m=a(47),m=g(m);a=a(48);a=g(a);h.getStateName=d.default;h.getUnexpectedInvocationParameterMessage=m.default;h.validateNextState=
a.default},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default=function(a){return a&&"@@redux/INIT"===a.type?"initialState argument passed to createStore":"previous state received by the reducer"};d.exports=h["default"]},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=a(27),m=g&&g.__esModule?g:{default:g},e=(a=a(46))&&a.__esModule?a:{default:a};h.default=function(a,b,d){var g=Object.keys(b);if(!g.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";
d=(0,e.default)(d);if(!m.default.Iterable.isIterable(a))return"The "+d+' is of unexpected type. Expected argument to be an instance of Immutable.Iterable with the following properties: "'+g.join('", "')+'".';a=a.keySeq().toArray().filter(function(a){return!b.hasOwnProperty(a)});return 0<a.length?"Unexpected "+(1===a.length?"property":"properties")+' "'+a.join('", "')+'" found in '+d+'. Expected to find one of the known reducer property names instead: "'+g.join('", "')+'". Unexpected properties will be ignored.':
null};d.exports=h["default"]},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default=function(a,d,h){if(a===n)throw Error('Reducer "'+d+'" returned undefined when handling "'+h.type+'" action. To ignore an action, you must explicitly return the previous state.');return null};d.exports=h["default"]},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(27))&&d.__esModule?d:{default:d};h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:
new g.default.List,e=arguments[1];return e?10>a.size?a.unshift(e):a.unshift(e).setSize(10):a}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(27))&&d.__esModule?d:{default:d},m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b.default=a;return b}(a(51)),e=(a=a(52))&&a.__esModule?a:{default:a};h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:g.default.Map(e.default.initialConfig),
b=arguments[1];if(!b)return a;var d=b.payload?b.payload.config:{};switch(b.type){case m.UPDATE_CONFIG:return a.merge(d);default:return a}}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.PLAYBACK_PLAY="PLAYBACK_PLAY";h.PLAYBACK_SET="PLAYBACK_SET";h.PLAYBACK_PAUSE="PLAYBACK_PAUSE";h.PLAYBACK_ENDED="PLAYBACK_ENDED";h.PLAYBACK_TOGGLE_REPEAT="PLAYBACK_TOGGLE_REPEAT";h.PLAYBACK_TOGGLE_MUTE="PLAYBACK_TOGGLE_MUTE";h.PLAYBACK_SET_VOLUME="PLAYBACK_SET_VOLUME";h.PLAYBACK_SET_TIME="PLAYBACK_SET_TIME";
h.PLAYBACK_SEEK_TO="PLAYBACK_SEEK_TO";h.PLAYBACK_SET_BITRATE="PLAYBACK_SET_BITRATE";h.PLAYBACK_SET_DURATION="PLAYBACK_SET_DURATION";h.PLAYBACK_STALLED="PLAYBACK_STALLED";h.PLAYBACK_STALL_COMPLETED="PLAYBACK_STALL_COMPLETED";h.PLAYBACK_SEEK_COMPLETED="PLAYBACK_SEEK_COMPLETED";h.PLAYBACK_STARTED="PLAYBACK_STARTED";h.ADD_TRACK="ADD_TRACK";h.REMOVE_TRACK="REMOVE_TRACK";h.RESET_TRACK="RESET_TRACK";h.REPLACE_TRACK="REPLACE_TRACK";h.UPDATE_TRACK="UPDATE_TRACK";h.INCREASE_DYNAMIC_TRACK_DURATION="INCREASE_DYNAMIC_TRACK_DURATION";
h.DECREASE_DYNAMIC_TRACK_DURATION="DECREASE_DYNAMIC_TRACK_DURATION";h.GET_MANIFEST_START="GET_MANIFEST_START";h.GET_MANIFEST_SUCCEED="GET_MANIFEST_SUCCEED";h.GET_MANIFEST_FAILED="GET_MANIFEST_FAILED";h.UTCTIMING_REQUEST="UTCTIMING_REQUEST";h.UTCTIMING_REQUESTED="UTCTIMING_REQUESTED";h.UTCTIMING_REQUEST_FAILED="UTCTIMING_REQUEST_FAILED";h.SET_SERVER_TIME_OFFSET="SET_SERVER_TIME_OFFSET";h.SERVER_TIME_SYNC_COMPLETED="SERVER_TIME_SYNC_COMPLETED";h.MEDIA_SOURCE_OPENED="MEDIA_SOURCE_OPENED";h.MEDIA_SOURCE_CLOSED=
"MEDIA_SOURCE_CLOSED";h.MEDIA_SOURCE_ENDED="MEDIA_SOURCE_ENDED";h.BUFFER_APPENDED="BUFFER_APPENDED";h.BUFFER_APPENDING="BUFFER_APPENDING";h.BUFFER_RANGES_UPDATED="BUFFER_RANGES_UPDATED";h.GET_FRAGMENT_START="GET_FRAGMENT_START";h.GET_FRAGMENT_SUCCEED="GET_FRAGMENT_SUCCEED";h.GET_FRAGMENT_FAILED="GET_FRAGMENT_FAILED";h.END_DYNAMIC_TRACK="END_DYNAMIC_TRACK";h.NETWORK_ONLINE="NETWORK_ONLINE";h.NETWORK_OFFLINE="NETWORK_OFFLINE";h.ERROR="ERROR";h.UPDATE_CONFIG="UPDATE_CONFIG";h.PLAYBACK_DECREASE_BITRATE=
"PLAYBACK_DECREASE_BITRATE";h.PLAYBACK_INCREASE_BITRATE="PLAYBACK_INCREASE_BITRATE"},function(d,h,a){(function(d){Object.defineProperty(h,"__esModule",{value:!0});var m=a(53),e=new (m&&m.__esModule?m:{default:m}).default;e.set("debug",!1);h.default={initialConfig:{audioQuality:-1,cacheSize:2,secondsToPrefetch:20,secondsToPrefetchAhead:240,secondsInBuffer:30,secondsToRetryManifest:10,maxNetworkRetries:3,userAgent:d.navigator.userAgent,maxPrecedingTime:3600,secondsToRetryManifestJitter:300},getDebugMode:function(){return e.get("debug")},
setDebugMode:function(a){e.set("debug",a)}}}).call(h,function(){return this}())},function(d,h,a){d.exports={"default":a(54),__esModule:!0}},function(d,h,a){a(55);a(56);a(85);a(89);a(105);d.exports=a(9).Map},function(d,h){},function(d,h,a){var g=a(57)(!0);a(60)(String,"String",function(a){this._t=String(a);this._i=0},function(){var a=this._t,e=this._i;if(e>=a.length)return{value:n,done:!0};a=g(a,e);this._i+=a.length;return{value:a,done:!1}})},function(d,h,a){var g=a(58),m=a(59);d.exports=function(a){return function(f,
b){var d=String(m(f)),h=g(b),q=d.length,r,E;if(0>h||h>=q)return a?"":n;r=d.charCodeAt(h);return 55296>r||56319<r||h+1===q||56320>(E=d.charCodeAt(h+1))||57343<E?a?d.charAt(h):r:a?d.slice(h,h+2):(r-55296<<10)+(E-56320)+65536}}},function(d,h){var a=Math.ceil,g=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?g:a)(d)}},function(d,h){d.exports=function(a){if(a==n)throw TypeError("Can't call method on  "+a);return a}},function(d,h,a){var g=a(61),m=a(7),e=a(62),f=a(12),b=a(63),p=a(64),v=a(65),
q=a(81),r=a(83),E=a(82)("iterator"),B=!([].keys&&"next"in[].keys()),A=function(){return this};d.exports=function(a,d,h,H,x,I,G){v(h,d,H);H=function(a){return!B&&a in V?V[a]:function(){return new h(this,a)}};var L=d+" Iterator",F="values"==x,O=!1,V=a.prototype,T=V[E]||V["@@iterator"]||x&&V[x],W=T||H(x),pa=x?F?H("entries"):W:n,R="Array"==d?V.entries||T:T,Y,ba;R&&(a=r(R.call(new a)),a!==Object.prototype&&(q(a,L,!0),g||b(a,E)||f(a,E,A)));F&&T&&"values"!==T.name&&(O=!0,W=function(){return T.call(this)});
g&&!G||!B&&!O&&V[E]||f(V,E,W);p[d]=W;p[L]=A;if(x)if(Y={values:F?W:H("values"),keys:I?W:H("keys"),entries:pa},G)for(ba in Y)ba in V||e(V,ba,Y[ba]);else m(m.P+m.F*(B||O),d,Y);return Y}},function(d,h){d.exports=!0},function(d,h,a){d.exports=a(12)},function(d,h){var a={}.hasOwnProperty;d.exports=function(d,h){return a.call(d,h)}},function(d,h){d.exports={}},function(d,h,a){var g=a(66),m=a(21),e=a(81),f={};a(12)(f,a(82)("iterator"),function(){return this});d.exports=function(a,d,h){a.prototype=g(f,{next:m(1,
h)});e(a,d+" Iterator")}},function(d,h,a){var g=a(14),m=a(67),e=a(79),f=a(76)("IE_PROTO"),b=function(){},p=function(){var b=a(19)("iframe"),f=e.length;b.style.display="none";a(80).appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object\x3c/script>");b.close();for(p=b.F;f--;)delete p.prototype[e[f]];return p()};d.exports=Object.create||function(a,d){var e;null!==a?(b.prototype=g(a),e=new b,b.prototype=null,e[f]=a):e=p();return d===n?e:m(e,d)}},function(d,
h,a){var g=a(13),m=a(14),e=a(68);d.exports=a(17)?Object.defineProperties:function(a,b){m(a);for(var d=e(b),h=d.length,q=0,r;h>q;)g.f(a,r=d[q++],b[r]);return a}},function(d,h,a){var g=a(69),m=a(79);d.exports=Object.keys||function(a){return g(a,m)}},function(d,h,a){var g=a(63),m=a(70),e=a(73)(!1),f=a(76)("IE_PROTO");d.exports=function(a,d){var h=m(a),q=0,r=[],E;for(E in h)E!=f&&g(h,E)&&r.push(E);for(;d.length>q;)g(h,E=d[q++])&&(~e(r,E)||r.push(E));return r}},function(d,h,a){var g=a(71),m=a(59);d.exports=
function(a){return g(m(a))}},function(d,h,a){var g=a(72);d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==g(a)?a.split(""):Object(a)}},function(d,h){var a={}.toString;d.exports=function(d){return a.call(d).slice(8,-1)}},function(d,h,a){var g=a(70),m=a(74),e=a(75);d.exports=function(a){return function(b,d,h){b=g(b);var q=m(b.length);h=e(h,q);if(a&&d!=d)for(;q>h;){if(d=b[h++],d!=d)return!0}else for(;q>h;h++)if((a||h in b)&&b[h]===d)return a||h||0;return!a&&-1}}},function(d,
h,a){var g=a(58),m=Math.min;d.exports=function(a){return 0<a?m(g(a),9007199254740991):0}},function(d,h,a){var g=a(58),m=Math.max,e=Math.min;d.exports=function(a,b){a=g(a);return 0>a?m(a+b,0):e(a,b)}},function(d,h,a){var g=a(77)("keys"),m=a(78);d.exports=function(a){return g[a]||(g[a]=m(a))}},function(d,h,a){h=a(8);var g=h["__core-js_shared__"]||(h["__core-js_shared__"]={});d.exports=function(a){return g[a]||(g[a]={})}},function(d,h){var a=0,g=Math.random();d.exports=function(d){return"Symbol(".concat(d===
n?"":d,")_",(++a+g).toString(36))}},function(d,h){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(d,h,a){d.exports=a(8).document&&document.documentElement},function(d,h,a){var g=a(13).f,m=a(63),e=a(82)("toStringTag");d.exports=function(a,b,d){a&&!m(a=d?a:a.prototype,e)&&g(a,e,{configurable:!0,value:b})}},function(d,h,a){var g=a(77)("wks"),m=a(78),e=a(8).Symbol,f="function"==typeof e;(d.exports=function(a){return g[a]||
(g[a]=f&&e[a]||(f?e:m)("Symbol."+a))}).store=g},function(d,h,a){var g=a(63),m=a(84),e=a(76)("IE_PROTO"),f=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=m(a);return g(a,e)?a[e]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?f:null}},function(d,h,a){var g=a(59);d.exports=function(a){return Object(g(a))}},function(d,h,a){a(86);d=a(8);h=a(12);var g=a(64);a=a(82)("toStringTag");for(var m=["NodeList","DOMTokenList","MediaList",
"StyleSheetList","CSSRuleList"],e=0;5>e;e++){var f=m[e],b=d[f];(b=b&&b.prototype)&&!b[a]&&h(b,a,f);g[f]=g.Array}},function(d,h,a){h=a(87);var g=a(88),m=a(64),e=a(70);d.exports=a(60)(Array,"Array",function(a,b){this._t=e(a);this._i=0;this._k=b},function(){var a=this._t,b=this._k,d=this._i++;return!a||d>=a.length?(this._t=n,g(1)):"keys"==b?g(0,d):"values"==b?g(0,a[d]):g(0,[d,a[d]])},"values");m.Arguments=m.Array;h("keys");h("values");h("entries")},function(d,h){d.exports=function(){}},function(d,h){d.exports=
function(a,d){return{value:d,done:!!a}}},function(d,h,a){var g=a(90);d.exports=a(100)("Map",function(a){return function(){return a(this,0<arguments.length?arguments[0]:n)}},{get:function(a){return(a=g.getEntry(this,a))&&a.v},set:function(a,d){return g.def(this,0===a?0:a,d)}},g,!0)},function(d,h,a){var g=a(13).f,m=a(66),e=a(91),f=a(10),b=a(92),p=a(59),v=a(93),q=a(60),r=a(88),E=a(98),B=a(17),A=a(99).fastKey,C=B?"_s":"size",u=function(a,b){var f=A(b);if("F"!==f)return a._i[f];for(f=a._f;f;f=f.n)if(f.k==
b)return f};d.exports={getConstructor:function(a,d,q,h){var r=a(function(a,f){b(a,r,d,"_i");a._i=m(null);a._f=n;a._l=n;a[C]=0;f!=n&&v(f,q,a[h],a)});e(r.prototype,{clear:function(){for(var a=this._i,b=this._f;b;b=b.n)b.r=!0,b.p&&(b.p=b.p.n=n),delete a[b.i];this._f=this._l=n;this[C]=0},"delete":function(a){if(a=u(this,a)){var b=a.n,f=a.p;delete this._i[a.i];a.r=!0;f&&(f.n=b);b&&(b.p=f);this._f==a&&(this._f=b);this._l==a&&(this._l=f);this[C]--}return!!a},forEach:function(a){b(this,r,"forEach");for(var d=
f(a,1<arguments.length?arguments[1]:n,3),e;e=e?e.n:this._f;)for(d(e.v,e.k,this);e&&e.r;)e=e.p},has:function(a){return!!u(this,a)}});B&&g(r.prototype,"size",{get:function(){return p(this[C])}});return r},def:function(a,b,f){var d=u(a,b),e;d?d.v=f:(a._l=d={i:e=A(b,!0),k:b,v:f,p:b=a._l,n:n,r:!1},a._f||(a._f=d),b&&(b.n=d),a[C]++,"F"!==e&&(a._i[e]=d));return a},getEntry:u,setStrong:function(a,b,f){q(a,b,function(a,b){this._t=a;this._k=b;this._l=n},function(){for(var a=this._k,b=this._l;b&&b.r;)b=b.p;return this._t&&
(this._l=b=b?b.n:this._t._f)?"keys"==a?r(0,b.k):"values"==a?r(0,b.v):r(0,[b.k,b.v]):(this._t=n,r(1))},f?"entries":"values",!f,!0);E(b)}}},function(d,h,a){var g=a(12);d.exports=function(a,d,f){for(var b in d)f&&a[b]?a[b]=d[b]:g(a,b,d[b]);return a}},function(d,h){d.exports=function(a,d,h,e){if(!(a instanceof d)||e!==n&&e in a)throw TypeError(h+": incorrect invocation!");return a}},function(d,h,a){var g=a(10),m=a(94),e=a(95),f=a(14),b=a(74),p=a(96),v={},q={};h=d.exports=function(a,d,h,A,C){C=C?function(){return a}:
p(a);h=g(h,A,d?2:1);A=0;var u,z;if("function"!=typeof C)throw TypeError(a+" is not iterable!");if(e(C))for(u=b(a.length);u>A;A++){if(C=d?h(f(z=a[A])[0],z[1]):h(a[A]),C===v||C===q)return C}else for(A=C.call(a);!(z=A.next()).done;)if(C=m(A,h,z.value,d),C===v||C===q)return C};h.BREAK=v;h.RETURN=q},function(d,h,a){var g=a(14);d.exports=function(a,d,f,b){try{return b?d(g(f)[0],f[1]):d(f)}catch(h){throw d=a["return"],d!==n&&g(d.call(a)),h;}}},function(d,h,a){var g=a(64),m=a(82)("iterator"),e=Array.prototype;
d.exports=function(a){return a!==n&&(g.Array===a||e[m]===a)}},function(d,h,a){var g=a(97),m=a(82)("iterator"),e=a(64);d.exports=a(9).getIteratorMethod=function(a){if(a!=n)return a[m]||a["@@iterator"]||e[g(a)]}},function(d,h,a){var g=a(72),m=a(82)("toStringTag"),e="Arguments"==g(function(){return arguments}());d.exports=function(a){var b,d;if(a===n)b="Undefined";else{var h;if(null===a)h="Null";else{a:{var q=a=Object(a);try{h=q[m];break a}catch(r){}h=void 0}h="string"==typeof(b=h)?b:e?g(a):"Object"==
(d=g(a))&&"function"==typeof a.callee?"Arguments":d}b=h}return b}},function(d,h,a){var g=a(8),m=a(9),e=a(13),f=a(17),b=a(82)("species");d.exports=function(a){a="function"==typeof m[a]?m[a]:g[a];f&&a&&!a[b]&&e.f(a,b,{configurable:!0,get:function(){return this}})}},function(d,h,a){var g=a(78)("meta"),m=a(15),e=a(63),f=a(13).f,b=0,p=Object.isExtensible||function(){return!0},v=!a(18)(function(){return p(Object.preventExtensions({}))}),q=function(a){f(a,g,{value:{i:"O"+ ++b,w:{}}})},r=d.exports={KEY:g,
NEED:!1,fastKey:function(a,b){if(!m(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!e(a,g)){if(!p(a))return"F";if(!b)return"E";q(a)}return a[g].i},getWeak:function(a,b){if(!e(a,g)){if(!p(a))return!0;if(!b)return!1;q(a)}return a[g].w},onFreeze:function(a){v&&r.NEED&&p(a)&&!e(a,g)&&q(a);return a}}},function(d,h,a){var g=a(8),m=a(7),e=a(99),f=a(18),b=a(12),p=a(91),v=a(93),q=a(92),r=a(15),E=a(81),B=a(13).f,A=a(101)(0),C=a(17);d.exports=function(a,d,h,x,I,G){var L=g[a],F=L,O=I?"set":"add",
V=F&&F.prototype,T={};C&&"function"==typeof F&&(G||V.forEach&&!f(function(){(new F).entries().next()}))?(F=d(function(b,f){q(b,F,a,"_c");b._c=new L;f!=n&&v(f,I,b[O],b)}),A("add clear delete forEach get has set keys values entries toJSON".split(" "),function(a){var f="add"==a||"set"==a;a in V&&(!G||"clear"!=a)&&b(F.prototype,a,function(b,d){q(this,F,a);if(!f&&G&&!r(b))return"get"==a?n:!1;var e=this._c[a](0===b?0:b,d);return f?this:e})}),"size"in V&&B(F.prototype,"size",{get:function(){return this._c.size}})):
(F=x.getConstructor(d,a,I,O),p(F.prototype,h),e.NEED=!0);E(F,a);T[a]=F;m(m.G+m.W+m.F,T);G||x.setStrong(F,a,I);return F}},function(d,h,a){var g=a(10),m=a(71),e=a(84),f=a(74),b=a(102);d.exports=function(a,d){var q=1==a,h=2==a,E=3==a,B=4==a,A=6==a,C=5==a||A,u=d||b;return function(b,d,x){var v=e(b),G=m(v);d=g(d,x,3);x=f(G.length);var L=0;b=q?u(b,x):h?u(b,0):n;for(var F,O;x>L;L++)if(C||L in G)if(F=G[L],O=d(F,L,v),a)if(q)b[L]=O;else if(O)switch(a){case 3:return!0;case 5:return F;case 6:return L;case 2:b.push(F)}else if(B)return!1;
return A?-1:E||B?B:b}}},function(d,h,a){var g=a(103);d.exports=function(a,d){return new (g(a))(d)}},function(d,h,a){var g=a(15),m=a(104),e=a(82)("species");d.exports=function(a){var b;m(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!m(b.prototype)||(b=n),g(b)&&(b=b[e],null===b&&(b=n)));return b===n?Array:b}},function(d,h,a){var g=a(72);d.exports=Array.isArray||function(a){return"Array"==g(a)}},function(d,h,a){d=a(7);d(d.P+d.R,"Map",{toJSON:a(106)("Map")})},function(d,h,a){var g=a(97),m=a(107);
d.exports=function(a){return function(){if(g(this)!=a)throw TypeError(a+"#toJSON isn't generic");return m(this)}}},function(d,h,a){var g=a(93);d.exports=function(a,d){var f=[];g(a,!1,f.push,f,d);return f}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:b.default.List(),f=arguments[1],d=void 0;switch(f.type){case p.ADD_TRACK:return f=f.payload.track.id,d=a.indexOf(f),0<=d&&(a=a.remove(d)),a.push(f);case p.REMOVE_TRACK:return d=
a.indexOf(f.payload.trackId),0>d?a:a.delete(d);default:return a}}function e(a,b){if(!b||!a.has(b.payload.trackId))return a;switch(b.type){case p.BUFFER_APPENDING:var f=void 0,f=b.payload.fragmentIndex===n?[b.payload.trackId,"bitrates",b.payload.bitrate,"initialization"]:[b.payload.trackId,"bitrates",b.payload.bitrate,"fragments",b.payload.fragmentIndex];return a.setIn([b.payload.trackId,"bitrates",b.payload.bitrate,"needsInitFragment"],!1).setIn(f,(0,v.default)(a.getIn(f),b));case p.GET_FRAGMENT_START:case p.GET_FRAGMENT_SUCCEED:case p.GET_FRAGMENT_FAILED:case p.BUFFER_APPENDED:if(b.payload.fragmentIndex===
n)return f=[b.payload.trackId,"bitrates",b.payload.bitrate,"initialization"],a.setIn(f,(0,v.default)(a.getIn(f),b));f=[b.payload.trackId,"bitrates",b.payload.bitrate,"fragments"];return a.setIn(f,(0,q.default)(a.getIn(f),b));default:return a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(109);var f=g(d);d=a(27);var b=g(d),p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;return b}(a(51));d=a(110);
var v=g(d);a=a(111);var q=g(a),r=b.default.Map({trackIds:b.default.List()});h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:r,d=arguments[1];if(!d)return a;var g=void 0,h=void 0;switch(d.type){case p.ADD_TRACK:return g=d.payload.track.id,a.set(g,b.default.fromJS(d.payload.track)).set("trackIds",m(a.get("trackIds"),d));case p.REMOVE_TRACK:return a.remove(d.payload.trackId).set("trackIds",m(a.get("trackIds"),d));case p.REPLACE_TRACK:case p.RESET_TRACK:return a.set(d.payload.track.get("id"),
d.payload.track);case p.INCREASE_DYNAMIC_TRACK_DURATION:return g=d.payload.trackId,a=a.mergeDeep((0,f.default)({},g,{duration:d.payload.availableDuration,durationWithOffset:d.payload.availableDurationWithOffset,numOfAvailableSegments:d.payload.newNumOfAvailableSegments})),a.getIn([g,"bitrateList"]).forEach(function(b){h=[d.payload.trackId,"bitrates",b,"fragments"];d.payload.newFragments=d.payload.newFragmentsForBitrate[b];a=a.setIn(h,(0,q.default)(a.getIn(h),d))}),a;case p.DECREASE_DYNAMIC_TRACK_DURATION:return g=
d.payload.trackId,a=a.mergeDeep((0,f.default)({},g,{duration:d.payload.availableDuration,durationWithOffset:d.payload.availableDurationWithOffset,numOfAvailableSegments:d.payload.newNumOfAvailableSegments})),a.getIn([g,"bitrateList"]).forEach(function(b){h=[d.payload.trackId,"bitrates",b,"fragments"];a=a.setIn(h,(0,q.default)(a.getIn(h),d))}),a;case p.MANIFEST_REQUEST:return a.mergeDeep((0,f.default)({},g,{duration:d.payload.availableDuration,durationWithOffset:d.payload.availableDurationWithOffset,
numOfAvailableSegments:d.payload.newNumOfAvailableSegments})).setIn(h,(0,q.default)(a.getIn(h),d));case p.GET_MANIFEST_START:return a.setIn([d.payload.trackId,"isRequestingManifest"],!0);case p.GET_MANIFEST_FAILED:return a.setIn([d.payload.trackId,"isRequestingManifest"],!1);case p.GET_MANIFEST_SUCCEED:return g=d.payload.trackId,a.mergeDeep((0,f.default)({},g,{manifest:d.payload.manifest,isRequestingManifest:!1,lastIndexWithEMSG:d.payload.lastIndexWithEMSG}));case p.UTCTIMING_REQUEST:return a.setIn([d.payload.trackId,
"isRequestingUTCTiming"],!0);case p.UTCTIMING_REQUEST_FAILED:return a.setIn([d.payload.trackId,"isRequestingUTCTiming"],!1);case p.UTCTIMING_REQUESTED:return g=d.payload.trackId,a.setIn([d.payload.trackId,"isRequestingUTCTiming"],!1);case p.SET_SERVER_TIME_OFFSET:return a.setIn([d.payload.trackId,"serverTimeOffset"],d.payload.serverTimeOffset);case p.SERVER_TIME_SYNC_COMPLETED:return a.setIn([d.payload.trackId,"waitingServerTimeSync"],!1);case p.UPDATE_TRACK:return g=d.payload.track.get("id"),a.set(g,
d.payload.track);case p.END_DYNAMIC_TRACK:return a.setIn([d.payload.trackId,"dynamicTrackEnded"],!0);case p.GET_FRAGMENT_START:case p.GET_FRAGMENT_SUCCEED:case p.BUFFER_APPENDING:case p.BUFFER_APPENDED:return e(a,d);case p.NETWORK_OFFLINE:return a.get("trackIds").forEach(function(b){a.hasIn([b,"bitrates"])&&(a=a.setIn([b,"bitrates"],a.getIn([b,"bitrates"]).map(function(a){a=a.has("fragments")?a.set("fragments",a.get("fragments").map(function(a){return a.set("isRequesting",!1)})):a;return a=a.has("initialization")?
a.setIn(["initialization","isRequesting"],!1):a})))}),a;default:return a}}},function(d,h,a){h.__esModule=!0;var g=(d=a(4))&&d.__esModule?d:{default:d};h.default=function(a,d,f){d in a?(0,g.default)(a,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[d]=f;return a}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(27))&&d.__esModule?d:{default:d},m=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&
(f[b]=a[b]);f.default=a;return f}(a(51));h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:g.default.Map(),f=arguments[1];switch(f.type){case m.GET_FRAGMENT_START:return a.set("isRequesting",!0);case m.GET_FRAGMENT_SUCCEED:return a.merge({isRequesting:!1,data:f.payload.data});case m.GET_FRAGMENT_FAILED:return a.set("isRequesting",!1);case m.BUFFER_APPENDING:return a.set("isBuffering",!0);case m.BUFFER_APPENDED:return a=a.merge({isBuffering:!1,endTime:f.payload.endTime,startTime:f.payload.startTime}),
f.payload.fragmentIndex!==n&&(a=a.set("data",null)),a;default:return a}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(112);var m=g(d);d=a(27);var e=g(d);d=a(110);var f=g(d),b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;return b}(a(51));h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:e.default.List(),
d=arguments[1];if(!d.payload)return a;var g=a.get(d.payload.fragmentIndex);switch(d.type){case b.INCREASE_DYNAMIC_TRACK_DURATION:return d=d.payload.newFragments.map(function(a){return e.default.fromJS(a)}),a.push.apply(a,(0,m.default)(d));case b.DECREASE_DYNAMIC_TRACK_DURATION:return a.splice(-d.payload.numOfFragsToBeRemoved);default:return a.set(d.payload.fragmentIndex,(0,f.default)(g,d))}}},function(d,h,a){h.__esModule=!0;var g=(d=a(113))&&d.__esModule?d:{default:d};h.default=function(a){if(Array.isArray(a)){for(var d=
0,f=Array(a.length);d<a.length;d++)f[d]=a[d];return f}return(0,g.default)(a)}},function(d,h,a){d.exports={"default":a(114),__esModule:!0}},function(d,h,a){a(56);a(115);d.exports=a(9).Array.from},function(d,h,a){var g=a(10);d=a(7);var m=a(84),e=a(94),f=a(95),b=a(74),p=a(116),v=a(96);d(d.S+d.F*!a(117)(function(a){Array.from(a)}),"Array",{from:function(a){var d=m(a),h="function"==typeof this?this:Array,B=arguments.length,A=1<B?arguments[1]:n,C=A!==n,u=0,z=v(d);C&&(A=g(A,2<B?arguments[2]:n,2));if(z==
n||h==Array&&f(z))for(B=b(d.length),h=new h(B);B>u;u++)p(h,u,C?A(d[u],u):d[u]);else for(d=z.call(d),h=new h;!(B=d.next()).done;u++)p(h,u,C?e(d,A,[B.value,u],!0):B.value);h.length=u;return h}})},function(d,h,a){var g=a(13),m=a(21);d.exports=function(a,f,b){f in a?g.f(a,f,m(0,b)):a[f]=b}},function(d,h,a){var g=a(82)("iterator"),m=!1;try{var e=[7][g]();e["return"]=function(){m=!0};Array.from(e,function(){throw 2;})}catch(f){}d.exports=function(a,f){if(!f&&!m)return!1;var d=!1;try{var e=[7],h=e[g]();
h.next=function(){return{done:d=!0}};e[g]=function(){return h};a(e)}catch(n){}return d}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});d=(d=a(27))&&d.__esModule?d:{default:d};var g=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(f[b]=a[b]);f.default=a;return f}(a(51)),m=d.default.Map({id:n,time:0,duration:n,stalled:!1,playing:!1,seeking:!0,paused:!0,ended:!1,volume:1,muted:!1,repeating:!1,bitrate:n,codecs:n,
started:!1});h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:m,f=arguments[1];if(!f)return a;switch(f.type){case g.PLAYBACK_SET:return a.merge({id:f.payload.trackId,bitrate:f.payload.bitrate,codecs:f.payload.codecs,time:f.payload.time,seeking:!0,started:!1});case g.PLAYBACK_PLAY:return a.merge({playing:!0,paused:!1,ended:!1});case g.PLAYBACK_PAUSE:return a.merge({playing:!1,paused:!0});case g.PLAYBACK_ENDED:return a.merge({playing:!1,paused:!0,ended:!0,started:!1});case g.PLAYBACK_STARTED:return a.merge({started:!0,
seeking:!1});case g.PLAYBACK_TOGGLE_MUTE:return a.set("muted",!a.get("muted"));case g.PLAYBACK_TOGGLE_REPEAT:return a.set("repeating",!a.get("repeating"));case g.PLAYBACK_SET_TIME:return a.set("time",f.payload.time);case g.PLAYBACK_SEEK_TO:return a.merge({time:f.payload.time,seeking:!0});case g.PLAYBACK_SET_BITRATE:case g.PLAYBACK_INCREASE_BITRATE:case g.PLAYBACK_DECREASE_BITRATE:return a.merge({bitrate:f.payload.bitrate,codecs:f.payload.codecs});case g.PLAYBACK_SET_DURATION:return a.set("duration",
f.payload.duration);case g.PLAYBACK_SET_VOLUME:return a.set("volume",f.payload.volume);case g.PLAYBACK_STALLED:return a.set("stalled",!0);case g.PLAYBACK_STALL_COMPLETED:return a.set("stalled",!1);case g.PLAYBACK_SEEK_COMPLETED:return a.merge({seeking:!1});case g.UPDATE_TRACK:var b=f.payload.track&&f.payload.track.get("id");return a.get("id")===b?a.merge({bitrate:f.payload.playback.bitrate,time:f.payload.playback.time}):a;case g.INCREASE_DYNAMIC_TRACK_DURATION:case g.DECREASE_DYNAMIC_TRACK_DURATION:return a.set("duration",
f.payload.availableDuration);default:return a}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(109);var m=g(d);d=a(120);var e=g(d);d=a(113);var f=g(d);d=a(27);var b=g(d),p=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;return b}(a(51));d=a(126);var v=g(d);d=a(127);var q=g(d);a=a(52);var r=g(a),E=b.default.Map({audioEl:n,lastBufferedIndex:n,
lastBufferedData:n,ranges:b.default.List(),mediaSource:v.default.initialMediaSource});h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:b.default.Map({_freeAudioEls:b.default.List((0,f.default)({length:r.default.initialConfig.cacheSize+1},q.default.makeAudio)),_limit:r.default.initialConfig.cacheSize+1,_usedCount:0}),d=arguments[1];if(!d)return a;var g=void 0;switch(d.type){case p.ADD_TRACK:return a.get(d.payload.track.id)?a:a.set(d.payload.track.id,E).updateIn([d.payload.track.id,
"audioEl"],function(){return(0,e.default)(a.get("_freeAudioEls").last(),{id:d.payload.track.id})}).update("_freeAudioEls",function(a){return a.pop()}).update("_usedCount",function(a){return a+1});case p.REMOVE_TRACK:return a.get(d.payload.trackId)?a.update("_freeAudioEls",function(b){if(a.get("_usedCount")-1+b.size<a.get("_limit")){var f=a.getIn([d.payload.trackId,"audioEl"]);return b.push(q.default.reset(f))}return b}).remove(d.payload.trackId).update("_usedCount",function(a){return a-1}):a;case p.BUFFER_APPENDED:g=
d.payload.trackId,a=a.mergeDeep((0,m.default)({},g,{lastBufferedData:d.payload.fragment.get("data"),lastBufferedIndex:d.payload.fragment.get("index")}));case p.BUFFER_APPENDING:case p.MEDIA_SOURCE_OPENED:case p.MEDIA_SOURCE_CLOSED:case p.MEDIA_SOURCE_ENDED:return a.has(d.payload.trackId)?a.setIn([d.payload.trackId,"mediaSource"],v.default.mediaSource(a.getIn([d.payload.trackId,"mediaSource"]),d)):a;case p.PLAYBACK_SEEK_TO:case p.PLAYBACK_DECREASE_BITRATE:case p.PLAYBACK_INCREASE_BITRATE:return a.setIn([d.payload.trackId,
"lastBufferedIndex"],n);case p.BUFFER_RANGES_UPDATED:return a.setIn([d.payload.trackId,"ranges"],b.default.fromJS(d.payload.ranges));case p.RESET_TRACK:return a.setIn([d.payload.track.get("id"),"lastBufferedIndex"],n);case p.UPDATE_TRACK:return g=d.payload.track.get("id"),a.mergeDeep((0,m.default)({},g,{lastBufferedIndex:n,lastBufferedData:n}));case p.UPDATE_CONFIG:if(d.payload.config.hasOwnProperty("cacheSize")){var g=d.payload.config.cacheSize+1,h=a.get("_limit");if(g>h){for(var z=a.get("_freeAudioEls"),
H=0;H<g-h;++H)z=z.push(q.default.makeAudio());return a.set("_freeAudioEls",z).set("_limit",g)}return a.set("_limit",g)}default:return a}}},function(d,h,a){d.exports={"default":a(121),__esModule:!0}},function(d,h,a){a(122);d.exports=a(9).Object.assign},function(d,h,a){d=a(7);d(d.S+d.F,"Object",{assign:a(123)})},function(d,h,a){var g=a(68),m=a(124),e=a(125),f=a(84),b=a(71),p=Object.assign;d.exports=!p||a(18)(function(){var a={},b={},f=Symbol();a[f]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=
a});return 7!=p({},a)[f]||"abcdefghijklmnopqrst"!=Object.keys(p({},b)).join("")})?function(a,d){for(var h=f(a),p=arguments.length,n=1,A=m.f,C=e.f;p>n;)for(var u=b(arguments[n++]),z=A?g(u).concat(A(u)):g(u),H=z.length,x=0,I;H>x;)C.call(u,I=z[x++])&&(h[I]=u[I]);return h}:p},function(d,h){h.f=Object.getOwnPropertySymbols},function(d,h){h.f={}.propertyIsEnumerable},function(d,h,a){function g(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:e,f=arguments[1];if(!f)return a;switch(f.type){case m.BUFFER_APPENDING:return a.set("updating",
!0);case m.BUFFER_APPENDED:return a.set("updating",!1);default:return a}}Object.defineProperty(h,"__esModule",{value:!0});d=(d=a(27))&&d.__esModule?d:{default:d};var m=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(f[d]=a[d]);f.default=a;return f}(a(51)),e=d.default.Map({updating:!1}),f=d.default.Map({readyState:"closed",sourceBuffer:e});h.default={mediaSource:function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:
f,d=arguments[1];if(!d)return a;switch(d.type){case m.MEDIA_SOURCE_OPENED:return a.set("readyState","open");case m.MEDIA_SOURCE_CLOSED:return a.set("readyState","closed");case m.MEDIA_SOURCE_ENDED:return a.set("readyState","ended");case m.BUFFER_APPENDING:case m.BUFFER_APPENDED:case m.BUFFER_UPDATE:return a.set("sourceBuffer",g(a.get("sourceBuffer"),d));default:return a}},initialMediaSource:f}},function(d,h){(function(a){Object.defineProperty(h,"__esModule",{value:!0});h.default={makeAudio:function(){var d=
new Audio,h=a.MediaSource&&new MediaSource;d.src=!!h&&a.URL&&"function"===typeof URL.createObjectURL&&URL.createObjectURL(h);d._mediaSource=h;return d},reset:function(d){d.src=!!d._mediaSource&&a.URL&&"function"===typeof URL.createObjectURL&&URL.createObjectURL(d._mediaSource);return d}}}).call(h,function(){return this}())},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(27))&&d.__esModule?d:{default:d},m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,
d)&&(b[d]=a[d]);b.default=a;return b}(a(51)),e=g.default.Map({count:0,list:g.default.List()});h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:e,b=arguments[1];if(!b)return a;switch(b.type){case m.ERROR:return a.set("count",a.get("count")+1).set("list",a.get("list").push(g.default.fromJS(b.payload)).slice(-10));default:return a}}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});d=(d=a(27))&&d.__esModule?d:{default:d};var g=function(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(51)),m=(a=a(130))&&a.__esModule?a:{default:a},e=d.default.Map({online:!0,lastRequest:null,currentTrack:m.default.initializeMetric(),session:m.default.initializeMetric()});h.default=function(){var a=0<arguments.length&&arguments[0]!==n?arguments[0]:e,b=arguments[1];if(!b)return a;switch(b.type){case g.NETWORK_ONLINE:return a.set("online",!0);case g.NETWORK_OFFLINE:return a.set("online",
!1);case g.GET_FRAGMENT_START:return a.updateIn(["session","requestsStarted"],function(a){return a+1}).updateIn(["currentTrack","requestsStarted"],function(a){return a+1});case g.GET_FRAGMENT_FAILED:return a.mergeDeep({lastRequest:b.payload.metrics.lastRequest,currentTrack:b.payload.metrics.currentTrack,session:b.payload.metrics.session});case g.GET_FRAGMENT_SUCCEED:return a.mergeDeep({lastRequest:b.payload.metrics.lastRequest,currentTrack:b.payload.metrics.currentTrack,session:b.payload.metrics.session});
case g.PLAYBACK_SET:return a.set("currentTrack",m.default.initializeMetric().set("id",b.payload.trackId));default:return a}}},function(d,h,a){(function(d){function m(a){return a&&a.__esModule?a:{default:a}}function e(a){if(200<=a.status&&300>a.status)return a;var b=Error(a.statusText);b.response=a;throw b;}function f(a){a=Math.floor(Math.random()*Math.pow(2,a))+1;return Math.round(100*a)}function b(a,b,f){return(a*b+f)/(b+1)}function p(a,b,f){return(a*b+f*f)/(b+1)}function v(a,f,d,e,g){var q=a.get("bytesTotal")+
d,h=b(a.get("bytesMean"),e,d);d=p(a.get("bytesMeanSquared"),e,d);var r=Math.sqrt(d-h*h),m=8*q/(g/1E3),v=b(a.get("latencyMean"),e,f);a=p(a.get("latencyMeanSquared"),e,f);f=Math.sqrt(a-v*v);return{bitrateMean:m,bytesTotal:q,bytesMean:h,bytesMeanSquared:d,bytesStDev:r,latencyMean:v,latencyMeanSquared:a,latencyStDev:f,requestTimeTotal:g}}Object.defineProperty(h,"__esModule",{value:!0});var q=a(131),r=m(q),q=a(120),n=m(q);a(133);var q=a(27),B=m(q),A=a(23);h.default={checkStatus:e,retryableRequestObservable:function(a,
b,q){return A.Observable.create(function(f){fetch(a).then(e).then(function(a){return a[b]()}).then(function(a){f.onNext(a);f.onCompleted()}).catch(function(a){return f.onError(a)})}).retryWhen(function(a){return a.scan(function(a,b){return{count:a.count+1,error:b}},{count:0}).flatMap(function(a){if(a.count>=q)throw a.error;a=f(a.count);return d.navigator.onLine?A.Observable.timer(a):A.Observable.fromEvent(d,"online").take(1)})})},initializeMetric:function(){return B.default.Map({bitrateMean:0,requestTimeTotal:0,
requestsStarted:0,requestsCompleted:0,requestsFailed:0,requestsSucceeded:0,bytesTotal:0,bytesMean:0,bytesMeanSquared:0,bytesStDev:0,latencyMean:0,latencyMeanSquared:0,latencyStDev:0,latencySucceedMean:0,latencySucceedMeanSquared:0,latencySucceedStDev:0,latencyFailMean:0,latencyFailMeanSquared:0,latencyFailStDev:0})},commonMetrics:v,succeedMetrics:function(a,f,d){var e=Date.now()-a;f=f.byteLength;var g=d.getIn(["network","currentTrack"]),q=g.get("requestTimeTotal")+e,h=g.get("requestsCompleted"),r=
g.get("requestsSucceeded"),m=b(g.get("latencySucceedMean"),r,e),B=p(g.get("latencySucceedMeanSquared"),r,e),A=Math.sqrt(B-m*m);d=d.getIn(["network","session"]);var T=d.get("requestTimeTotal")+e,W=d.get("requestsCompleted"),pa=d.get("requestsSucceeded"),R=b(d.get("latencySucceedMean"),pa,e),Y=p(d.get("latencySucceedMeanSquared"),pa,e),ba=Math.sqrt(Y-R*R);return{lastRequest:{bitrate:8*f/(e/1E3),latency:e,size:f,time:new Date(a)},currentTrack:(0,n.default)(v(g,e,f,h,q),{requestsSucceeded:r+1,requestsCompleted:h+
1,latencySucceedMean:m,latencySucceedMeanSquared:B,latencySucceedStDev:A}),session:(0,n.default)(v(d,e,f,W,T),{requestsSucceeded:pa+1,requestsCompleted:W+1,latencySucceedMean:R,latencySucceedMeanSquared:Y,latencySucceedStDev:ba})}},failMetrics:function(a,f,d){var e=Date.now()-a;f=f.response&&(0,r.default)(f.response).length;var g=d.getIn(["network","currentTrack"]),q=g.get("requestTimeTotal")+e,h=g.get("requestsCompleted"),m=g.get("requestsFailed"),F=b(g.get("latencyFailMean"),m,e),B=p(g.get("latencyFailMeanSquared"),
m,e),A=Math.sqrt(B-F*F);d=d.getIn(["network","session"]);var T=d.get("requestTimeTotal")+e,W=d.get("requestsCompleted"),pa=d.get("requestsFailed"),R=b(d.get("latencyFailMean"),pa,e),Y=p(d.get("latencyFailMeanSquared"),pa,e),ba=Math.sqrt(R-R*R);return{lastRequest:{bitrate:8*f/(e/1E3),latency:e,size:f,time:new Date(a)},currentTrack:(0,n.default)(v(g,e,f,h,q),{requestsFailed:m+1,requestsCompleted:h+1,latencyFailMean:F,latencyFailMeanSquared:B,latencyFailStDev:A}),session:(0,n.default)(v(d,e,f,W,T),{requestsFailed:pa+
1,requestsCompleted:W+1,latencyFailMean:R,latencyFailMeanSquared:Y,latencyFailStDev:ba})}},getWaitTime:f}}).call(h,function(){return this}())},function(d,h,a){d.exports={"default":a(132),__esModule:!0}},function(d,h,a){h=a(9);var g=h.JSON||(h.JSON={stringify:JSON.stringify});d.exports=function(a){return g.stringify.apply(g,arguments)}},function(d,h){(function(a){function d(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");
return a.toLowerCase()}function h(a){"string"!==typeof a&&(a=String(a));return a}function e(a){var b={next:function(){var b=a.shift();return{done:b===n,value:b}}};H.iterable&&(b[Symbol.iterator]=function(){return b});return b}function f(a){this.map={};a instanceof f?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function b(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function p(a){return new Promise(function(b,
f){a.onload=function(){b(a.result)};a.onerror=function(){f(a.error)}})}function v(a){var b=new FileReader;b.readAsArrayBuffer(a);return p(b)}function q(){this.bodyUsed=!1;this._initBody=function(a){this._bodyInit=a;if("string"===typeof a)this._bodyText=a;else if(H.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(H.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(H.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(!a)this._bodyText=
"";else if(!H.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw Error("unsupported BodyInit type");this.headers.get("content-type")||("string"===typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):H.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};H.blob?(this.blob=function(){var a=b(this);if(a)return a;
if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(v)},this.text=function(){var a=b(this);if(a)return a;if(this._bodyBlob){var a=this._bodyBlob,f=new FileReader;f.readAsText(a);return p(f)}if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=
b(this);return a?a:Promise.resolve(this._bodyText)};H.formData&&(this.formData=function(){return this.text().then(E)});this.json=function(){return this.text().then(JSON.parse)};return this}function r(a,b){b=b||{};var d=b.body;if(r.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url;this.credentials=a.credentials;b.headers||(this.headers=new f(a.headers));this.method=a.method;this.mode=a.mode;d||(d=a._bodyInit,a.bodyUsed=!0)}else this.url=a;this.credentials=
b.credentials||this.credentials||"omit";if(b.headers||!this.headers)this.headers=new f(b.headers);var e=b.method||this.method||"GET",g=e.toUpperCase();this.method=-1<x.indexOf(g)?g:e;this.mode=b.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}function E(a){var b=new FormData;a.trim().split("&").forEach(function(a){if(a){var f=a.split("=");a=f.shift().replace(/\+/g," ");f=f.join("=").replace(/\+/g,
" ");b.append(decodeURIComponent(a),decodeURIComponent(f))}});return b}function B(a){var b=new f;(a.getAllResponseHeaders()||"").trim().split("\n").forEach(function(a){var f=a.trim().split(":");a=f.shift().trim();f=f.join(":").trim();b.append(a,f)});return b}function A(a,b){b||(b={});this.type="default";this.status=b.status;this.ok=200<=this.status&&300>this.status;this.statusText=b.statusText;this.headers=b.headers instanceof f?b.headers:new f(b.headers);this.url=b.url||"";this._initBody(a)}if(!a.fetch){var C=
"Symbol"in a&&"iterator"in Symbol,u;if(u="FileReader"in a&&"Blob"in a)try{new Blob,u=!0}catch(z){u=!1}var H={searchParams:"URLSearchParams"in a,iterable:C,blob:u,formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};f.prototype.append=function(a,b){a=d(a);b=h(b);var f=this.map[a];f||(f=[],this.map[a]=f);f.push(b)};f.prototype["delete"]=function(a){delete this.map[d(a)]};f.prototype.get=function(a){return(a=this.map[d(a)])?a[0]:null};f.prototype.getAll=function(a){return this.map[d(a)]||[]};f.prototype.has=
function(a){return this.map.hasOwnProperty(d(a))};f.prototype.set=function(a,b){this.map[d(a)]=[h(b)]};f.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(f){this.map[f].forEach(function(d){a.call(b,d,f,this)},this)},this)};f.prototype.keys=function(){var a=[];this.forEach(function(b,f){a.push(f)});return e(a)};f.prototype.values=function(){var a=[];this.forEach(function(b){a.push(b)});return e(a)};f.prototype.entries=function(){var a=[];this.forEach(function(b,
f){a.push([f,b])});return e(a)};H.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var x="DELETE GET HEAD OPTIONS POST PUT".split(" ");r.prototype.clone=function(){return new r(this)};q.call(r.prototype);q.call(A.prototype);A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})};A.error=function(){var a=new A(null,{status:0,statusText:""});a.type="error";return a};var I=[301,302,303,307,308];A.redirect=
function(a,b){if(-1===I.indexOf(b))throw new RangeError("Invalid status code");return new A(null,{status:b,headers:{location:a}})};a.Headers=f;a.Request=r;a.Response=A;a.fetch=function(a,b){return new Promise(function(f,d){var e;e=r.prototype.isPrototypeOf(a)&&!b?a:new r(a,b);var g=new XMLHttpRequest;g.onload=function(){var a=g.status,b=g.statusText,d=B(g),e;e="responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0;f(new A("response"in
g?g.response:g.responseText,{status:a,statusText:b,headers:d,url:e}))};g.onerror=function(){d(new TypeError("Network request failed"))};g.ontimeout=function(){d(new TypeError("Network request failed"))};g.open(e.method,e.url,!0);"include"===e.credentials&&(g.withCredentials=!0);"responseType"in g&&H.blob&&(g.responseType="blob");e.headers.forEach(function(a,b){g.setRequestHeader(b,a)});g.send("undefined"===typeof e._bodyInit?null:e._bodyInit)})};a.fetch.polyfill=!0}})("undefined"!==typeof self?self:
this)},function(d,h,a){function g(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];f=[].concat(d)}function m(a){fetch("https://d747bocv3e.execute-api.us-east-1.amazonaws.com/prod/MaestroLogger",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"NjLAMhf6Gf4fE3dqSX8oe3QDyD9XBtxB7bBL7UnC"},body:a.map(e.default).join("\n")})}Object.defineProperty(h,"__esModule",{value:!0});var e=(d=a(131))&&d.__esModule?d:{default:d};a(133);var f=[];h.default={group:g,groupCollapsed:g,
groupEnd:function(){m(f);f=[]},log:function(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];if(f.length){var g;(g=f).push.apply(g,d)}else m([].concat(d))},noop:function(){}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});var m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;return b}(a(51));d=a(136);var e=g(d);d=a(141);
var f=g(d);a=a(147);var b=g(a);h.default={play:function(){return{type:m.PLAYBACK_PLAY}},set:function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:0;return function(f,d){var g=d(),h=g.getIn(["cache",a]),n=void 0,C=void 0;g.getIn(["playback","id"])===a?(n=g.getIn(["playback","bitrate"]),C=g.getIn(["playback","codecs"])):(n=e.default.getBitrate(h,g.get("config")),C=h.getIn(["bitrates",n,"codecs"]));f({type:m.PLAYBACK_SET,payload:{trackId:a,bitrate:n,codecs:C,time:b}})}},pause:function(){return{type:m.PLAYBACK_PAUSE}},
ended:function(){return{type:m.PLAYBACK_ENDED}},repeat:function(){return{type:m.PLAYBACK_TOGGLE_REPEAT}},started:function(){return{type:m.PLAYBACK_STARTED}},mute:function(){return{type:m.PLAYBACK_TOGGLE_MUTE}},setTime:function(){return{type:m.PLAYBACK_SET_TIME,payload:{time:0<arguments.length&&arguments[0]!==n?arguments[0]:0}}},seekTo:function(a){return function(d,g){var h=g(),n=h.getIn(["playback","time"]);if(b.default.isAboveSeekThreshold(a,n)){var n=!1,B=e.default.getCurrentTrack(h),A=B&&B.get("id");
if(B&&B.get("fragmented"))if(B=h.getIn(["media",A,"ranges"]),0===a){if(h=B.first())h=h.first(),1>h&&(a=h)}else h=h.getIn(["media",A,"ranges"]),f.default.getRange(h,a)||(n=!0);d({type:m.PLAYBACK_SEEK_TO,payload:{trackId:A,time:a,seekToUnbufferedPosition:n}})}}},setVolume:function(a){return{type:m.PLAYBACK_SET_VOLUME,payload:{volume:a}}},setDuration:function(a){return{type:m.PLAYBACK_SET_DURATION,payload:{duration:a}}},downgradeBitrate:function(){return function(a,b){var f=b(),d=e.default.getCurrentTrack(f),
g=f.get("config");d&&f.getIn(["playback","bitrate"])&&!(0<=g.get("audioQuality"))&&(g=d.get("bitrateList"),f=f.getIn(["playback","bitrate"]),f=g.get(g.indexOf(f)+1))&&(d=d.getIn(["bitrates",f,"codecs"]),a({type:m.PLAYBACK_SET_BITRATE,payload:{bitrate:f,codecs:d}}))}},isStalled:function(){return{type:m.PLAYBACK_STALLED}},stallCompleted:function(){return{type:m.PLAYBACK_STALL_COMPLETED}},seekCompleted:function(){return{type:m.PLAYBACK_SEEK_COMPLETED}},decreaseBitrate:function(){return function(a,b){var f=
b(),d=e.default.getCurrentTrack(f);if(d){var g=d.get("bitrateList"),f=f.getIn(["playback","bitrate"]);if(g=g.get(g.indexOf(f)+1))d=d.getIn(["bitrates",g,"codecs"]),a({type:m.PLAYBACK_DECREASE_BITRATE,payload:{bitrate:g,codecs:d}})}}},increaseBitrate:function(){return function(a,b){var f=b(),d=e.default.getCurrentTrack(f);if(d){var g=d.get("bitrateList"),f=f.getIn(["playback","bitrate"]);if(g=0<=g.indexOf(f)-1?g.get(g.indexOf(f)-1):null)d=d.getIn(["bitrates",g,"codecs"]),a({type:m.PLAYBACK_INCREASE_BITRATE,
payload:{bitrate:g,codecs:d}})}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(a,b){return b.getIn(["cache",a])}function e(a,b){return b.getIn(["media",a,"mediaSource","readyState"])}function f(a,b){return a.getIn(["bitrates",b,"fragments"])}function b(a,b,f){return isNaN(a)?0:-1===a?z.default.getRange(f,b)?1:0:z.default.getRange(f,a+.1)?1:0}function p(a,b){return Math.floor(b/a)-(2<arguments.length&&arguments[2]!==n?arguments[2]:0)}function v(a,b,f){return a.get(p(b,
f,3<arguments.length&&arguments[3]!==n?arguments[3]:0))}function q(a,f,d){return(a=a.slice(d,a.size).filter(function(a){return!b(a.get("startTime"),a.get("endTime"),f)}).first())&&a.get("data")?a:n}function r(a,b){if(a.get("fragmented")){var f=b.get("audioQuality"),d=a.get("bitrateList");return-1===f?d.first():d.get(f)||d.last()}}function E(a){var b=Date.now()/1E3,f;f=isNaN(a.get("serverTimeOffset"))?0:a.get("serverTimeOffset");f=a.get("availabilityStartTime")-f;b-=f;a=a.get("fragmentDuration")*a.get("startNumber");
return Math.max(0,H.default.floorDecimal(b+a,2))}function B(a){a=E(a)-a.get("suggestedPresentationDelay")-a.get("minBufferTime");return Math.max(0,H.default.floorDecimal(a,2))}Object.defineProperty(h,"__esModule",{value:!0});d=a(120);var A=g(d);d=a(137);var C=g(d);d=a(140);var u=g(d);d=a(141);var z=g(d);a=a(146);var H=g(a);h.default={getTrack:m,getCurrentTrack:function(a){return m(a.getIn(["playback","id"]),a)},isFullyBuffered:function(a,b){var f=b.getIn(["cache",a,"duration"]),d=b.getIn(["media",
a,"ranges"]);return z.default.getBufferedDuration(d)>=f-.01},getMediaReadyState:e,getCurrentMediaReadyState:function(a){return e(a.getIn(["playback","id"]),a)},getNextFragmentToFetch:function(a,d,e){var g=3<arguments.length&&arguments[3]!==n?arguments[3]:0,h=4<arguments.length&&arguments[4]!==n?arguments[4]:0,q=a.get("isDynamic")?B(a):g,g=a.get("fragmentDuration"),q=Math.floor(q/g)-a.get("fragmentIndexOffset"),h=Math.ceil(h/g);return f(a,d).slice(q,q+h).filter(function(a){return!b(a.get("startTime"),
a.get("endTime"),e)}).filter(function(a){return!a.get("isRequesting")&&!a.get("data")}).first()},getNextFragmentToAppend:function(a){var b=a.fragments,f=a.lastBufferedIndex,d=a.defaultStartIndex,d=d===n?0:d;a=a.fragmentIndexOffset;a=a===n?0:a;f===n&&(f=d-1);if((b=b.get(f+1-a))&&b.get("data"))return b},getCurrentNextFragmentToAppend:function(a){var b=void 0,f=a.time,b=a.ranges,d=a.fragments,e=a.fragmentDuration,g=a.lastBufferedIndex;a=a.fragmentIndexOffset;a=a===n?0:a;if(b&&0!==b.size)return f=z.default.getRange(b,
f)&&0<=g?g+1-a:p(e,f,a),q(d,b,f);if((b=v(d,e,f,a))&&b.get("data"))return b},getFragmentAtTime:v,getInitFragment:function(a,b){return a.getIn(["bitrates",b.toString(),"initialization"])},getFragmentsForBitrate:f,getMimeType:function(a,b){var f=a.getIn(["bitrates",b]);return f.get("mimeType")+';codecs="'+f.get("codecs")+'"'},getBitrate:r,getTrackBitrate:function(a,b){var f=b.getIn(["cache",a]);if(f&&f.get("fragmented")){var d=b.getIn(["playback","id"]);return a===d?b.getIn(["playback","bitrate"]):r(f,
b.get("config"))}},isRequestingAFragment:function(a,b){var d=!0,e=!1,g=n;try{for(var q=(0,C.default)(f(a,b)),h;!(d=(h=q.next()).done);d=!0)if(h.value.get("isRequesting"))return!0}catch(p){e=!0,g=p}finally{try{!d&&q.return&&q.return()}finally{if(e)throw g;}}return!1},isFragmentRequestable:function(a,f,d){if(!a)return!1;f=a.get("isRequesting");var e=!!a.get("data");a=b(a.get("startTime"),a.get("endTime"),d);return f||e||a?!1:!0},getDynamicTrackDuration:E,getDynamicTrackDurationWithOffset:B,getNewFragmentForDynamicTrack:function(a,
b,f){a=a.getIn(["bitrates",b,"urlTemplate"]);return{url:H.default.replaceTokenForTemplate(a,"Number",f),data:null,index:f,endTime:-1,startTime:-1,isRequesting:!1,isBuffering:!1}},getEMSGEvents:function(a,b){var f=a.get("inbandEventStreams"),d=u.default.parseBuffer(b).fetch("emsg"),e=[];f&&d&&function(){var a=d.scheme_id_uri;f.forEach(function(b){b=b.toJS();b.schemeIdUri===a&&(b=(0,A.default)({},b,{presentationTimeDelta:d.presentation_time_delta,schemeIdUri:a,messageData:d.message_data,value:d.value,
id:d.id}),e.push(b))})}();return e},isFragmentInBufferedRanges:b,getIndexForFragment:function(a,b){var f=b.get("index");return f===n?n:f-a.get("fragmentIndexOffset")},getFragmentStartTime:function(a){return(a=u.default.parseBuffer(a).fetch("sidx"))&&a.timescale?a.earliest_presentation_time/a.timescale:-1},getFragmentEndTime:function(a){return a&&0!==a.length?a[a.length-1][1]:-1}}},function(d,h,a){d.exports={"default":a(138),__esModule:!0}},function(d,h,a){a(85);a(56);d.exports=a(139)},function(d,
h,a){var g=a(14),m=a(96);d.exports=a(9).getIterator=function(a){var f=m(a);if("function"!=typeof f)throw TypeError(a+" is not iterable!");return g(f.call(a))}},function(d,h,a){var g={parseBuffer:function(a){return(new m(a)).parse()},addBoxProcessor:function(a,b){"string"===typeof a&&"function"===typeof b&&(e.prototype._boxProcessors[a]=b)},createFile:function(){return new m},createBox:function(a,b,d){a=e.create(a);b&&b.append(a,d);return a},createFullBox:function(a,b,d){a=g.createBox(a,b,d);a.version=
0;a.flags=0;return a},Utils:{}};g.Utils.dataViewToString=function(a,b){var d=b||"utf-8";if("undefined"!==typeof TextDecoder)return(new TextDecoder(d)).decode(a);var e=[],g=0;if("utf-8"===d)for(;g<a.byteLength;)d=a.getUint8(g++),128>d||(224>d?d=(d&31)<<6:(240>d?d=(d&15)<<12:(d=(d&7)<<18,d|=(a.getUint8(g++)&63)<<12),d|=(a.getUint8(g++)&63)<<6),d|=a.getUint8(g++)&63),e.push(String.fromCharCode(d));else for(;g<a.byteLength;)e.push(String.fromCharCode(a.getUint8(g++)));return e.join("")};g.Utils.utf8ToByteArray=
function(a){var b,d;if("undefined"!==typeof TextEncoder)b=(new TextEncoder).encode(a);else for(b=[],d=0;d<a.length;++d){var e=a.charCodeAt(d);128>e?b.push(e):(2048>e?b.push(192|e>>6):(65536>e?b.push(224|e>>12):(b.push(240|e>>18),b.push(128|63&e>>12)),b.push(128|63&e>>6)),b.push(128|63&e))}return b};g.Utils.appendBox=function(a,b,d){b._offset=a._cursor.offset;b._root=a._root?a._root:a;b._raw=a._raw;b._parent=a;if(-1!==d)if(d===n||null===d)a.boxes.push(b);else{var e=-1;if("number"===typeof d)e=d;else{if("string"!==
typeof d)if("object"===typeof d&&d.type)d=d.type;else{a.boxes.push(b);return}for(var g=0;g<a.boxes.length;g++)if(d===a.boxes[g].type){e=g+1;break}}a.boxes.splice(e,0,b)}};h.parseBuffer=g.parseBuffer;h.addBoxProcessor=g.addBoxProcessor;h.createFile=g.createFile;h.createBox=g.createBox;h.createFullBox=g.createFullBox;h.Utils=g.Utils;g.Cursor=function(a){this.offset="undefined"==typeof a?0:a};var m=function(a){this._cursor=new g.Cursor;this.boxes=[];a&&(this._raw=new DataView(a))};m.prototype.fetch=
function(a){a=this.fetchAll(a,!0);return a.length?a[0]:null};m.prototype.fetchAll=function(a,b){var d=[];m._sweep.call(this,a,d,b);return d};m.prototype.parse=function(){this._cursor.offset=0;for(this.boxes=[];this._cursor.offset<this._raw.byteLength;){var a=e.parse(this);if("undefined"===typeof a.type)break;this.boxes.push(a)}return this};m._sweep=function(a,b,d){this.type&&this.type==a&&b.push(this);for(var e in this.boxes){if(b.length&&d)break;m._sweep.call(this.boxes[e],a,b,d)}};m.prototype.write=
function(){var a=0,b;for(b=0;b<this.boxes.length;b++)a+=this.boxes[b].getLength(!1);a=new Uint8Array(a);this._rawo=new DataView(a.buffer);this.bytes=a;for(b=this._cursor.offset=0;b<this.boxes.length;b++)this.boxes[b].write();return a.buffer};m.prototype.append=function(a,b){g.Utils.appendBox(this,a,b)};var e=function(){this._cursor=new g.Cursor};e.parse=function(a){var b=new e;b._offset=a._cursor.offset;b._root=a._root?a._root:a;b._raw=a._raw;b._parent=a;b._parseBox();a._cursor.offset=b._raw.byteOffset+
b._raw.byteLength;return b};e.create=function(a){var b=new e;b.type=a;b.boxes=[];return b};e.prototype._boxContainers="dinf edts mdia meco mfra minf moof moov mvex stbl strk traf trak tref udta vttc sinf schi encv enca".split(" ");e.prototype._boxProcessors={};e.prototype._procField=function(a,b,d){this._parsing?this[a]=this._readField(b,d):this._writeField(b,d,this[a])};e.prototype._procFieldArray=function(a,b,d,e){var g;if(this._parsing)for(this[a]=[],g=0;g<b;g++)this[a][g]=this._readField(d,e);
else for(g=0;g<this[a].length;g++)this._writeField(d,e,this[a][g])};e.prototype._procFullBox=function(){this._procField("version","uint",8);this._procField("flags","uint",24)};e.prototype._procEntries=function(a,b,d){var e;if(this._parsing)for(this[a]=[],e=0;e<b;e++)this[a].push({}),d.call(this,this[a][e]);else for(e=0;e<b;e++)d.call(this,this[a][e])};e.prototype._procSubEntries=function(a,b,d,e){var g;if(this._parsing)for(a[b]=[],g=0;g<d;g++)a[b].push({}),e.call(this,a[b][g]);else for(g=0;g<d;g++)e.call(this,
a[b][g])};e.prototype._procEntryField=function(a,b,d,e){this._parsing?a[b]=this._readField(d,e):this._writeField(d,e,a[b])};e.prototype._procSubBoxes=function(a,b){var d;if(this._parsing)for(this[a]=[],d=0;d<b;d++)this[a].push(e.parse(this));else for(d=0;d<b;d++)this._rawo?this[a][d].write():this.size+=this[a][d].getLength()};e.prototype._readField=function(a,b){switch(a){case "uint":return this._readUint(b);case "int":return this._readInt(b);case "template":return this._readTemplate(b);case "string":return-1===
b?this._readTerminatedString():this._readString(b);case "data":return this._readData(b);case "utf8":return this._readUTF8String();default:return-1}};e.prototype._readInt=function(a){var b=null,d=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:b=this._raw.getInt8(d);break;case 16:b=this._raw.getInt16(d);break;case 32:b=this._raw.getInt32(d);break;case 64:b=this._raw.getInt32(d),d=this._raw.getInt32(d+4),b=b*Math.pow(2,32)+d}this._cursor.offset+=a>>3;return b};e.prototype._readUint=function(a){var b=
null,d=this._cursor.offset-this._raw.byteOffset;switch(a){case 8:b=this._raw.getUint8(d);break;case 16:b=this._raw.getUint16(d);break;case 24:b=this._raw.getUint16(d);d=this._raw.getUint8(d+2);b=(b<<8)+d;break;case 32:b=this._raw.getUint32(d);break;case 64:b=this._raw.getUint32(d),d=this._raw.getUint32(d+4),b=b*Math.pow(2,32)+d}this._cursor.offset+=a>>3;return b};e.prototype._readString=function(a){for(var b="",d=0;d<a;d++)var e=this._readUint(8),b=b+String.fromCharCode(e);return b};e.prototype._readTemplate=
function(a){var b=this._readUint(a/2),d=this._readUint(a/2);return b+d/Math.pow(2,a/2)};e.prototype._readTerminatedString=function(){for(var a="";this._cursor.offset-this._offset<this._raw.byteLength;){var b=this._readUint(8);if(0===b)break;a+=String.fromCharCode(b)}return a};e.prototype._readData=function(a){a=0<a?a:this._raw.byteLength-(this._cursor.offset-this._offset);var b=new DataView(this._raw.buffer,this._cursor.offset,a);this._cursor.offset+=a;return b};e.prototype._readUTF8String=function(){var a=
this._readData();return g.Utils.dataViewToString(a)};e.prototype._parseBox=function(){this._parsing=!0;this._cursor.offset=this._offset;if(this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{this._procField("size","uint",32);this._procField("type","string",4);1===this.size&&this._procField("largesize","uint",64);"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8);switch(this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+
8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():
this._data=this._readData())}};e.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};e.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(e.parse(this))};e.prototype.append=function(a,b){g.Utils.appendBox(this,a,b)};e.prototype.getLength=function(){this._parsing=!1;this._rawo=null;this.size=0;this._procField("size","uint",32);this._procField("type","string",4);1===this.size&&
this._procField("largesize","uint",64);"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8);this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this);if(-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.size+=this.boxes[a].getLength();this._data&&this._writeData(this._data);return this.size};e.prototype.write=function(){this._parsing=!1;this._cursor.offset=this._parent._cursor.offset;switch(this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,
this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}this._procField("size","uint",32);this._procField("type","string",4);1===this.size&&this._procField("largesize","uint",64);"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8);this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this);
if(-1!==this._boxContainers.indexOf(this.type))for(var a=0;a<this.boxes.length;a++)this.boxes[a].write();this._data&&this._writeData(this._data);this._parent._cursor.offset+=this.size;return this.size};e.prototype._writeInt=function(a,b){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;switch(a){case 8:this._rawo.setInt8(d,b);break;case 16:this._rawo.setInt16(d,b);break;case 32:this._rawo.setInt32(d,b);break;case 64:var e=Math.floor(b/Math.pow(2,32)),g=b-e*Math.pow(2,32);this._rawo.setUint32(d,
e);this._rawo.setUint32(d+4,g)}this._cursor.offset+=a>>3}else this.size+=a>>3};e.prototype._writeUint=function(a,b){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset,e,g;switch(a){case 8:this._rawo.setUint8(d,b);break;case 16:this._rawo.setUint16(d,b);break;case 24:g=b&255;this._rawo.setUint16(d,(b&16776960)>>8);this._rawo.setUint8(d+2,g);break;case 32:this._rawo.setUint32(d,b);break;case 64:e=Math.floor(b/Math.pow(2,32)),g=b-e*Math.pow(2,32),this._rawo.setUint32(d,e),this._rawo.setUint32(d+
4,g)}this._cursor.offset+=a>>3}else this.size+=a>>3};e.prototype._writeString=function(a,b){for(var d=0;d<a;d++)this._writeUint(8,b.charCodeAt(d))};e.prototype._writeTerminatedString=function(a){if(0!==a.length){for(var b=0;b<a.length;b++)this._writeUint(8,a.charCodeAt(b));this._writeUint(8,0)}};e.prototype._writeTemplate=function(a,b){var d=Math.floor(b),e=(b-d)*Math.pow(2,a/2);this._writeUint(a/2,d);this._writeUint(a/2,e)};e.prototype._writeData=function(a){a instanceof Array&&(a=new DataView(Uint8Array.from(a).buffer));
a instanceof Uint8Array&&(a=new DataView(a.buffer));if(this._rawo){for(var b=this._cursor.offset-this._rawo.byteOffset,d=0;d<a.byteLength;d++)this._rawo.setUint8(b+d,a.getUint8(d));this._cursor.offset+=a.byteLength}else this.size+=a.byteLength};e.prototype._writeUTF8String=function(a){a=g.Utils.utf8ToByteArray(a);if(this._rawo)for(var b=new DataView(this._rawo.buffer,this._cursor.offset,a.length),d=0;d<a.length;d++)b.setUint8(d,a[d]);else this.size+=a.length};e.prototype._writeField=function(a,b,
d){switch(a){case "uint":this._writeUint(b,d);break;case "int":this._writeInt(b,d);break;case "template":this._writeTemplate(b,d);break;case "string":-1==b?this._writeTerminatedString(d):this._writeString(b,d);break;case "data":this._writeData(d);break;case "utf8":this._writeUTF8String(d)}};e.prototype._boxProcessors.avc1=e.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procField("pre_defined1","uint",16);
this._procField("reserved2","uint",16);this._procFieldArray("pre_defined2",3,"uint",32);this._procField("width","uint",16);this._procField("height","uint",16);this._procField("horizresolution","template",32);this._procField("vertresolution","template",32);this._procField("reserved3","uint",32);this._procField("frame_count","uint",16);this._procFieldArray("compressorname",32,"uint",8);this._procField("depth","uint",16);this._procField("pre_defined3","int",16);this._procField("config","data",-1)};e.prototype._boxProcessors.dref=
function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};e.prototype._boxProcessors.elst=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(a){this._procEntryField(a,"segment_duration","uint",1===this.version?64:32);this._procEntryField(a,"media_time","int",1===this.version?64:32);this._procEntryField(a,"media_rate_integer","int",16);this._procEntryField(a,"media_rate_fraction",
"int",16)})};e.prototype._boxProcessors.emsg=function(){this._procFullBox();this._procField("scheme_id_uri","string",-1);this._procField("value","string",-1);this._procField("timescale","uint",32);this._procField("presentation_time_delta","uint",32);this._procField("event_duration","uint",32);this._procField("id","uint",32);this._procField("message_data","data",-1)};e.prototype._boxProcessors.free=e.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)};e.prototype._boxProcessors.frma=
function(){this._procField("data_format","uint",32)};e.prototype._boxProcessors.ftyp=e.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4);this._procField("minor_version","uint",32);var a=-1;this._parsing&&(a=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4);this._procFieldArray("compatible_brands",a,"string",4)};e.prototype._boxProcessors.hdlr=function(){this._procFullBox();this._procField("pre_defined","uint",32);this._procField("handler_type","string",
4);this._procFieldArray("reserved",3,"uint",32);this._procField("name","string",-1)};e.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)};e.prototype._boxProcessors.mdhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._parsing||"string"!==typeof this.language||(this.language=
this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96);this._procField("language","uint",16);this._parsing&&(this.language=String.fromCharCode((this.language>>10&31)+96,(this.language>>5&31)+96,(this.language&31)+96));this._procField("pre_defined","uint",16)};e.prototype._boxProcessors.mehd=function(){this._procFullBox();this._procField("fragment_duration","uint",1==this.version?64:32)};e.prototype._boxProcessors.mfhd=function(){this._procFullBox();this._procField("sequence_number",
"uint",32)};e.prototype._boxProcessors.mfro=function(){this._procFullBox();this._procField("mfra_size","uint",32)};e.prototype._boxProcessors.mp4a=e.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procField("channelcount","uint",16);this._procField("samplesize","uint",16);this._procField("pre_defined","uint",16);this._procField("reserved3","uint",16);this._procField("samplerate",
"template",32);this._procField("esds","data",-1)};e.prototype._boxProcessors.mvhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procField("rate","template",32);this._procField("volume","template",16);this._procField("reserved1","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procFieldArray("matrix",
9,"template",32);this._procFieldArray("pre_defined",6,"uint",32);this._procField("next_track_ID","uint",32)};e.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")};e.prototype._boxProcessors.pssh=function(){this._procFullBox();this._procFieldArray("SystemID",16,"uint",8);this._procField("DataSize","uint",32);this._procFieldArray("Data",this.DataSize,"uint",8)};e.prototype._boxProcessors.schm=function(){this._procFullBox();this._procField("scheme_type","uint",32);this._procField("scheme_version",
"uint",32);this.flags&1&&this._procField("scheme_uri","string",-1)};e.prototype._boxProcessors.sdtp=function(){this._procFullBox();var a=-1;this._parsing&&(a=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset));this._procFieldArray("sample_dependency_table",a,"uint",8)};e.prototype._boxProcessors.sidx=function(){this._procFullBox();this._procField("reference_ID","uint",32);this._procField("timescale","uint",32);this._procField("earliest_presentation_time","uint",1==this.version?64:32);
this._procField("first_offset","uint",1==this.version?64:32);this._procField("reserved","uint",16);this._procField("reference_count","uint",16);this._procEntries("references",this.reference_count,function(a){this._parsing||(a.reference=(a.reference_type&1)<<31,a.reference|=a.referenced_size&2147483647,a.sap=(a.starts_with_SAP&1)<<31,a.sap|=(a.SAP_type&3)<<28,a.sap|=a.SAP_delta_time&268435455);this._procEntryField(a,"reference","uint",32);this._procEntryField(a,"subsegment_duration","uint",32);this._procEntryField(a,
"sap","uint",32);this._parsing&&(a.reference_type=a.reference>>31&1,a.referenced_size=a.reference&2147483647,a.starts_with_SAP=a.sap>>31&1,a.SAP_type=a.sap>>28&7,a.SAP_delta_time=a.sap&268435455)})};e.prototype._boxProcessors.smhd=function(){this._procFullBox();this._procField("balance","uint",16);this._procField("reserved","uint",16)};e.prototype._boxProcessors.ssix=function(){this._procFullBox();this._procField("subsegment_count","uint",32);this._procEntries("subsegments",this.subsegment_count,
function(a){this._procEntryField(a,"ranges_count","uint",32);this._procSubEntries(a,"ranges",a.ranges_count,function(a){this._procEntryField(a,"level","uint",8);this._procEntryField(a,"range_size","uint",24)})})};e.prototype._boxProcessors.stsd=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};e.prototype._boxProcessors.subs=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,
function(a){this._procEntryField(a,"sample_delta","uint",32);this._procEntryField(a,"subsample_count","uint",16);this._procSubEntries(a,"subsamples",a.subsample_count,function(a){this._procEntryField(a,"subsample_size","uint",1===this.version?32:16);this._procEntryField(a,"subsample_priority","uint",8);this._procEntryField(a,"discardable","uint",8);this._procEntryField(a,"codec_specific_parameters","uint",32)})})};e.prototype._boxProcessors.tenc=function(){this._procFullBox();this._procField("default_IsEncrypted",
"uint",24);this._procField("default_IV_size","uint",8);this._procFieldArray("default_KID",16,"uint",8)};e.prototype._boxProcessors.tfdt=function(){this._procFullBox();this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)};e.prototype._boxProcessors.tfhd=function(){this._procFullBox();this._procField("track_ID","uint",32);this.flags&1&&this._procField("base_data_offset","uint",64);this.flags&2&&this._procField("sample_description_offset","uint",32);this.flags&8&&this._procField("default_sample_duration",
"uint",32);this.flags&16&&this._procField("default_sample_size","uint",32);this.flags&32&&this._procField("default_sample_flags","uint",32)};e.prototype._boxProcessors.tfra=function(){this._procFullBox();this._procField("track_ID","uint",32);this._parsing||(this.reserved=0,this.reserved|=(this.length_size_of_traf_num&48)<<4,this.reserved|=(this.length_size_of_trun_num&12)<<2,this.reserved|=this.length_size_of_sample_num&3);this._procField("reserved","uint",32);this._parsing&&(this.length_size_of_traf_num=
(this.reserved&48)>>4,this.length_size_of_trun_num=(this.reserved&12)>>2,this.length_size_of_sample_num=this.reserved&3);this._procField("number_of_entry","uint",32);this._procEntries("entries",this.number_of_entry,function(a){this._procEntryField(a,"time","uint",1===this.version?64:32);this._procEntryField(a,"moof_offset","uint",1===this.version?64:32);this._procEntryField(a,"traf_number","uint",8*(this.length_size_of_traf_num+1));this._procEntryField(a,"trun_number","uint",8*(this.length_size_of_trun_num+
1));this._procEntryField(a,"sample_number","uint",8*(this.length_size_of_sample_num+1))})};e.prototype._boxProcessors.tkhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("track_ID","uint",32);this._procField("reserved1","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procFieldArray("reserved2",2,"uint",32);this._procField("layer","uint",16);this._procField("alternate_group",
"uint",16);this._procField("volume","template",16);this._procField("reserved3","uint",16);this._procFieldArray("matrix",9,"template",32);this._procField("width","template",32);this._procField("height","template",32)};e.prototype._boxProcessors.trex=function(){this._procFullBox();this._procField("track_ID","uint",32);this._procField("default_sample_description_index","uint",32);this._procField("default_sample_duration","uint",32);this._procField("default_sample_size","uint",32);this._procField("default_sample_flags",
"uint",32)};e.prototype._boxProcessors.trun=function(){this._procFullBox();this._procField("sample_count","uint",32);this.flags&1&&this._procField("data_offset","int",32);this.flags&4&&this._procField("first_sample_flags","uint",32);this._procEntries("samples",this.sample_count,function(a){this.flags&256&&this._procEntryField(a,"sample_duration","uint",32);this.flags&512&&this._procEntryField(a,"sample_size","uint",32);this.flags&1024&&this._procEntryField(a,"sample_flags","uint",32);this.flags&2048&&
this._procEntryField(a,"sample_composition_time_offset",1===this.version?"int":"uint",32)})};e.prototype._boxProcessors["url "]=e.prototype._boxProcessors["urn "]=function(){this._procFullBox();"urn "===this.type&&this._procField("name","string",-1);this._procField("location","string",-1)};e.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")};e.prototype._boxProcessors.vmhd=function(){this._procFullBox();this._procField("graphicsmode","uint",16);this._procFieldArray("opcolor",
3,"uint",16)};e.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")};e.prototype._boxProcessors.vtte=function(){}},function(d,h,a){function g(a,d){if(!a)return n;for(var b=0;b<a.size;b++){var g=a.get(b),h=g.get(0),q=g.get(1);if(d>=h&&d<=q)return g}return n}Object.defineProperty(h,"__esModule",{value:!0});var m=(d=a(142))&&d.__esModule?d:{default:d};h.default={bufferToRanges:function(a){try{for(var d=a.buffered.length,b=[],g=0;g<d;g++){var h=a.buffered.start(g),q=a.buffered.end(g);
b.push([h,q])}return b}catch(r){return[]}},getRange:g,bufferedAheadOf:function(a,d){var b=g(a,d);return b?b.get(1)-d:d},bufferedBehindBy:function(a,d){if(0===a.size)return 0;var b=0;a.forEach(function(a){a.get(0)<d&&(b+=Math.min(d,a.get(1))-a.get(0))});return b},getBufferedDuration:function(a){return a.reduce(function(a,b){var d=(0,m.default)(b,2);return d[1]-d[0]+a},0)}}},function(d,h,a){h.__esModule=!0;var g=(d=a(143))&&d.__esModule?d:{default:d},m=(a=a(137))&&a.__esModule?a:{default:a};h.default=
function(){return function(a,d){if(Array.isArray(a))return a;if((0,g.default)(Object(a))){var b=[],h=!0,v=!1,q=n;try{for(var r=(0,m.default)(a),E;!(h=(E=r.next()).done)&&(b.push(E.value),!d||b.length!==d);h=!0);}catch(B){v=!0,q=B}finally{try{if(!h&&r["return"])r["return"]()}finally{if(v)throw q;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},function(d,h,a){d.exports={"default":a(144),__esModule:!0}},function(d,h,a){a(85);a(56);d.exports=a(145)},function(d,
h,a){var g=a(97),m=a(82)("iterator"),e=a(64);d.exports=a(9).isIterable=function(a){a=Object(a);return a[m]!==n||"@@iterator"in a||e.hasOwnProperty(g(a))}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default={replaceTokenForTemplate:function(a,d,h){return a.replace(new RegExp("\\$"+d+"\\$","g"),h)},floorDecimal:function(a,d){return Number(Math.floor(a+"e"+d)+"e-"+d)}}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default={isAboveSeekThreshold:function(a,d){return a<
d-1||a>d+1}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(a){return a.map(function(a){return{data:null,url:a.sourceURL,isRequesting:!1,isBuffering:!1}})}function e(a){var b={id:a.id,url:a.url,duration:C.default.floorDecimal(a.duration,2),extension:a.extension||a.url.split(".").pop().split(/\W+/).shift(),fragmented:!1,expireAt:a.expiration,addedAt:Date.now()};"mpd"===b.extension&&(b.manifest=a.manifest,f(b));return b}function f(a){if(a.manifest){var b=void 0;try{b=
B.default.parse(a.manifest)}catch(d){}finally{var f=function(){if(!b)return{v:void 0};var d=b.MPD,f=d.representations,e=f.map(function(a){return a.bandwidth.toString()}),g=A.default.representationsToFragments(f),h=m(f),r=f[0],p=d.UTCTiming,u=r.isDynamic,I=u&&p&&0<p.length;(0,q.default)(a,{waitingServerTimeSync:I,UTCTiming:p,isDynamic:u,suggestedPresentationDelay:r.suggestedPresentationDelay,numOfAvailableSegments:r.numOfAvailableSegments,availabilityStartTime:r.availabilityStartTime,presentationTimeOffset:r.presentationTimeOffset||
0,isRequestingManifest:!1,fragmentIndexOffset:r.fragmentIndexOffset||0,durationWithOffset:r.durationWithOffset,inbandEventStreams:d.inbandEventStreams,dynamicTrackEnded:u?!1:n,fragmentDuration:r.fragmentDuration,minBufferTime:r.minBufferTime,startNumber:r.startNumber||0,bitrateList:e,fragmented:!0,duration:r.duration,type:r.type,bitrates:e.reduce(function(a,b){var d=e.indexOf(b);a[b]={needsInitFragment:h[d]?!0:!1,initialization:h[d],urlTemplate:f[d].url,fragments:g[d],mimeType:f[d].mimeType,codecs:f[d].codecs};
return a},{})})}();if("object"===("undefined"===typeof f?"undefined":(0,v.default)(f)))return f.v}}}function b(a,b){b.manifest=a.get("manifest");var d=e(b);d.waitingServerTimeSync=a.get("waitingServerTimeSync");a=a.merge(d);a.get("bitrateList").forEach(function(b){a=a.setIn(["bitrates",b,"needsInitFragment"],!1)});return a}function p(a,b){b.manifest=b.manifest||a.get("manifest");var d=e(b);a.get("bitrateList").forEach(function(b){var f=["bitrates",b,"fragments"];a=a.setIn(["bitrates",b,"initialization",
"url"],d.bitrates[b].initialization.url).setIn(f,a.getIn(f).map(function(a){return a.set("url",d.bitrates[b].fragments[a.get("index")].url)})).set("expireAt",d.expireAt).set("addedAt",Date.now())});return a}Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var v=g(d);d=a(120);var q=g(d);d=a(27);var r=g(d),E=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(51));d=a(164);var B=g(d);d=a(166);
var A=g(d);d=a(146);var C=g(d);a=a(136);var u=g(a);h.default={add:function(a){return function(d,f){var g=f().getIn(["cache",a.id]);if(g){var h;var q=f();h=q.getIn(["cache",a.id]);if(h.get("fragmented"))h=h.get("isDynamic")?b(h,a):p(h,a);else{var r=h.get("url")!==a.url,q=u.default.isFullyBuffered(a.id,q);r&&!q&&(r={},a.url&&(r.url=a.url,r.expireAt=a.expiration||h.get("expireAt")),h=h.merge(r))}h!==g&&d({type:E.REPLACE_TRACK,payload:{track:h}})}else d({type:E.ADD_TRACK,payload:{track:e(a)}})}},reset:function(a){return function(b,
d){var f=d().getIn(["cache",a]);f&&f.get("fragmented")&&(f.get("bitrateList").forEach(function(a){f=f.setIn(["bitrates",a,"needsInitFragment"],!0).setIn(["bitrates",a,"initialization","isBuffering"],!1).setIn(["bitrates",a,"fragments"],f.getIn(["bitrates",a,"fragments"]).map(function(a){return a.set("isBuffering",!1)}))}),b({type:E.RESET_TRACK,payload:{track:f}}))}},update:function(a){return function(b,d){if(r.default.Iterable.isIterable(a)){var f=d();a=a.toJS();a=e(a);a=r.default.fromJS(a);var g=
u.default.getDynamicTrackDurationWithOffset(a),f={bitrate:u.default.getBitrate(a,f.get("config")),time:a.get("isDynamic")?g:f.getIn(["playback","time"])};b({type:E.UPDATE_TRACK,payload:{track:a,playback:f}})}}},remove:function(a){return{type:E.REMOVE_TRACK,payload:{trackId:a}}},serverTimeSyncCompleted:function(a){return{type:E.SERVER_TIME_SYNC_COMPLETED,payload:{trackId:a}}},checkAndUpdateDynamicTrack:function(a){return function(b,d){var f=a.get("id"),e=u.default.getDynamicTrackDuration(a),g=u.default.getDynamicTrackDurationWithOffset(a),
h=a.get("numOfAvailableSegments"),q=Math.floor(e/a.get("fragmentDuration"));q>h?function(){var d={};a.get("bitrateList").forEach(function(b){for(var f=h,e=[];f<q;)e.push(u.default.getNewFragmentForDynamicTrack(a,b,f)),f++;d[b]=e});b({type:E.INCREASE_DYNAMIC_TRACK_DURATION,payload:{trackId:f,availableDuration:e,availableDurationWithOffset:g,newNumOfAvailableSegments:q,newFragmentsForBitrate:d}})}():q<h&&b({type:E.DECREASE_DYNAMIC_TRACK_DURATION,payload:{trackId:f,availableDuration:e,availableDurationWithOffset:g,
newNumOfAvailableSegments:q,numOfFragsToBeRemoved:h-q}})}}}},function(d,h,a){h.__esModule=!0;d=(d=a(150))&&d.__esModule?d:{default:d};var g=(a=a(153))&&a.__esModule?a:{default:a},m="function"===typeof g.default&&"symbol"===typeof d.default?function(a){return typeof a}:function(a){return a&&"function"===typeof g.default&&a.constructor===g.default&&a!==g.default.prototype?"symbol":typeof a};h.default="function"===typeof g.default&&"symbol"===m(d.default)?function(a){return"undefined"===typeof a?"undefined":
m(a)}:function(a){return a&&"function"===typeof g.default&&a.constructor===g.default&&a!==g.default.prototype?"symbol":"undefined"===typeof a?"undefined":m(a)}},function(d,h,a){d.exports={"default":a(151),__esModule:!0}},function(d,h,a){a(56);a(85);d.exports=a(152).f("iterator")},function(d,h,a){h.f=a(82)},function(d,h,a){d.exports={"default":a(154),__esModule:!0}},function(d,h,a){a(155);a(55);a(162);a(163);d.exports=a(9).Symbol},function(d,h,a){d=a(8);var g=a(63),m=a(17);h=a(7);var e=a(62),f=a(99).KEY,
b=a(18),p=a(77),v=a(81),q=a(78),r=a(82),E=a(152),B=a(156),A=a(157),C=a(158),u=a(104),z=a(14),H=a(70),x=a(20),I=a(21),G=a(66),L=a(159),F=a(161),O=a(13),V=a(68),T=F.f,W=O.f,pa=L.f,R=d.Symbol,Y=d.JSON,ba=Y&&Y.stringify,aa=r("_hidden"),ua=r("toPrimitive"),xa={}.propertyIsEnumerable,Ra=p("symbol-registry"),X=p("symbols"),eb=p("op-symbols"),Ea=Object.prototype,p="function"==typeof R,Va=d.QObject,fb=!Va||!Va.prototype||!Va.prototype.findChild,tb=m&&b(function(){return 7!=G(W({},"a",{get:function(){return W(this,
"a",{value:7}).a}})).a})?function(a,b,d){var f=T(Ea,b);f&&delete Ea[b];W(a,b,d);f&&a!==Ea&&W(Ea,b,f)}:W,ub=function(a){var b=X[a]=G(R.prototype);b._k=a;return b},Xa=p&&"symbol"==typeof R.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof R},kb=function(a,b,d){a===Ea&&kb(eb,b,d);z(a);b=x(b,!0);z(d);return g(X,b)?(d.enumerable?(g(a,aa)&&a[aa][b]&&(a[aa][b]=!1),d=G(d,{enumerable:I(0,!1)})):(g(a,aa)||W(a,aa,I(1,{})),a[aa][b]=!0),tb(a,b,d)):W(a,b,d)},ea=function(a,b){z(a);for(var d=
C(b=H(b)),f=0,e=d.length,g;e>f;)kb(a,g=d[f++],b[g]);return a},Za=function(a){var b=xa.call(this,a=x(a,!0));return this===Ea&&g(X,a)&&!g(eb,a)?!1:b||!g(this,a)||!g(X,a)||g(this,aa)&&this[aa][a]?b:!0},Va=function(a,b){a=H(a);b=x(b,!0);if(a!==Ea||!g(X,b)||g(eb,b)){var d=T(a,b);!d||!g(X,b)||g(a,aa)&&a[aa][b]||(d.enumerable=!0);return d}},ra=function(a){a=pa(H(a));for(var b=[],d=0,e;a.length>d;)g(X,e=a[d++])||e==aa||e==f||b.push(e);return b},lb=function(a){var b=a===Ea;a=pa(b?eb:H(a));for(var d=[],f=0,
e;a.length>f;)g(X,e=a[f++])&&(b?g(Ea,e):1)&&d.push(X[e]);return d};p||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var a=q(0<arguments.length?arguments[0]:n),b=function(d){this===Ea&&b.call(eb,d);g(this,aa)&&g(this[aa],a)&&(this[aa][a]=!1);tb(this,a,I(1,d))};m&&fb&&tb(Ea,a,{configurable:!0,set:b});return ub(a)},e(R.prototype,"toString",function(){return this._k}),F.f=Va,O.f=kb,a(160).f=L.f=ra,a(125).f=Za,a(124).f=lb,m&&!a(61)&&e(Ea,"propertyIsEnumerable",Za,!0),
E.f=function(a){return ub(r(a))});h(h.G+h.W+h.F*!p,{Symbol:R});e="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(E=0;e.length>E;)r(e[E++]);e=V(r.store);for(E=0;e.length>E;)B(e[E++]);h(h.S+h.F*!p,"Symbol",{"for":function(a){return g(Ra,a+="")?Ra[a]:Ra[a]=R(a)},keyFor:function(a){if(Xa(a))return A(Ra,a);throw TypeError(a+" is not a symbol!");},useSetter:function(){fb=!0},useSimple:function(){fb=!1}});h(h.S+h.F*!p,"Object",
{create:function(a,b){return b===n?G(a):ea(G(a),b)},defineProperty:kb,defineProperties:ea,getOwnPropertyDescriptor:Va,getOwnPropertyNames:ra,getOwnPropertySymbols:lb});Y&&h(h.S+h.F*(!p||b(function(){var a=R();return"[null]"!=ba([a])||"{}"!=ba({a:a})||"{}"!=ba(Object(a))})),"JSON",{stringify:function(a){if(a!==n&&!Xa(a)){for(var b=[a],d=1,f;arguments.length>d;)b.push(arguments[d++]);d=b[1];"function"==typeof d&&(f=d);if(f||!u(d))d=function(a,b){f&&(b=f.call(this,a,b));if(!Xa(b))return b};b[1]=d;return ba.apply(Y,
b)}}});R.prototype[ua]||a(12)(R.prototype,ua,R.prototype.valueOf);v(R,"Symbol");v(Math,"Math",!0);v(d.JSON,"JSON",!0)},function(d,h,a){var g=a(8),m=a(9),e=a(61),f=a(152),b=a(13).f;d.exports=function(a){var d=m.Symbol||(m.Symbol=e?{}:g.Symbol||{});"_"==a.charAt(0)||a in d||b(d,a,{value:f.f(a)})}},function(d,h,a){var g=a(68),m=a(70);d.exports=function(a,d){for(var b=m(a),h=g(b),n=h.length,q=0,r;n>q;)if(b[r=h[q++]]===d)return r}},function(d,h,a){var g=a(68),m=a(124),e=a(125);d.exports=function(a){var b=
g(a),d=m.f;if(d)for(var d=d(a),h=e.f,q=0,r;d.length>q;)h.call(a,r=d[q++])&&b.push(r);return b}},function(d,h,a){var g=a(70),m=a(160).f,e={}.toString,f="object"==typeof ea&&ea&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(ea):[];d.exports.f=function(a){var d;if(f&&"[object Window]"==e.call(a))try{d=m(a)}catch(h){d=f.slice()}else d=m(g(a));return d}},function(d,h,a){var g=a(69),m=a(79).concat("length","prototype");h.f=Object.getOwnPropertyNames||function(a){return g(a,m)}},function(d,h,a){var g=
a(125),m=a(21),e=a(70),f=a(20),b=a(63),p=a(16),n=Object.getOwnPropertyDescriptor;h.f=a(17)?n:function(a,d){a=e(a);d=f(d,!0);if(p)try{return n(a,d)}catch(h){}if(b(a,d))return m(!g.f.call(a,d),a[d])}},function(d,h,a){a(156)("asyncIterator")},function(d,h,a){a(156)("observable")},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});d=a(165);h.default={parse:(d&&d.__esModule?d:{default:d}).default}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(a){return new Date(Date.parse(a))}
function e(a){return a}function f(a){return"true"===a}function b(a){if(!a)return 0;if(a.match(/^\d+/))return parseInt(a,10);a=G.exec(a);return 31536E3*parseFloat(a[2]||0)+2592E3*parseFloat(a[4]||0)+86400*parseFloat(a[6]||0)+3600*parseFloat(a[8]||0)+60*parseFloat(a[10]||0)+parseFloat(a[12]||0)}function p(a){return"true"===a?!0:"false"===a?!1:parseInt(a,10)}function v(a){return(a=L.exec(a))?[+a[1],+a[2]]:null}function q(a){var b={};if(1===a.nodeType){if(0<a.attributes.length)for(var d=0;d<a.attributes.length;d++){var f=
a.attributes.item(d),e=F[f.nodeName];b[f.nodeName]=e?e(f.nodeValue):f.nodeValue}}else 3===a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes())for(d=0;d<a.childNodes.length;d++)if(f=a.childNodes.item(d),e=f.nodeName,"undefined"===typeof b[e])b[e]=q(f);else{if("undefined"===typeof b[e].push){var g=b[e];b[e]=[];b[e].push(g)}b[e].push(q(f))}return b}function r(a){function b(f){return(Array.isArray(f.Representation)?f.Representation:[f.Representation]).map(function(b){var e=E(b.InbandEventStream);if(f.hasOwnProperty("SegmentTemplate")){var g=
a.BaseURL?a.BaseURL["#text"].replace(/"|'/g,""):"",h=f.SegmentTemplate,q=H.default.replaceTokenForTemplate(h.initialization,"RepresentationID",b.id),r=H.default.replaceTokenForTemplate(h.media,"RepresentationID",b.id),m=a.availabilityStartTime?a.availabilityStartTime.getTime()/1E3:Date.now()/1E3,p=a.suggestedPresentationDelay?a.suggestedPresentationDelay:0,u=a.minBufferTime?a.minBufferTime:0,n=h.startNumber,B=h.duration/1E3,v=h.presentationTimeOffset/1E3||0,A=a.mediaPresentationDuration||I.default.getDynamicTrackDuration(z.default.fromJS({availabilityStartTime:m,
startNumber:n,fragmentDuration:B})),F=a.mediaPresentationDuration||A-p-u,pa=Math.floor(A/B),L="dynamic"!==a.type||a.mediaPresentationDuration?0:1,G=x.default.initialConfig.maxPrecedingTime/B,G=L?Math.max(0,pa-G):0;return(0,C.default)(b,{baseURL:g,isDynamic:L,startNumber:n,minBufferTime:u,segmentTemplate:h,fragmentDuration:B,inbandEventStreams:e,fragmentIndexOffset:G,availabilityStartTime:m,presentationTimeOffset:v,numOfAvailableSegments:pa,suggestedPresentationDelay:p,durationWithOffset:H.default.floorDecimal(F,
2),sourceURL:""+g+q,mimeType:f.mimeType,duration:H.default.floorDecimal(A,2),codecs:f.codecs,type:a.type,url:""+g+r})}g=Math.min((b.SegmentList.duration/b.SegmentList.timescale).toFixed(2),a.maxSegmentDuration);h=H.default.floorDecimal(d.duration,2);q=Array.isArray(b.SegmentList.SegmentURL)?b.SegmentList.SegmentURL.length:1;return(0,C.default)(b,{duration:h,fragmentDuration:g,inbandEventStreams:e,numOfAvailableSegments:q,sourceURL:b.SegmentList.Initialization.sourceURL})})}var d=a.Period,f=[],e=[];
(Array.isArray(d.AdaptationSet)?d.AdaptationSet:[d.AdaptationSet]).forEach(function(a){f.push.apply(f,(0,u.default)(b(a)));e.push.apply(e,(0,u.default)(E(a.InbandEventStream)))});a.representations=f.sort(function(a,b){return+b.bandwidth-+a.bandwidth});f.forEach(function(a){e.push.apply(e,(0,u.default)(a.inbandEventStreams))});a.inbandEventStreams=e}function E(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:null;if(a){var d=function(){var d=Array.isArray(a)?a:[a],f=b?{representation:b}:
{};return{v:d.map(function(a){return(0,C.default)(a,f)}).filter(function(a){return a&&a.hasOwnProperty("schemeIdUri")})}}();if("object"===("undefined"===typeof d?"undefined":(0,A.default)(d)))return d.v}else return[]}function B(a){if(a.UTCTiming){var b=Array.isArray(a.UTCTiming)?a.UTCTiming:[a.UTCTiming];a.UTCTiming=b.filter(function(a){return a.hasOwnProperty("schemeIdUri")&&a.hasOwnProperty("value")})}}Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var A=g(d);d=a(120);var C=g(d);d=a(112);
var u=g(d);d=a(27);var z=g(d);d=a(146);var H=g(d);d=a(52);var x=g(d);a=a(136);var I=g(a),G=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,L=/([0-9]+)-([0-9]+)/,F={id:e,profiles:e,type:e,availabilityStartTime:m,availabilityEndTime:m,publishTime:m,mediaPresentationDuration:b,minimumUpdatePeriod:b,minBufferTime:b,timeShiftBufferDepth:b,suggestedPresentationDelay:b,maxSegmentDuration:b,maxSubsegmentDuration:b,start:b,duration:b,bitstreamSwitching:f,group:parseInt,lang:e,
contentType:e,par:e,minBandwidth:parseInt,maxBandwidth:parseInt,minWidth:parseInt,maxWidth:parseInt,minHeight:parseInt,maxHeight:parseInt,minFrameRate:e,maxFrameRate:e,segmentAlignment:p,subsegmentAlignment:p,bandwidth:parseInt,qualityRanking:parseInt,index:e,media:e,mediaRange:v,indexRange:v,schemeIdUri:e,value:e,startNumber:parseInt,timescale:parseInt,presentationTimeOffset:parseFloat,indexRangeExact:f,availabilityTimeOffset:parseFloat,availabilityTimeComplete:f,width:parseInt,height:parseInt,frameRate:e,
audioSamplingRate:e,mimeType:e,segmentProfiles:e,codecs:e,maximumSAPPeriod:parseFloat,maxPlayoutRate:parseFloat,codingDependency:f};h.default=function(a){a=(new DOMParser).parseFromString(a,"application/xml");a=q(a);B(a.MPD);r(a.MPD);return a}},function(d,h,a){function g(a){return(Array.isArray(a.SegmentList.SegmentURL)?a.SegmentList.SegmentURL:[a.SegmentList.SegmentURL]).map(function(a,b){return{url:a.media,data:null,index:b,endTime:-1,startTime:-1,isRequesting:!1,isBuffering:!1}})}Object.defineProperty(h,
"__esModule",{value:!0});var m=(d=a(146))&&d.__esModule?d:{default:d};h.default={representationsToFragments:function(a){return a.map(function(a){var b=void 0;if(a.hasOwnProperty("SegmentList"))b=g(a);else if(a.hasOwnProperty("segmentTemplate")&&(b=[],a.segmentTemplate))for(var d=a.numOfAvailableSegments-1;d>=a.fragmentIndexOffset;d--)b.unshift({url:m.default.replaceTokenForTemplate(a.url,"Number",d),data:null,index:d,endTime:-1,startTime:-1,isRequesting:!1,isBuffering:!1});return b})}}},function(d,
h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f]);d.default=a;return d}(a(51));h.default={update:function(a){return{type:g.UPDATE_CONFIG,payload:{config:a}}}}},function(d,h,a){function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}function m(a){return a&&a.__esModule?
a:{default:a}}function e(a,d,f){return function(e,g){var h=g().getIn(["config","maxNetworkRetries"]);e({type:b.UTCTIMING_REQUEST,payload:{trackId:d}});return n.default.retryableRequestObservable(f,"text",h).subscribe(function(f){e({type:b.UTCTIMING_REQUESTED,payload:{trackId:d}});var g=Date.now();f=(a(f)-g)/1E3;e({type:b.SET_SERVER_TIME_OFFSET,payload:{trackId:d,serverTimeOffset:f}})},function(a){e(r.default.report(p.NETWORK_ERROR,{error:a,response:a.response}));e({type:b.UTCTIMING_REQUEST_FAILED,
payload:{trackId:d}})})}}Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var f=m(d);d=a(51);var b=g(d);d=a(169);var p=g(d);d=a(130);var n=m(d);d=a(170);var q=m(d);a=a(171);var r=m(a);h.default={fetchManifest:function(a,d){return function(e,g){if("mpd"===a.get("extension")&&a.get("url")){var h=function(){var f=g().getIn(["config","maxNetworkRetries"]),h=a.get("id");e({type:b.GET_MANIFEST_START,payload:{trackId:h}});return{v:n.default.retryableRequestObservable(a.get("url"),"text",f).subscribe(function(a){e({type:b.GET_MANIFEST_SUCCEED,
payload:{trackId:h,manifest:a,lastIndexWithEMSG:d}})},function(a){e(r.default.report(p.NETWORK_ERROR,{error:a,response:a.response}));e({type:b.GET_MANIFEST_FAILED,payload:{trackId:h}})})}}();if("object"===("undefined"===typeof h?"undefined":(0,f.default)(h)))return h.v}}},getServerUTCTime:function(a){return function(b,d){var f=a.get("UTCTiming");if(f){var g=a.get("id"),f=f.last(),h=f.get("value");switch(f.get("schemeIdUri")){case "urn:mpeg:dash:utc:http-iso:2014":case "urn:mpeg:dash:utc:http-iso:2012":b(e(q.default.iso8601Decoder,
g,h))}}}},requestAndDecodeTimeStamp:e}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.NETWORK_ERROR="NETWORK_ERROR";h.MEDIA_SOURCE_CODECS_NOT_SUPPORTED="MEDIA_SOURCE_CODECS_NOT_SUPPORTED";h.MEDIA_SOURCE_NOT_OPEN="MEDIA_SOURCE_NOT_OPEN";h.MEDIA_SOURCE_QUOTA_EXCEEDED="MEDIA_SOURCE_QUOTA_EXCEEDED";h.MEDIA_SOURCE_STREAM_ENDED="MEDIA_SOURCE_STREAM_ENDED";h.MEDIA_SOURCE_ERROR="MEDIA_SOURCE_ERROR";h.MEDIA_SOURCE_UNOPENED="MEDIA_SOURCE_UNOPENED";h.SOURCE_BUFFER_QUOTA_EXCEEDED="SOURCE_BUFFER_QUOTA_EXCEEDED";
h.SOURCE_BUFFER_ERROR="SOURCE_BUFFER_ERROR";h.AUDIO_ERROR="AUDIO_ERROR";h.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED";h.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK";h.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE";h.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED";h.SEGMENT_INDEX_NOT_AVAILABLE="SEGMENT_INDEX_NOT_AVAILABLE";h.PLAY_NOT_AUTHORIZED="PLAY_NOT_AUTHORIZED"},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default={iso8601Decoder:function(a){return Date.parse(a)}}},function(d,h,a){Object.defineProperty(h,
"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f]);d.default=a;return d}(a(51));h.default={report:function(a){var d=1<arguments.length&&arguments[1]!==n?arguments[1]:{};d.timestamp=Date.now();return{type:g.ERROR,payload:{error:a,extra:d}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(173);var m=g(d);d=a(149);var e=
g(d),f=a(23);d=a(135);var b=g(d);d=a(180);var p=g(d);d=a(171);var n=g(d);d=a(181);var q=g(d);d=a(147);var r=g(d);d=a(182);var E=g(d);d=a(183);var B=g(d);d=a(141);var A=g(d);d=a(136);var C=g(d);d=a(184);var u=g(d),z=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(169));h.default={createPlaybackEngine:function(a){function d(a,e){var g=a.stateObservable,p=[];p.push(L.flatMapLatest(function(){var b=
a.getState(),d=b.getIn(["playback","id"]),e=b.getIn(["cache",d,"extension"]);return b.getIn(["cache",d,"fragmented"])||"mpd"!==e?f.Observable.just():h.take(1)}).subscribe(function(){var d=e.play();d&&"undefined"!==typeof m.default&&d instanceof m.default&&d.catch(function(d){d&&"NotAllowedError"===d.name&&(a.dispatch(b.default.pause()),a.dispatch(n.default.report(z.PLAY_NOT_AUTHORIZED)))})}));p.push(q.default.truthyPropertyObservable(g,"playback","paused").subscribe(function(){e.pause()}));p.push(q.default.propertyObservable(g,
"playback","muted").subscribe(function(a){e.muted=a}));p.push(q.default.propertyObservable(g,"playback","volume").subscribe(function(a){e.volume=a}));p.push(q.default.propertyObservable(g,"playback","ended").filter(function(a){return a}).subscribe(function(){a.getState().getIn(["playback","repeating"])&&(a.dispatch(b.default.seekTo(0)),a.dispatch(b.default.play()))}));p.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","time"])}).flatMap(function(b){var d=b.getIn(["playback",
"id"]);return 0<b.getIn(["media",d,"ranges"]).size?f.Observable.just():a.stateObservable.filter(function(a){return 0<a.getIn(["media",d,"ranges"]).size}).take(1)}).subscribe(function(){var b=a.getState().get("playback").get("time");r.default.isAboveSeekThreshold(b,e.currentTime)&&(e.currentTime=b)}));p.push(a.stateObservable.filter(function(a){return a.getIn(["playback","started"])}).distinctUntilChanged(function(a){return a.getIn(["playback","seeking"])}).filter(function(a){return a.getIn(["playback",
"seeking"])}).flatMapLatest(function(b){e.volume=0;return a.stateObservable.filter(function(a){return!a.getIn(["playback","seeking"])}).delay(100).take(1)}).subscribe(function(a){a=a.getIn(["playback","volume"]);e.volume=a}));p.push(a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).distinctUntilChanged(function(a){return a.getIn(["playback","seeking"])}).filter(function(a){return a.getIn(["playback","seeking"])}).flatMapLatest(function(){return f.Observable.merge(f.Observable.fromEvent(e,
"playing"),f.Observable.fromEvent(e,"seeked")).take(1)}).subscribe(function(){a.dispatch(b.default.seekCompleted());B.default.isSafari()&&B.default.isLessThanVersion("10.1")&&0<e.currentTime&&(e.currentTime=e.currentTime,e.pause(),e.play())}));p.push(g.filter(function(a){return a.getIn(["playback","id"])}).map(function(a){return C.default.getCurrentTrack(a)}).distinctUntilChanged(function(a){return a.get("duration")}).subscribe(function(d){(d=d.get("duration"))&&a.dispatch(b.default.setDuration(d))}));
p.push(a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).map(function(a){return C.default.getCurrentTrack(a)}).filter(function(a){return a&&a.get("isDynamic")}).distinctUntilChanged(function(a){return a.get("durationWithOffset")}).subscribe(function(d){var f=a.getState().getIn(["playback","time"]);d=d.get("durationWithOffset");f+5<d&&a.dispatch(b.default.setTime(d))}));p.push(q.default.propertyObservable(g,"playback","stalled").filter(function(a){return a}).subscribe(function(){a.dispatch(b.default.downgradeBitrate())}));
p.push(a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["playback","playing"])}).distinctUntilChanged(function(a){return a.getIn(["playback","codecs"])}).filter(function(a){return a.getIn(["playback","codecs"])}).skip(1).flatMap(function(b){return a.stateObservable.map(function(a){return C.default.getCurrentMediaReadyState(a)}).distinctUntilChanged().filter(function(a){return E.default.isOpen(a)}).take(1)}).subscribe(function(){var b=a.getState(),
d=b.getIn(["playback","time"]),f=e.currentTime;0===f&&f!==d&&(e.currentTime=b.getIn(["playback","time"]))}));p.push(q.default.truthyPropertyObservable(g,"playback","stalled").flatMapLatest(function(){return f.Observable.merge(f.Observable.fromEvent(e,"playing").filter(function(b){return!a.getState().getIn(["playback","seeking"])}),f.Observable.fromEvent(e,"durationchange"),a.stateObservable.filter(function(){return B.default.isEdge()||B.default.isIE()}).filter(function(a){return(a=C.default.getCurrentTrack(a))&&
!a.get("isDynamic")}).distinctUntilChanged(function(a){var b=a.getIn(["playback","id"]);return a.getIn(["media",b,"audioEl"]).currentTime}).skip(1).filter(function(a){return!a.getIn(["playback","seeking"])})).take(1)}).subscribe(function(){var d=a.getState(),f=C.default.getCurrentTrack(d),d=d.getIn(["playback","time"]);a.dispatch(b.default.stallCompleted());f&&f.get("isDynamic")&&r.default.isAboveSeekThreshold(d,e.currentTime)&&(e.currentTime=d)}));p.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback",
"time"])}).filter(function(a){return!a.getIn(["playback","ended"])}).filter(function(a){var b=a.getIn(["playback","duration"]);a=a.getIn(["playback","time"]);return a<b&&a+.01>=b}).subscribe(function(){return a.dispatch(b.default.ended())}));B.default.isSafari()&&B.default.isLessThanVersion("10.1")&&p.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","stalled"])}).filter(function(a){return a.getIn(["playback","stalled"])}).flatMapLatest(function(b){var d=b.getIn(["playback",
"id"]),f=b.getIn(["media",d,"ranges"]);return a.stateObservable.distinctUntilChanged(function(a){a=a.getIn(["media",d,"ranges"]);return f===a}).takeUntil(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","stalled"])}).filter(function(a){return!a.getIn(["playback","stalled"])}))}).subscribe(function(a){a=a.getIn(["playback","time"]);e.currentTime=a;e.pause();e.play()}));p.push(a.stateObservable.filter(function(a){return(a=C.default.getCurrentTrack(a))&&"mpd"!==a.get("extension")}).filter(function(a){return!a.getIn(["network",
"online"])}).flatMapLatest(function(){return F.filter(function(a){return a.getIn(["playback","stalled"])}).map(function(a){var b=a.getIn(["playback","id"]);return a.getIn(["media",b,"audioEl"]).currentTime}).take(1)}).subscribe(function(b){u.default.playProgressiveTrack(a.getState(),b)}));p.push(F.filter(function(a){return(a=C.default.getCurrentTrack(a))&&"mpd"!==a.get("extension")}).filter(function(a){return a.getIn(["playback","playing"])}).filter(function(a){return!a.getIn(["playback","started"])}).subscribe(function(a){var b=
a.getIn(["playback","time"]);u.default.playProgressiveTrack(a,b)}));return p}function g(a,d,e){var h=[];h.push(f.Observable.fromEvent(d,"playing").map(function(){return a.getState()}).filter(function(a){return!a.getIn(["playback","started"])}).subscribe(function(){a.dispatch(b.default.started());a.dispatch(p.default.rangesUpdated(e,A.default.bufferToRanges(d)))}));h.push(f.Observable.fromEvent(d,"ended").map(function(){return a.getState()}).filter(function(a){return!a.getIn(["playback","ended"])}).subscribe(function(d){!B.default.isSafari()||
d.getIn(["network","online"])||u.default.isProgressivePlaybackEnded(d)?a.dispatch(b.default.ended()):a.dispatch(b.default.isStalled())}));h.push(f.Observable.fromEvent(d,"progress").map(function(){return a.getState()}).filter(function(a){return a.getIn(["playback","started"])}).subscribe(function(f){a.dispatch(b.default.setTime(d.currentTime));a.dispatch(p.default.rangesUpdated(e,A.default.bufferToRanges(d)))}));h.push(f.Observable.fromEvent(d,"timeupdate").map(function(){return a.getState()}).filter(function(a){return a.getIn(["playback",
"playing"])}).distinctUntilChanged(function(a){var b=a.getIn(["playback","id"]);return a.getIn(["media",b,"audioEl"]).currentTime}).filter(function(a){return a.getIn(["playback","bitrate"])?!E.default.isClosed(C.default.getCurrentMediaReadyState(a)):!0}).subscribe(function(){a.dispatch(b.default.setTime(d.currentTime))}));h.push(f.Observable.fromEvent(d,"error").subscribe(function(f){var e=Error().stack,g=d.error,h=z.AUDIO_ERROR;if(g)switch(g.code){case g.MEDIA_ERR_ABORTED:h=z.MEDIA_ERR_ABORTED;break;
case g.MEDIA_ERR_NETWORK:h=z.MEDIA_ERR_NETWORK;a.dispatch(b.default.isStalled());break;case g.MEDIA_ERR_DECODE:h=z.MEDIA_ERR_DECODE;a.dispatch(b.default.isStalled());break;case g.MEDIA_ERR_SRC_NOT_SUPPORTED:h=z.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:h=z.AUDIO_ERROR}a.dispatch(n.default.report(h,{error:f,stack:e,audioError:g}))}));h.push(f.Observable.fromEvent(d,"waiting").map(function(){return a.getState()}).filter(function(a){return a.getIn(["playback","started"])}).filter(function(a){return!a.getIn(["playback",
"seeking"])}).filter(function(){return 0<d.currentTime}).filter(function(a){var b=a.getIn(["playback","duration"]);return a.getIn(["playback","time"])<b}).subscribe(function(f){a.dispatch(b.default.setTime(d.currentTime));a.dispatch(b.default.isStalled())}));h.push(f.Observable.fromEvent(d,"waiting").map(function(){return a.getState()}).filter(function(a){return a.getIn(["playback","started"])}).filter(function(a){return!a.getIn(["playback","seeking"])}).filter(function(a){return!a.getIn(["playback",
"ended"])}).filter(function(a){var b=a.getIn(["playback","duration"]);return a.getIn(["playback","time"])>=b}).subscribe(function(d){a.dispatch(b.default.ended())}));return h}if("object"!==("undefined"===typeof a?"undefined":(0,e.default)(a)))throw Error("Expected the store to be an object.");var h=a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return(a=C.default.getCurrentTrack(a))&&a.get("fragmented")}).distinctUntilChanged(function(a){return a.getIn(["playback",
"id"])}),L=q.default.truthyPropertyObservable(a.stateObservable,"playback","playing"),F=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["network","online"])}).filter(function(a){return a.getIn(["network","online"])}),O=[],V=[],T=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["playback","id"])});T.subscribe(function(b){var f=b.getIn(["playback","id"]);b=b.getIn(["media",f,"audioEl"]);O.map(function(a){return a.dispose()});
V.map(function(a){return a.dispose()});O=d(a,b,f);V=g(a,b,f)});T.filter(function(a){return!C.default.getCurrentTrack(a).get("fragmented")}).subscribe(function(b){var d=b.getIn(["playback","id"]);b=b.getIn(["media",d,"audioEl"]);a.dispatch(p.default.rangesUpdated(d,A.default.bufferToRanges(b)))});return{dispose:function(){O.map(function(a){return a.dispose()});V.map(function(a){return a.dispose()})}}}}},function(d,h,a){d.exports={"default":a(174),__esModule:!0}},function(d,h,a){a(55);a(56);a(85);a(175);
d.exports=a(9).Promise},function(d,h,a){d=a(61);var g=a(8),m=a(10),e=a(97);h=a(7);var f=a(15),b=a(11),p=a(92),v=a(93),q=a(176),r=a(177).set,E=a(179)(),B=g.TypeError,A=g.process,C=g.Promise,A=g.process,u="process"==e(A),z=function(){},H,x,I,e=!!function(){try{var b=C.resolve(1),d=(b.constructor={})[a(82)("species")]=function(a){a(z,z)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(z)instanceof d}catch(f){}}(),G=function(a){var b;return f(a)&&"function"==typeof(b=a.then)?b:!1},L=function(a){return C===
a||C===C&&a===I?new F(a):new x(a)},F=x=function(a){var d,f;this.promise=new a(function(a,b){if(d!==n||f!==n)throw B("Bad Promise constructor");d=a;f=b});this.resolve=b(d);this.reject=b(f)},O=function(a){try{a()}catch(b){return{error:b}}},V=function(a,b){if(!a._n){a._n=!0;var d=a._c;E(function(){for(var f=a._v,e=1==a._s,g=0;d.length>g;){var h=d[g++],q=e?h.ok:h.fail,r=h.resolve,p=h.reject,m=h.domain,u=void 0,z=void 0;try{q?(e||(2==a._h&&pa(a),a._h=1),!0===q?u=f:(m&&m.enter(),u=q(f),m&&m.exit()),u===
h.promise?p(B("Promise-chain cycle")):(z=G(u))?z.call(u,r,p):r(u)):p(f)}catch(n){p(n)}}a._c=[];a._n=!1;b&&!a._h&&T(a)})}},T=function(a){r.call(g,function(){var b=a._v,d,f,e;W(a)&&(d=O(function(){u?A.emit("unhandledRejection",b,a):(f=g.onunhandledrejection)?f({promise:a,reason:b}):(e=g.console)&&e.error&&e.error("Unhandled promise rejection",b)}),a._h=u||W(a)?2:1);a._a=n;if(d)throw d.error;})},W=function(a){if(1==a._h)return!1;a=a._a||a._c;for(var b=0,d;a.length>b;)if(d=a[b++],d.fail||!W(d.promise))return!1;
return!0},pa=function(a){r.call(g,function(){var b;u?A.emit("rejectionHandled",a):(b=g.onrejectionhandled)&&b({promise:a,reason:a._v})})},R=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),V(b,!0))},Y=function(a){var b=this,d;if(!b._d){b._d=!0;b=b._w||b;try{if(b===a)throw B("Promise can't be resolved itself");(d=G(a))?E(function(){var f={_w:b,_d:!1};try{d.call(a,m(Y,f,1),m(R,f,1))}catch(e){R.call(f,e)}}):(b._v=a,b._s=1,V(b,!1))}catch(f){R.call({_w:b,_d:!1},f)}}};
e||(C=function(a){p(this,C,"Promise","_h");b(a);H.call(this);try{a(m(Y,this,1),m(R,this,1))}catch(d){R.call(this,d)}},H=function(a){this._c=[];this._a=n;this._s=0;this._d=!1;this._v=n;this._h=0;this._n=!1},H.prototype=a(91)(C.prototype,{then:function(a,b){var d=L(q(this,C));d.ok="function"==typeof a?a:!0;d.fail="function"==typeof b&&b;d.domain=u?A.domain:n;this._c.push(d);this._a&&this._a.push(d);this._s&&V(this,!1);return d.promise},"catch":function(a){return this.then(n,a)}}),F=function(){var a=
new H;this.promise=a;this.resolve=m(Y,a,1);this.reject=m(R,a,1)});h(h.G+h.W+h.F*!e,{Promise:C});a(81)(C,"Promise");a(98)("Promise");I=a(9).Promise;h(h.S+h.F*!e,"Promise",{reject:function(a){var b=L(this),d=b.reject;d(a);return b.promise}});h(h.S+h.F*(d||!e),"Promise",{resolve:function(a){var b;if(b=a instanceof C)b=a.constructor,b=b===this||b===C&&this===I;if(b)return a;b=L(this);var d=b.resolve;d(a);return b.promise}});h(h.S+h.F*!(e&&a(117)(function(a){C.all(a)["catch"](z)})),"Promise",{all:function(a){var b=
this,d=L(b),f=d.resolve,e=d.reject,g=O(function(){var d=[],g=0,h=1;v(a,!1,function(a){var q=g++,r=!1;d.push(n);h++;b.resolve(a).then(function(a){r||(r=!0,d[q]=a,--h||f(d))},e)});--h||f(d)});g&&e(g.error);return d.promise},race:function(a){var b=this,d=L(b),f=d.reject,e=O(function(){v(a,!1,function(a){b.resolve(a).then(d.resolve,f)})});e&&f(e.error);return d.promise}})},function(d,h,a){var g=a(14),m=a(11),e=a(82)("species");d.exports=function(a,b){var d=g(a).constructor,h;return d===n||(h=g(d)[e])==
n?b:m(h)}},function(d,h,a){var g=a(10),m=a(178),e=a(80),f=a(19),b=a(8),p=b.process;h=b.setImmediate;var n=b.clearImmediate,q=b.MessageChannel,r=0,E={},B,A=function(){var a=+this;if(E.hasOwnProperty(a)){var b=E[a];delete E[a];b()}},C=function(a){A.call(a.data)};h&&n||(h=function(a){for(var b=[],d=1;arguments.length>d;)b.push(arguments[d++]);E[++r]=function(){m("function"==typeof a?a:Function(a),b)};B(r);return r},n=function(a){delete E[a]},"process"==a(72)(p)?B=function(a){p.nextTick(g(A,a,1))}:q?
(a=new q,q=a.port2,a.port1.onmessage=C,B=g(q.postMessage,q,1)):b.addEventListener&&"function"==typeof postMessage&&!b.importScripts?(B=function(a){b.postMessage(a+"","*")},b.addEventListener("message",C,!1)):B="onreadystatechange"in f("script")?function(a){e.appendChild(f("script")).onreadystatechange=function(){e.removeChild(this);A.call(a)}}:function(a){setTimeout(g(A,a,1),0)});d.exports={set:h,clear:n}},function(d,h){d.exports=function(a,d,h){var e=h===n;switch(d.length){case 0:return e?a():a.call(h);
case 1:return e?a(d[0]):a.call(h,d[0]);case 2:return e?a(d[0],d[1]):a.call(h,d[0],d[1]);case 3:return e?a(d[0],d[1],d[2]):a.call(h,d[0],d[1],d[2]);case 4:return e?a(d[0],d[1],d[2],d[3]):a.call(h,d[0],d[1],d[2],d[3])}return a.apply(h,d)}},function(d,h,a){var g=a(8),m=a(177).set,e=g.MutationObserver||g.WebKitMutationObserver,f=g.process,b=g.Promise,p="process"==a(72)(f);d.exports=function(){var a,d,h,E=function(){var b,e;for(p&&(b=f.domain)&&b.exit();a;){e=a.fn;a=a.next;try{e()}catch(g){throw a?h():
d=n,g;}}d=n;b&&b.enter()};if(p)h=function(){f.nextTick(E)};else if(e){var B=!0,A=document.createTextNode("");(new e(E)).observe(A,{characterData:!0});h=function(){A.data=B=!B}}else if(b&&b.resolve){var C=b.resolve();h=function(){C.then(E)}}else h=function(){m.call(g,E)};return function(b){b={fn:b,next:n};d&&(d.next=b);a||(a=b,h());d=b}}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(d[b]=a[b]);d.default=a;return d}(a(51)),m=(d=a(136))&&d.__esModule?d:{default:d};h.default={open:function(a){return{type:g.MEDIA_SOURCE_OPENED,payload:{trackId:a}}},closed:function(a){return{type:g.MEDIA_SOURCE_CLOSED,payload:{trackId:a}}},ended:function(a){return{type:g.MEDIA_SOURCE_ENDED,payload:{trackId:a}}},appending:function(a,d,b){return{type:g.BUFFER_APPENDING,payload:{trackId:a.get("id"),bitrate:d,fragmentIndex:m.default.getIndexForFragment(a,b)}}},appended:function(a,d,b,h,n){return{type:g.BUFFER_APPENDED,
payload:{endTime:n,fragment:b,startTime:h,trackId:a.get("id"),bitrate:d,fragmentIndex:m.default.getIndexForFragment(a,b)}}},rangesUpdated:function(a,d){return{type:g.BUFFER_RANGES_UPDATED,payload:{trackId:a,ranges:d}}}}},function(d,h){function a(a){for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return e.reduce(function(a,d){return a.map(function(a){return a.get(d)}).distinctUntilChanged()},a)}Object.defineProperty(h,"__esModule",{value:!0});h.default={propertyObservable:a,
truthyPropertyObservable:function(d){for(var h=arguments.length,e=Array(1<h?h-1:0),f=1;f<h;f++)e[f-1]=arguments[f];return a.apply(n,[d].concat(e)).filter(function(a){return a})}}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});h.default={isOpen:function(a){return"open"===a},isClosed:function(a){return"closed"===a},isEnded:function(a){return"ended"===a}}},function(d,h,a){(function(d){Object.defineProperty(h,"__esModule",{value:!0});var m=a(2),e=m&&m.__esModule?m:{default:m},f=(m=a(3))&&
m.__esModule?m:{default:m},b={CHROME:"chrome",SAFARI:"safari",FIREFOX:"firefox",IE:"ie",Edge:"edge",UNKNOWN:"unknown"},p={};p[b.CHROME]=48;p[b.SAFARI]=10;p[b.FIREFOX]=45;p[b.IE]=11;p[b.EDGE]=13;var n={};n[b.CHROME]=/Chrome\/((?:\d+)(?:\.\d+)+)/i;n[b.SAFARI]=/Version\/((?:\d+)(?:\.\d+)+) Safari\//i;n[b.FIREFOX]=/Firefox\/((?:\d+)(?:\.\d+)+)/i;n[b.IE]=/[Trident|MSIE].*; rv:((?:\d+)(?:\.\d+)+)/i;n[b.EDGE]=/Edge\/((?:\d+)(?:\.\d+)+)/i;var q=function(){function a(){(0,e.default)(this,a)}(0,f.default)(a,
null,[{key:"getBrowserName",value:function(){switch(!0){case /chrome/i.test(d.navigator.userAgent)&&!/edge/i.test(d.navigator.userAgent):return b.CHROME;case /safari/i.test(d.navigator.userAgent)&&!/chrome/i.test(d.navigator.userAgent):return b.SAFARI;case /Firefox/i.test(d.navigator.userAgent):return b.FIREFOX;case /MSIE|Trident/i.test(d.navigator.userAgent):return b.IE;case /Edge/i.test(d.navigator.userAgent):return b.EDGE;default:return b.UNKNOWN}}},{key:"getBrowserMajorVersion",value:function(){return a.getBrowserVersion()[0]}},
{key:"getBrowserVersion",value:function(){var b=n[a.getBrowserName()];return b?(b=d.navigator.userAgent.match(b),(b&&b[1]?b[1]:"0").split(".").map(function(a){return parseInt(a)})):[0]}},{key:"isLessThanVersion",value:function(b){var d=a.getBrowserVersion();b=b.split(".").map(function(a){return parseInt(a)});for(var f=0;f<b.length;f++){var e=d[f]||0,g=b[f]||0;if(e>g)break;else if(e<g)return!0}return!1}},{key:"isVersionSupported",value:function(){var b=p[a.getBrowserName()];return b?a.getBrowserMajorVersion()>=
b:!0}},{key:"isMobileBrowser",value:function(){return/Mobi|tablet|ipad|playbook|silk|android/i.test(d.navigator.userAgent)}}]);return a}();h.default={isVersionSupported:q.isVersionSupported,isLessThanVersion:q.isLessThanVersion,isMobileBrowser:q.isMobileBrowser,isChrome:function(){return q.getBrowserName()===b.CHROME},isFirefox:function(){return q.getBrowserName()===b.FIREFOX},isSafari:function(){return q.getBrowserName()===b.SAFARI},isIE:function(){return q.getBrowserName()===b.IE},isEdge:function(){return q.getBrowserName()===
b.EDGE}}}).call(h,function(){return this}())},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(136))&&d.__esModule?d:{default:d},m=(a=a(183))&&a.__esModule?a:{default:a};h.default={playProgressiveTrack:function(a){var d=1<arguments.length&&arguments[1]!==n?arguments[1]:0,b=a.getIn(["playback","id"]),h=g.default.getCurrentTrack(a),v=a.getIn(["media",b,"audioEl"]);v.src=h&&h.get("url");m.default.isSafari()||m.default.isIE()?v.addEventListener("canplay",function(a){v.currentTime=
d}):v.currentTime=d;v.pause();a.getIn(["playback","playing"])&&v.play()},isProgressivePlaybackEnded:function(a){var d=g.default.getCurrentTrack(a);a=1>a.getIn(["playback","duration"])-a.getIn(["playback","time"]);return d&&"mpd"!==d.get("extension")&&a}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(137);var m=g(d);d=a(149);var e=g(d),f=a(23);d=a(136);var b=g(d);a=a(186);var p=g(a);h.default={createStreamingEngine:function(a){if("object"!==
("undefined"===typeof a?"undefined":(0,e.default)(a)))throw Error("Expected the store to be an object.");var d=function(a){var d=[],e=a.stateObservable.filter(function(a){return a.getIn(["playback","bitrate"])}).distinctUntilChanged(function(a){return a.getIn(["playback","bitrate"])}),g=a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return(a=b.default.getCurrentTrack(a))&&a.get("fragmented")}).distinctUntilChanged(function(a){return a.getIn(["playback",
"id"])}),h=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["network","online"])}).filter(function(a){return a.getIn(["network","online"])}),q=a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).map(function(a){return b.default.getCurrentTrack(a)}).filter(function(a){return a}).distinctUntilChanged(function(a){return a.get("waitingServerTimeSync")}).filter(function(a){return!a.get("waitingServerTimeSync")}).map(function(){return a.getState()});d.push(f.Observable.merge(g,
e,h,q).filter(function(a){return a.getIn(["network","online"])}).filter(function(a){return(a=b.default.getCurrentTrack(a))&&a.get("fragmented")}).subscribe(function(d){var f=d.getIn(["playback","time"]),e=b.default.getCurrentTrack(d),g=d.getIn(["playback","bitrate"]),h=b.default.getInitFragment(e,g),q=e.get("id");d=d.getIn(["media",q,"ranges"]);f=b.default.getNextFragmentToFetch(e,g,d,f);b.default.isFragmentRequestable(h)&&a.dispatch(p.default.fetchFragment(e,g,h));b.default.isFragmentRequestable(f,
e.get("fragmentDuration"),d)&&a.dispatch(p.default.fetchFragment(e,g,f))}));d.push(f.Observable.merge(a.stateObservable,h,q).filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["network","online"])}).filter(function(a){return(a=b.default.getCurrentTrack(a))&&a.get("fragmented")}).distinctUntilChanged(function(a){return b.default.getCurrentTrack(a).get("bitrates")}).map(function(a){var d=b.default.getCurrentTrack(a),f=a.getIn(["playback","bitrate"]);a=a.getIn(["playback",
"time"]);return{track:d,bitrate:f,time:a}}).filter(function(a){return 0<a.time}).filter(function(a){return!b.default.isRequestingAFragment(a.track,a.bitrate)}).map(function(d){var f=d.track,e=d.bitrate;d=d.time;var g=f.get("isDynamic")?f.get("suggestedPresentationDelay"):a.getState().getIn(["config","secondsToPrefetchAhead"]),h=f.get("id"),h=a.getState().getIn(["media",h,"ranges"]);return{fragment:b.default.getNextFragmentToFetch(f,e,h,d,g),track:f,bitrate:e}}).filter(function(a){return a.fragment}).subscribe(function(b){a.dispatch(p.default.fetchFragment(b.track,
b.bitrate,b.fragment))}));d.push(f.Observable.merge(a.stateObservable,h,q).filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["network","online"])}).filter(function(a){return(a=b.default.getCurrentTrack(a))&&a.get("fragmented")}).distinctUntilChanged(function(a){return a.getIn(["playback","time"])}).map(function(a){var d=b.default.getCurrentTrack(a),f=a.getIn(["playback","bitrate"]),e=a.getIn(["playback","time"]);a=a.getIn(["playback","seeking"]);return{track:d,
bitrate:f,time:e,seeking:a}}).filter(function(a){var d=b.default.isRequestingAFragment(a.track,a.bitrate);return a.seeking||!d}).map(function(d){var f=d.track,e=d.bitrate;d=d.time;var g=a.getState().getIn(["config","secondsToPrefetchAhead"]),h=f.get("id"),h=a.getState().getIn(["media",h,"ranges"]);return{fragment:b.default.getNextFragmentToFetch(f,e,h,d,g),track:f,bitrate:e}}).filter(function(a){return a.fragment}).subscribe(function(b){a.dispatch(p.default.fetchFragment(b.track,b.bitrate,b.fragment))}));
return d}(a);return{dispose:function(){var a=!0,b=!1,f=n;try{for(var e=(0,m.default)(d),g;!(a=(g=e.next()).done);a=!0)g.value.dispose()}catch(h){b=!0,f=h}finally{try{!a&&e.return&&e.return()}finally{if(b)throw f;}}}}}}},function(d,h,a){function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(171);var e=
m(d);d=a(51);var f=g(d);d=a(169);var b=g(d);d=a(130);var p=m(d);a=a(136);var n=m(a);h.default={fetchFragment:function(a,d,g){return function(h,m){if(!a.get("waitingServerTimeSync")){var C=m(),u=a.get("id"),z=n.default.getIndexForFragment(a,g),C=C.getIn(["config","maxNetworkRetries"]),H=Date.now(),x=a.get("isDynamic");h({type:f.GET_FRAGMENT_START,payload:{trackId:u,fragmentIndex:z,bitrate:d}});return p.default.retryableRequestObservable(g.get("url"),"arrayBuffer",C).subscribe(function(a){var b=p.default.succeedMetrics(H,
a,m());h({type:f.GET_FRAGMENT_SUCCEED,payload:{trackId:u,fragmentIndex:z,bitrate:d,data:a,metrics:b}})},function(a){var g=Error().stack,q=p.default.failMetrics(H,a,m());h(e.default.report(b.NETWORK_ERROR,{error:a,stack:g,response:a.response}));h({type:f.GET_FRAGMENT_FAILED,payload:{trackId:u,fragmentIndex:z,bitrate:d,metrics:q}});x&&a.response&&404===a.response.status&&h({type:f.END_DYNAMIC_TRACK,payload:{trackId:u}})})}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,
"__esModule",{value:!0});d=a(137);var m=g(d);d=a(53);var e=g(d);d=a(149);var f=g(d);a=a(188);var b=g(a);h.default={createMediaEngine:function(a){if("object"!==("undefined"===typeof a?"undefined":(0,f.default)(a)))throw Error("Expected the store to be an object.");var d=new e.default,g=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["cache","trackIds"])}).subscribe(function(f){f=f.getIn(["cache","trackIds"]);f.forEach(function(f){d.get(f)||d.set(f,b.default.createMediaSourceEngine(a,
f))});var e=!0,g=!1,h=n;try{for(var q=(0,m.default)(d.keys()),u;!(e=(u=q.next()).done);e=!0){var z=u.value;f.includes(z)||(d.get(z).dispose(),d.delete(z))}}catch(H){g=!0,h=H}finally{try{!e&&q.return&&q.return()}finally{if(g)throw h;}}});return{dispose:function(){g.dispose();d.clear()},localCache:d}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(){}function e(a,d,e){if("object"!==("undefined"===typeof a?"undefined":(0,f.default)(a)))throw Error("Expected the store to be an object.");
if("object"!==("undefined"===typeof d?"undefined":(0,f.default)(d)))throw Error("Expected the audioElement to be an object.");if("string"!==typeof e)throw Error("Expected the trackID to be a string.");var g=d._mediaSource,h=d.src,r=[],p=void 0;r.push(a.stateObservable.distinctUntilChanged(function(a){return n.default.getMediaReadyState(e,a)}).filter(function(a){return q.default.isOpen(n.default.getMediaReadyState(e,a))}).filter(function(a){return a.getIn(["cache",e,"fragmented"])}).do(function(b){var d=
n.default.getTrack(e,b);g.duration=d.get("duration");b=n.default.getTrackBitrate(e,b);d=g.addSourceBuffer(n.default.getMimeType(d,b));p=A.default.createSourceBufferEngine(a,e,d,g)}).catch(function(b){var d=b&&b.name;b=b&&b.message;var f=Error().stack;"InvalidAccessError"===d?a.dispatch(B.default.report(C.MEDIA_SOURCE_CODECS_NOT_SUPPORTED,{message:b,stack:f})):"InvalidStateError"===d?a.dispatch(B.default.report(C.MEDIA_SOURCE_NOT_OPEN,{message:b,stack:f})):"NotSupportedError"===d?a.dispatch(B.default.report(C.MEDIA_SOURCE_CODECS_NOT_SUPPORTED,
{message:b,stack:f})):"QuotaExceededError"===d?a.dispatch(B.default.report(C.MEDIA_SOURCE_QUOTA_EXCEEDED,{message:b,stack:f})):a.dispatch(B.default.report(C.MEDIA_SOURCE_ERROR,{message:b,stack:f}))}).take(1).subscribe());r.push(a.stateObservable.filter(function(a){return!a.getIn(["cache",e,"isDynamic"])}).map(function(a){return n.default.getMediaReadyState(e,a)}).filter(function(a){return q.default.isOpen(a)}).filter(function(){return!a.getState().getIn(["media",e,"mediaSource","sourceBuffer","updating"])}).map(function(){var b=
a.getState(),d=b.getIn(["playback","bitrate"]);return b.getIn(["cache",e,"bitrates",d,"fragments",-1])}).filter(function(a){return a}).filter(function(b){b=b.get("endTime");var d=a.getState().getIn(["media",e,"ranges"]);return n.default.isFragmentInBufferedRanges(-1,b,d)}).subscribe(function(){a.dispatch(E.default.ended(e))}));r.push(a.stateObservable.map(function(a){return a.getIn(["cache",e])}).filter(function(a){return a.get("isDynamic")}).distinctUntilChanged(function(a){return a.get("dynamicTrackEnded")}).filter(function(a){return a.get("dynamicTrackEnded")}).subscribe(function(){a.dispatch(E.default.ended(e))}));
r.push(a.stateObservable.map(function(a){return n.default.getMediaReadyState(e,a)}).distinctUntilChanged().filter(function(a){return q.default.isEnded(a)}).do(function(){return g.endOfStream()}).subscribe(m,function(b){var d=b&&b.message,f=Error().stack;"InvalidAccessError"===(b&&b.name)?a.dispatch(B.default.report(C.MEDIA_SOURCE_STREAM_ENDED,{message:d,stack:f})):a.dispatch(B.default.report(C.MEDIA_SOURCE_ERROR,{message:d,stack:f}))}));r=r.concat(function(a,d){var f=[];a.dispatch(E.default[d.readyState](e));
f.push(b.Observable.fromEvent(d,"sourceopen").subscribe(function(){return a.dispatch(E.default.open(e))}));f.push(b.Observable.fromEvent(d,"sourceclose").subscribe(function(){return a.dispatch(E.default.closed(e))}));f.push(b.Observable.fromEvent(d,"error").subscribe(function(b){a.dispatch(B.default.report(C.MEDIA_SOURCE_ERROR,{error:b,stack:Error().stack}))}));f.push(b.Observable.just().delay(1E3).filter(function(){return q.default.isClosed(d.readyState)}).subscribe(function(){a.dispatch(B.default.report(C.MEDIA_SOURCE_UNOPENED,
{}))}));return f}(a,g,e));return{dispose:function(){p&&p.dispose();r.forEach(function(a){return a.dispose()});var b=a.getState();q.default.isClosed(n.default.getMediaReadyState(e,b))||a.dispatch(E.default.closed(e));URL.revokeObjectURL(h)},mediaSource:g,objectURL:h}}Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var f=g(d),b=a(23);d=a(181);var p=g(d);d=a(136);var n=g(d);d=a(182);var q=g(d);d=a(183);var r=g(d);d=a(180);var E=g(d);d=a(171);var B=g(d);d=a(189);var A=g(d),C=function(a){if(a&&
a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(169));h.default={createMediaSourceEngine:function(a,d){if("object"!==("undefined"===typeof a?"undefined":(0,f.default)(a)))throw Error("Expected the store to be an object.");if("string"!==typeof d)throw Error("Expected the trackId to be a string.");var g=void 0,h=[],q=p.default.propertyObservable(a.stateObservable,"playback","id").filter(function(a){return a}).filter(function(a){return a===
d}).flatMapLatest(function(){return a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","codecs"])}).map(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a===d}).distinctUntilChanged().skip(1)}),m=a.stateObservable.filter(function(a){return a.getIn(["cache",d])}).distinctUntilChanged(function(a){return a.getIn(["cache",d,"fragmented"])}),B=a.stateObservable.filter(function(a){return a.getIn(["cache",d])}).distinctUntilChanged(function(a){return a.getIn(["cache",
d,"url"])});h.push(b.Observable.merge(b.Observable.just(),B).filter(function(){return a.getState().getIn(["cache",d])}).filter(function(){return"mpd"!==a.getState().getIn(["cache",d,"extension"])}).subscribe(function(){var b=a.getState(),f=n.default.getTrack(d,b),b=b.getIn(["media",d,"audioEl"]);g=null;b.src=f.get("url");r.default.isChrome()&&!r.default.isLessThanVersion("58.0.3029.81")&&r.default.isLessThanVersion("59.0.3071.86")?b.preload="none":b.preload="auto"}));h.push(B.filter(function(){return a.getState().getIn(["playback",
"id"])===d}).filter(function(){return"mpd"!==a.getState().getIn(["cache",d,"extension"])}).subscribe(function(){var b=a.getState(),f=n.default.getTrack(d,b),e=b.getIn(["media",d,"audioEl"]),h=b.getIn(["playback","playing"]),q=b.getIn(["playback","stalled"]);g=null;e.src=f.get("url");e.currentTime=b.getIn(["playback","time"]);(h||q)&&e.play()}));h.push(b.Observable.merge(m,q).filter(function(){return a.getState().getIn(["cache",d])}).filter(function(){return"mpd"===a.getState().getIn(["cache",d,"extension"])}).subscribe(function(){var b=
a.getState(),f=n.default.getTrack(d,b).get("fragmented"),b=b.getIn(["media",d,"audioEl"]);g&&g.dispose&&g.dispose();f&&(g=e(a,b,d))}));return{dispose:function(){g&&g.dispose&&g.dispose();h.forEach(function(a){return a.dispose()})},_getMediaSource:function(){return g?g.mediaSource:null}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(a,b,d){return f.Observable.create(function(f){var e=d.take(1).subscribe(function(){f.onNext();f.onCompleted()});try{a.appendBuffer(b)}catch(g){f.onError(g)}return function(){return e.dispose()}})}
Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var e=g(d),f=a(23);d=a(136);var b=g(d);d=a(182);var p=g(d);d=a(141);var v=g(d);d=a(180);var q=g(d);d=a(171);var r=g(d),E=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(169));h.default={createSourceBufferEngine:function(a,d,g,h){function z(a){return a.flatMap(function(a){var e=a.getIn(["cache",d]);a=b.default.getTrackBitrate(d,a);return e.getIn(["bitrates",
a,"needsInitFragment"])&&(e=b.default.getInitFragment(e,a),e.get("data")&&!e.get("isBuffering"))?f.Observable.just(e):f.Observable.empty()})}function H(a){return a.flatMap(function(a){var e=a.getIn(["cache",d]),g=b.default.getTrackBitrate(d,a);if(!e.getIn(["bitrates",g,"needsInitFragment"])){var h=a.getIn(["media",d]),q=a.getIn(["playback","id"]),r=e.get("fragmentDuration"),g={fragments:b.default.getFragmentsForBitrate(e,g),lastBufferedIndex:h.get("lastBufferedIndex"),fragmentIndexOffset:e.get("fragmentIndexOffset")};
if(q===d)return g.time=a.getIn(["playback","time"]),g.ranges=h.get("ranges"),g.fragmentDuration=r,f.Observable.just(b.default.getCurrentNextFragmentToAppend(g));g.defaultStartIndex=e.get("isDynamic")?Math.floor(e.get("durationWithOffset")/r):0;return f.Observable.just(b.default.getNextFragmentToAppend(g))}return f.Observable.empty()})}if("object"!==("undefined"===typeof a?"undefined":(0,e.default)(a)))throw Error("Expected the store to be an object.");if("string"!==typeof d)throw Error("Expected the trackId to be a string.");
if("object"!==("undefined"===typeof g?"undefined":(0,e.default)(g)))throw Error("Expected the sourceBuffer to be an object.");if("object"!==("undefined"===typeof h?"undefined":(0,e.default)(h)))throw Error("Expected the mediaSource to be an object.");var x=function(a,e){var g=[],h=f.Observable.fromEvent(e,"error"),p=f.Observable.fromEvent(e,"updateend");g.push(h.subscribe(function(b){a.dispatch(r.default.report(E.SOURCE_BUFFER_ERROR,{error:b,stack:Error().stack}))}));var h=a.getState(),u=f.Observable.merge(f.Observable.just(h),
a.stateObservable),h=z(u),u=H(u),B=f.Observable.merge(h,u).pausableBuffered(new f.Subject),h=B.filter(function(){return!e.updating}).filter(function(a){return a&&!a.get("isBuffering")}).distinctUntilChanged(function(a){return a.get("url")}).flatMap(function(f){B.pause();var g=a.getState(),h=g.getIn(["cache",d]),g=b.default.getTrackBitrate(d,g);a.dispatch(q.default.appending(h,g,f));return m(e,f.get("data"),p).map(function(){return f}).retryWhen(function(a){return a.delay(5E3)})}).subscribe(function(f){var g=
a.getState(),h=g.getIn(["cache",d]),g=b.default.getTrackBitrate(d,g),p=v.default.bufferToRanges(e),m=b.default.getFragmentStartTime(f.get("data")),u=b.default.getFragmentEndTime(p);f.get("index")!==n&&-1===m&&a.dispatch(r.default.report(E.SEGMENT_INDEX_NOT_AVAILABLE));a.dispatch(q.default.rangesUpdated(d,p));a.dispatch(q.default.appended(h,g,f,m,u));B.resume()},function(b){var d=b&&b.message,f=Error().stack;"QuotaExceededError"===(b&&b.name)?a.dispatch(r.default.report(E.SOURCE_BUFFER_QUOTA_EXCEEDED,
{message:d,stack:f})):a.dispatch(r.default.report(E.SOURCE_BUFFER_ERROR,{message:d,stack:f}))});g.push(h);B.resume();return g}(a,g);return{dispose:function(){x.map(function(a){return a.dispose()});p.default.isOpen(h.readyState)&&g.abort();p.default.isClosed(h.readyState)||g.remove(0,Infinity)}}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(149);var m=g(d),e=a(23);d=a(181);var f=g(d);d=a(136);var b=g(d);d=a(141);var p=g(d);
d=a(182);var v=g(d);d=a(148);var q=g(d);d=a(168);var r=g(d);d=a(186);var E=g(d);a=a(180);var B=g(a);h.default={createCacheEngine:function(a){if("object"!==("undefined"===typeof a?"undefined":(0,m.default)(a)))throw Error("Expected the store to be an object.");var d=function(a){var d=[],g=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["network","online"])}).filter(function(a){return a.getIn(["network","online"])}),h=e.Observable.merge(a.stateObservable,g).filter(function(a){return a.getIn(["network",
"online"])}).distinctUntilChanged(function(a){return a.getIn(["cache","trackIds"])}).map(function(a){return a.getIn(["cache","trackIds"])}).flatMapLatest(function(b){var d=[];b.forEach(function(b){d.push(a.stateObservable.distinctUntilChanged(function(){return a.getState().getIn(["cache",b,"isRequestingManifest"])}).skip(1).filter(function(){return!a.getState().getIn(["cache",b,"isRequestingManifest"])}).distinctUntilChanged(function(){return a.getState().getIn(["cache",b,"manifest"])}).map(function(){return a.getState().getIn(["cache",
b])}))});return e.Observable.merge.apply(e.Observable,d)});d.push(f.default.propertyObservable(a.stateObservable,"cache","trackIds").subscribe(function(b){var d=a.getState().getIn(["config","cacheSize"]);if(b.size>d){var d=a.getState().getIn(["playback","id"]),f=b.first();d===f?a.dispatch(q.default.remove(b.get(1))):a.dispatch(q.default.remove(f))}}));d.push(e.Observable.merge(a.stateObservable,g).filter(function(a){return a.getIn(["network","online"])}).map(function(a){return a.getIn(["cache","trackIds"])}).subscribe(function(d){var f=
a.getState();if((d=f.getIn(["cache",d.last()]))&&d.get("fragmented")){var f=b.default.getBitrate(d,f.get("config")),e=b.default.getInitFragment(d,f);b.default.isFragmentRequestable(e)&&a.dispatch(E.default.fetchFragment(d,f,e))}}));d.push(e.Observable.merge(a.stateObservable,g).filter(function(a){return a.getIn(["network","online"])}).distinctUntilChanged(function(a){return a.get("cache")}).subscribe(function(d){var f=d.getIn(["cache","trackIds"]),e=d.getIn(["playback","id"]);f.map(function(f){var g=
d.getIn(["cache",f]);if(f!==e&&g&&g.get("fragmented")){var h=b.default.getBitrate(g,d.get("config"));if(!b.default.isRequestingAFragment(g,h)){f=d.getIn(["media",f,"ranges"]);var q=g.get("isDynamic")?g.get("suggestedPresentationDelay"):d.getIn(["config","secondsToPrefetch"]),q=b.default.getNextFragmentToFetch(g,h,f,0,q),r=g.get("fragmentDuration");b.default.isFragmentRequestable(q,r,f)&&a.dispatch(E.default.fetchFragment(g,h,q))}}return!0})}));d.push(f.default.propertyObservable(a.stateObservable,
"playback","id").scan(function(a,b){return{prev:a.curr,curr:b}},{curr:n}).map(function(a){return a.prev}).filter(function(a){return a}).subscribe(function(b){(b=a.getState().getIn(["cache",b]))&&b.get("fragmented")&&a.dispatch(q.default.reset(b.get("id")))}));d.push(e.Observable.interval(1E3).subscribe(function(){var d=a.getState(),f=b.default.getCurrentTrack(d);f&&f.get("isDynamic")&&!f.get("waitingServerTimeSync")&&v.default.isOpen(b.default.getMediaReadyState(f.get("id"),d))&&a.dispatch(q.default.checkAndUpdateDynamicTrack(f))}));
d.push(h.subscribe(function(b){a.dispatch(q.default.update(b))}));d.push(h.filter(function(a){return!a.get("isDynamic")}).filter(function(b){return b.get("id")===a.getState().getIn(["playback","id"])}).filter(function(b){var d=b.get("id"),d=a.getState().getIn(["media",d,"ranges"]);b=b.get("duration")+b.get("presentationTimeOffset");return p.default.getRange(d,b)}).flatMapLatest(function(d){return a.stateObservable.map(function(a){return b.default.getMediaReadyState(d.get("id"),a)}).filter(function(a){return v.default.isOpen(a)}).map(function(){return d.get("id")}).filter(function(b){return!a.getState().getIn(["media",
b,"mediaSource","sourceBuffer","updating"])})}).subscribe(function(b){a.dispatch(B.default.ended(b))}));d.push(e.Observable.merge(a.stateObservable,g).filter(function(a){return a.getIn(["network","online"])}).distinctUntilChanged(function(a){return a.getIn(["cache","trackIds"])}).map(function(a){return a.getIn(["cache","trackIds"])}).flatMapLatest(function(b){var d=[];b.forEach(function(b){d.push(a.stateObservable.distinctUntilChanged(function(){return a.getState().getIn(["cache",b,"waitingServerTimeSync"])}).filter(function(){return a.getState().getIn(["cache",
b,"waitingServerTimeSync"])}).map(function(){return a.getState().getIn(["cache",b])}))});return e.Observable.merge.apply(e.Observable,d)}).subscribe(function(b){b.get("isRequestingUTCTiming")||a.dispatch(r.default.getServerUTCTime(b))}));d.push(e.Observable.merge(a.stateObservable,g).filter(function(a){return a.getIn(["network","online"])}).distinctUntilChanged(function(a){return a.getIn(["cache","trackIds"])}).subscribe(function(b){b.getIn(["cache","trackIds"]).forEach(function(d){d=b.getIn(["cache",
d]);d.get("waitingServerTimeSync")&&!d.get("isRequestingUTCTiming")&&a.dispatch(r.default.getServerUTCTime(d))})}));d.push(e.Observable.merge(a.stateObservable).distinctUntilChanged(function(a){return a.getIn(["cache","trackIds"])}).map(function(a){return a.getIn(["cache","trackIds"])}).flatMapLatest(function(b){var d=[];b.forEach(function(b){d.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["cache",b,"serverTimeOffset"])}).filter(function(a){return!isNaN(a.getIn(["cache",
b,"serverTimeOffset"]))}).map(function(a){return a.getIn(["cache",b])}))});return e.Observable.merge.apply(e.Observable,d)}).subscribe(function(b){a.dispatch(q.default.checkAndUpdateDynamicTrack(b));a.dispatch(q.default.serverTimeSyncCompleted(b.get("id")))}));return d}(a);return{dispose:function(){d.map(function(a){return a.dispose()})}}}}},function(d,h,a){(function(d){function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});var e=a(137),f=m(e),e=a(149),
b=m(e),p=a(23),e=a(192),v=m(e);h.default={createNetworkEngine:function(a){if("object"!==("undefined"===typeof a?"undefined":(0,b.default)(a)))throw Error("Expected the store to be an object.");d.navigator.onLine?a.dispatch(v.default.online()):a.dispatch(v.default.offline());var e=function(a){var b=[],f=p.Observable.fromEvent(d,"online"),e=p.Observable.fromEvent(d,"offline");b.push(f.subscribe(function(){a.dispatch(v.default.online())}));b.push(e.subscribe(function(){a.dispatch(v.default.offline())}));
return b}(a);return{dispose:function(){var a=!0,b=!1,d=n;try{for(var g=(0,f.default)(e),h;!(a=(h=g.next()).done);a=!0)h.value.dispose()}catch(q){b=!0,d=q}finally{try{!a&&g.return&&g.return()}finally{if(b)throw d;}}}}}}}).call(h,function(){return this}())},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f]);d.default=a;return d}(a(51));h.default={online:function(){return{type:g.NETWORK_ONLINE}},
offline:function(){return{type:g.NETWORK_OFFLINE}}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(137);var m=g(d);d=a(149);var e=g(d),f=a(23);d=a(136);var b=g(d);d=a(168);var p=g(d),v=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b.default=a;return b}(a(194));h.default={createManifestEngine:function(a){if("object"!==("undefined"===typeof a?
"undefined":(0,e.default)(a)))throw Error("Expected the store to be an object.");var d=function(a){var d=[],e=a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["network","online"])}).filter(function(a){return a.getIn(["network","online"])});d.push(f.Observable.merge(a.stateObservable,e).filter(function(a){return a.getIn(["network","online"])}).distinctUntilChanged(function(a){return a.getIn(["media"])}).map(function(a){return a.getIn(["cache","trackIds"])}).flatMapLatest(function(b){var d=
[];b.forEach(function(b){d.push(a.stateObservable.distinctUntilChanged(function(){return a.getState().getIn(["media",b,"lastBufferedIndex"])}).filter(function(){return 0<=a.getState().getIn(["media",b,"lastBufferedIndex"])}).map(function(){return a.getState().getIn(["cache",b])}))});return f.Observable.merge.apply(f.Observable,d)}).subscribe(function(d){d&&d.get("fragmented")&&function(){var f=d.get("id"),e=a.getState().getIn(["media",f,"lastBufferedIndex"]);(f=(f=a.getState().getIn(["media",f,"lastBufferedData"]))&&
e!==d.get("lastIndexWithEMSG")?b.default.getEMSGEvents(d,f):null)&&f.forEach(function(b){b.schemeIdUri!==v.MPD_REFETCH_SCHEME||"1"!==b.value||d.get("isRequestingManifest")||a.dispatch(p.default.fetchManifest(d,e))})}()}));return d}(a);return{dispose:function(){var a=!0,b=!1,f=n;try{for(var e=(0,m.default)(d),g;!(a=(g=e.next()).done);a=!0)g.value.dispose()}catch(h){b=!0,f=h}finally{try{!a&&e.return&&e.return()}finally{if(b)throw f;}}}}}}},function(d,h){Object.defineProperty(h,"__esModule",{value:!0});
h.MPD_REFETCH_SCHEME="urn:mpeg:dash:event:2012"},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}function m(a){var d=document.body,g=p.default.createDebugPanel(),h=e.default.createPropertyWatcher(a,g);g.appendChild(p.default.createCloseDebugPanel());var m=b.default.createPlayerStatus(a,g),n=f.default.createStreamingStatus(a,g);d.insertBefore(g,d.firstChild);return{dispose:function(){h.dispose();m.dispose();n.dispose()}}}Object.defineProperty(h,"__esModule",{value:!0});d=a(196);
var e=g(d);d=a(198);var f=g(d);d=a(199);var b=g(d);a=a(197);var p=g(a);h.default={createDebugPanel:function(a){var b=m(a);document.querySelector("#closeDebugPanel").addEventListener("click",function(){b.dispose();document.body.removeChild(document.querySelector("#maestroDebugPannel"))});return{dispose:function(){return b.dispose()}}}}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(197))&&d.__esModule?d:{default:d};h.default={createPropertyWatcher:function(a,d){var f=
g.default.createPropertyWatcher();d.appendChild(f);var b=[];f.querySelector("button").addEventListener("click",function(){var d=f.querySelector("input").value.replace(/\s/g,"").split(","),e=document.querySelector(".propertyWatcher"),h=g.default.createElement("li",{innerHTML:d});e.appendChild(h);b.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(d)}).map(function(a){return a.getIn(d)}).subscribe(function(a){h.innerHTML=d+" is "+a}))});return{dispose:function(){b.map(function(a){return a.dispose()})}}}}},
function(d,h,a){function g(a,d){return(0,m.default)(document.createElement(a),d)}Object.defineProperty(h,"__esModule",{value:!0});var m=(d=a(120))&&d.__esModule?d:{default:d};h.default={createElement:g,createDebugPanel:function(){return g("div",{id:"maestroDebugPannel"})},createPlayerStatus:function(){var a=g("div",{className:"playerStatus"});["bitrate","bufferRange","lastBufferedIndex","numOfAvailableSegments"].forEach(function(d){a.appendChild(g("li",{id:d,innerHTML:d}))});return a},createStreamingStatus:function(){var a=
g("div",{className:"streamingStatus"}),d=g("div",{innerHTML:" blue - appended, green - appending, yellow - waiting for appending, orange - requesting, red - waiting for requesting  "});a.appendChild(d);a.style.marginBottom="10px";a.style.height="100px";return a},createPropertyWatcher:function(){var a=g("span",{className:"propertyWatcher"});a.appendChild(g("input",{id:"keyPath"}));a.appendChild(g("button",{innerHTML:"submit"}));a.appendChild(g("span",{innerHTML:" for example: playback "}));return a},
createCloseDebugPanel:function(){var a=g("span",{id:"closeDebugPanel",innerHTML:"&#10006;"});a.style.right="20px";a.style.position="absolute";return a}}},function(d,h,a){function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(h,"__esModule",{value:!0});d=a(197);var m=g(d);d=a(136);var e=g(d),f=a(23);a=a(146);var b=g(a);h.default={createStreamingStatus:function(a,d){function g(a,b,d){return a.stateObservable.map(function(a){return e.default.getTrack(b,a)}).filter(function(a){return a}).flatMap(function(f){var e=
["cache",b,"bitrates",d];return a.stateObservable.distinctUntilChanged(function(a){return a.getIn(e)}).filter(function(a){return a.getIn(e)}).map(function(a){return{fragmentDuration:a.getIn(["cache",b,"fragmentDuration"]),fragments:a.getIn(e).get("fragments"),bitrate:d,ranges:a.getIn(["media",b,"ranges"])}})})}function h(a,b,d,f){a.forEach(function(a){a=a.toJS();var b=document.getElementById(f+"_"+a.index);if(b){var g=void 0,g=e.default.isFragmentInBufferedRanges(a.startTime,a.endTime,d)?"blue":a.data&&
a.isBuffering?"green":a.data&&!a.isBuffering?"yellow":a.isRequesting?"orange":"red";b.style.backgroundColor=g}})}var n=[];n.push(a.stateObservable.distinctUntilChanged(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a.getIn(["playback","id"])}).map(function(a){return e.default.getCurrentTrack(a)}).filter(function(a){return a&&a.get("fragmented")&&!a.get("isDynamic")}).subscribe(function(a){var f=document.querySelector(".streamingStatus");f&&d.removeChild(f);var e=Math.min(a.get("numOfAvailableSegments"),
500),f=m.default.createStreamingStatus();a.get("bitrateList").forEach(function(a){for(var d=0;d<e;){var g=m.default.createElement("canvas",{id:a+"_"+d});g.style.width=b.default.floorDecimal(100/e,2)+"%";g.style.height="20%";g.style.float="left";f.appendChild(g);d++}f.appendChild(m.default.createElement("br"))});d.appendChild(f)}));n.push(a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).map(function(a){return e.default.getCurrentTrack(a)}).distinctUntilChanged(function(a){return a&&
a.get("fragmented")&&a.get("isDynamic")}).filter(function(a){return a&&a.get("fragmented")&&a.get("isDynamic")}).subscribe(function(a){var f=document.querySelector(".streamingStatus");f&&d.removeChild(f);var e=a.get("numOfAvailableSegments"),f=m.default.createStreamingStatus();a.get("bitrateList").forEach(function(a){for(var d=e;d<e+50;){var g=m.default.createElement("canvas",{id:a+"_"+d});g.style.width=b.default.floorDecimal(2,2)+"%";g.style.height="20%";g.style.float="left";f.appendChild(g);d++}f.appendChild(m.default.createElement("br"))});
d.appendChild(f)}));n.push(a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return(a=e.default.getCurrentTrack(a))&&a.get("fragmented")}).map(function(a){return a.getIn(["playback","id"])}).distinctUntilChanged().flatMapLatest(function(b){var d=[];e.default.getTrack(b,a.getState()).get("bitrateList").forEach(function(f){d.push(g(a,b,f))});return f.Observable.merge.apply(f.Observable,d)}).subscribe(function(a){h(a.fragments,a.fragmentDuration,a.ranges,a.bitrate)}));
return{dispose:function(){n.map(function(a){return a.dispose()})}}}}},function(d,h,a){Object.defineProperty(h,"__esModule",{value:!0});var g=(d=a(197))&&d.__esModule?d:{default:d},m=(a=a(136))&&a.__esModule?a:{default:a};h.default={createPlayerStatus:function(a,d){function b(b){return a.stateObservable.filter(function(a){return a.getIn(["playback","id"])}).filter(function(a){return(a=m.default.getCurrentTrack(a))&&a.get("fragmented")}).map(function(a){return a.getIn(b)}).filter(function(a){return a}).distinctUntilChanged()}
var h=g.default.createPlayerStatus(),n=[];d.appendChild(h);n.push(a.stateObservable.map(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a}).distinctUntilChanged().flatMap(function(a){return b(["media",a,"lastBufferedIndex"])}).subscribe(function(a){h.querySelector("#lastBufferedIndex").innerHTML="lastBufferedIndex is "+a}));n.push(a.stateObservable.map(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a}).distinctUntilChanged().flatMap(function(a){return b(["media",
a,"ranges"])}).subscribe(function(a){var b=h.querySelector("#bufferRange"),d="bufferRange: ";a.forEach(function(a){d+=a.get(0)+" to "+a.get(1)+" "});b.innerHTML=d}));n.push(a.stateObservable.map(function(a){return a.getIn(["playback","id"])}).filter(function(a){return a}).distinctUntilChanged().flatMap(function(a){return b(["cache",a,"numOfAvailableSegments"])}).subscribe(function(a){h.querySelector("#numOfAvailableSegments").innerHTML="numOfAvailableSegments is "+a}));n.push(b(["playback","bitrate"]).subscribe(function(a){h.querySelector("#bitrate").innerHTML=
"bitrate is "+a}));return{dispose:function(){n.map(function(a){return a.dispose()})}}}}},function(d,h,a){a(201);a(221);a(247);a(251);d.exports=a(220).Promise},function(d,h,a){var g=a(202);d={};d[a(204)("toStringTag")]="z";"[object z]"!=d+""&&a(208)(Object.prototype,"toString",function(){return"[object "+g(this)+"]"},!0)},function(d,h,a){var g=a(203),m=a(204)("toStringTag"),e="Arguments"==g(function(){return arguments}());d.exports=function(a){var b,d;if(a===n)b="Undefined";else{var h;if(null===a)h=
"Null";else{a:{var q=a=Object(a);try{h=q[m];break a}catch(r){}h=void 0}h="string"==typeof(b=h)?b:e?g(a):"Object"==(d=g(a))&&"function"==typeof a.callee?"Arguments":d}b=h}return b}},function(d,h){var a={}.toString;d.exports=function(d){return a.call(d).slice(8,-1)}},function(d,h,a){var g=a(205)("wks"),m=a(207),e=a(206).Symbol,f="function"==typeof e;(d.exports=function(a){return g[a]||(g[a]=f&&e[a]||(f?e:m)("Symbol."+a))}).store=g},function(d,h,a){h=a(206);var g=h["__core-js_shared__"]||(h["__core-js_shared__"]=
{});d.exports=function(a){return g[a]||(g[a]={})}},function(d,h){var a=d.exports="undefined"!=typeof ea&&ea.Math==Math?ea:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(d,h){var a=0,g=Math.random();d.exports=function(d){return"Symbol(".concat(d===n?"":d,")_",(++a+g).toString(36))}},function(d,h,a){var g=a(206),m=a(209),e=a(219),f=a(207)("src"),b=Function.toString,p=(""+b).split("toString");a(220).inspectSource=function(a){return b.call(a)};
(d.exports=function(a,b,d,h){var n="function"==typeof d;n&&(e(d,"name")||m(d,"name",b));a[b]!==d&&(n&&(e(d,f)||m(d,f,a[b]?""+a[b]:p.join(String(b)))),a===g?a[b]=d:h?a[b]?a[b]=d:m(a,b,d):(delete a[b],m(a,b,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[f]||b.call(this)})},function(d,h,a){var g=a(210),m=a(218);d.exports=a(214)?function(a,d,b){return g.f(a,d,m(1,b))}:function(a,d,b){a[d]=b;return a}},function(d,h,a){var g=a(211),m=a(213),e=a(217),f=Object.defineProperty;
h.f=a(214)?Object.defineProperty:function(a,d,h){g(a);d=e(d,!0);g(h);if(m)try{return f(a,d,h)}catch(q){}if("get"in h||"set"in h)throw TypeError("Accessors not supported!");"value"in h&&(a[d]=h.value);return a}},function(d,h,a){var g=a(212);d.exports=function(a){if(!g(a))throw TypeError(a+" is not an object!");return a}},function(d,h){d.exports=function(a){return"object"===typeof a?null!==a:"function"===typeof a}},function(d,h,a){d.exports=!a(214)&&!a(215)(function(){return 7!=Object.defineProperty(a(216)("div"),
"a",{get:function(){return 7}}).a})},function(d,h,a){d.exports=!a(215)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d,h){d.exports=function(a){try{return!!a()}catch(d){return!0}}},function(d,h,a){h=a(212);var g=a(206).document,m=h(g)&&h(g.createElement);d.exports=function(a){return m?g.createElement(a):{}}},function(d,h,a){var g=a(212);d.exports=function(a,d){if(!g(a))return a;var f,b;if(d&&"function"==typeof(f=a.toString)&&!g(b=f.call(a))||"function"==
typeof(f=a.valueOf)&&!g(b=f.call(a))||!d&&"function"==typeof(f=a.toString)&&!g(b=f.call(a)))return b;throw TypeError("Can't convert object to primitive value");}},function(d,h){d.exports=function(a,d){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:d}}},function(d,h){var a={}.hasOwnProperty;d.exports=function(d,h){return a.call(d,h)}},function(d,h){var a=d.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},function(d,h,a){var g=a(222)(!0);a(225)(String,"String",function(a){this._t=
String(a);this._i=0},function(){var a=this._t,d=this._i;if(d>=a.length)return{value:n,done:!0};a=g(a,d);this._i+=a.length;return{value:a,done:!1}})},function(d,h,a){var g=a(223),m=a(224);d.exports=function(a){return function(d,b){var h=String(m(d)),v=g(b),q=h.length,r,E;if(0>v||v>=q)return a?"":n;r=h.charCodeAt(v);return 55296>r||56319<r||v+1===q||56320>(E=h.charCodeAt(v+1))||57343<E?a?h.charAt(v):r:a?h.slice(v,v+2):(r-55296<<10)+(E-56320)+65536}}},function(d,h){var a=Math.ceil,g=Math.floor;d.exports=
function(d){return isNaN(d=+d)?0:(0<d?g:a)(d)}},function(d,h){d.exports=function(a){if(a==n)throw TypeError("Can't call method on  "+a);return a}},function(d,h,a){var g=a(226),m=a(227),e=a(208),f=a(209),b=a(219),p=a(230),v=a(231),q=a(244),r=a(245),E=a(204)("iterator"),B=!([].keys&&"next"in[].keys()),A=function(){return this};d.exports=function(a,d,h,H,x,I,G){v(h,d,H);H=function(a){return!B&&a in V?V[a]:function(){return new h(this,a)}};var L=d+" Iterator",F="values"==x,O=!1,V=a.prototype,T=V[E]||
V["@@iterator"]||x&&V[x],W=T||H(x),pa=x?F?H("entries"):W:n,R="Array"==d?V.entries||T:T,Y,ba;R&&(a=r(R.call(new a)),a!==Object.prototype&&(q(a,L,!0),g||b(a,E)||f(a,E,A)));F&&T&&"values"!==T.name&&(O=!0,W=function(){return T.call(this)});g&&!G||!B&&!O&&V[E]||f(V,E,W);p[d]=W;p[L]=A;if(x)if(Y={values:F?W:H("values"),keys:I?W:H("keys"),entries:pa},G)for(ba in Y)ba in V||e(V,ba,Y[ba]);else m(m.P+m.F*(B||O),d,Y);return Y}},function(d,h){d.exports=!1},function(d,h,a){var g=a(206),m=a(220),e=a(209),f=a(208),
b=a(228),p=function(a,d,h){var E=a&p.F,B=a&p.G,A=a&p.S,C=a&p.P,u=a&p.B,A=B?g:A?g[d]||(g[d]={}):(g[d]||{}).prototype,z=B?m:m[d]||(m[d]={}),H=z.prototype||(z.prototype={}),x;B&&(h=d);for(x in h)B=!E&&A&&A[x]!==n,d=(B?A:h)[x],B=u&&B?b(d,g):C&&"function"==typeof d?b(Function.call,d):d,A&&f(A,x,d,a&p.U),z[x]!=d&&e(z,x,B),C&&H[x]!=d&&(H[x]=d)};g.core=m;p.F=1;p.G=2;p.S=4;p.P=8;p.B=16;p.W=32;p.U=64;p.R=128;d.exports=p},function(d,h,a){var g=a(229);d.exports=function(a,d,f){g(a);if(d===n)return a;switch(f){case 1:return function(b){return a.call(d,
b)};case 2:return function(b,f){return a.call(d,b,f)};case 3:return function(b,f,g){return a.call(d,b,f,g)}}return function(){return a.apply(d,arguments)}}},function(d,h){d.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(d,h){d.exports={}},function(d,h,a){var g=a(232),m=a(218),e=a(244),f={};a(209)(f,a(204)("iterator"),function(){return this});d.exports=function(a,d,h){a.prototype=g(f,{next:m(1,h)});e(a,d+" Iterator")}},function(d,h,a){var g=
a(211),m=a(233),e=a(242),f=a(241)("IE_PROTO"),b=function(){},p=function(){var b=a(216)("iframe"),d=e.length;b.style.display="none";a(243).appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object\x3c/script>");b.close();for(p=b.F;d--;)delete p.prototype[e[d]];return p()};d.exports=Object.create||function(a,d){var e;null!==a?(b.prototype=g(a),e=new b,b.prototype=null,e[f]=a):e=p();return d===n?e:m(e,d)}},function(d,h,a){var g=a(210),m=a(211),e=a(234);
d.exports=a(214)?Object.defineProperties:function(a,b){m(a);for(var d=e(b),h=d.length,q=0,r;h>q;)g.f(a,r=d[q++],b[r]);return a}},function(d,h,a){var g=a(235),m=a(242);d.exports=Object.keys||function(a){return g(a,m)}},function(d,h,a){var g=a(219),m=a(236),e=a(238)(!1),f=a(241)("IE_PROTO");d.exports=function(a,d){var h=m(a),q=0,r=[],n;for(n in h)n!=f&&g(h,n)&&r.push(n);for(;d.length>q;)g(h,n=d[q++])&&(~e(r,n)||r.push(n));return r}},function(d,h,a){var g=a(237),m=a(224);d.exports=function(a){return g(m(a))}},
function(d,h,a){var g=a(203);d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==g(a)?a.split(""):Object(a)}},function(d,h,a){var g=a(236),m=a(239),e=a(240);d.exports=function(a){return function(b,d,h){b=g(b);var q=m(b.length);h=e(h,q);if(a&&d!=d)for(;q>h;){if(d=b[h++],d!=d)return!0}else for(;q>h;h++)if((a||h in b)&&b[h]===d)return a||h||0;return!a&&-1}}},function(d,h,a){var g=a(223),m=Math.min;d.exports=function(a){return 0<a?m(g(a),9007199254740991):0}},function(d,h,
a){var g=a(223),m=Math.max,e=Math.min;d.exports=function(a,b){a=g(a);return 0>a?m(a+b,0):e(a,b)}},function(d,h,a){var g=a(205)("keys"),m=a(207);d.exports=function(a){return g[a]||(g[a]=m(a))}},function(d,h){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(d,h,a){d.exports=a(206).document&&document.documentElement},function(d,h,a){var g=a(210).f,m=a(219),e=a(204)("toStringTag");d.exports=function(a,b,d){a&&!m(a=d?a:a.prototype,
e)&&g(a,e,{configurable:!0,value:b})}},function(d,h,a){var g=a(219),m=a(246),e=a(241)("IE_PROTO"),f=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=m(a);return g(a,e)?a[e]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?f:null}},function(d,h,a){var g=a(224);d.exports=function(a){return Object(g(a))}},function(d,h,a){d=a(248);h=a(208);var g=a(206),m=a(209),e=a(230),f=a(204);a=f("iterator");for(var f=f("toStringTag"),b=e.Array,
p=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;5>n;n++){var q=p[n],r=g[q],r=r&&r.prototype,E;if(r)for(E in r[a]||m(r,a,b),r[f]||m(r,f,q),e[q]=b,d)r[E]||h(r,E,d[E],!0)}},function(d,h,a){h=a(249);var g=a(250),m=a(230),e=a(236);d.exports=a(225)(Array,"Array",function(a,b){this._t=e(a);this._i=0;this._k=b},function(){var a=this._t,b=this._k,d=this._i++;return!a||d>=a.length?(this._t=n,g(1)):"keys"==b?g(0,d):"values"==b?g(0,a[d]):g(0,[d,a[d]])},"values");m.Arguments=m.Array;
h("keys");h("values");h("entries")},function(d,h,a){var g=a(204)("unscopables"),m=Array.prototype;m[g]==n&&a(209)(m,g,{});d.exports=function(a){m[g][a]=!0}},function(d,h){d.exports=function(a,d){return{value:d,done:!!a}}},function(d,h,a){d=a(226);var g=a(206),m=a(228),e=a(202);h=a(227);var f=a(212),b=a(229),p=a(252),v=a(253),q=a(257),r=a(258).set,E=a(260)(),B=g.TypeError,A=g.process,C=g.Promise,A=g.process,u="process"==e(A),z=function(){},H,x,I,e=!!function(){try{var b=C.resolve(1),d=(b.constructor=
{})[a(204)("species")]=function(a){a(z,z)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(z)instanceof d}catch(f){}}(),G=function(a){var b;return f(a)&&"function"==typeof(b=a.then)?b:!1},L=function(a){return C===a||C===C&&a===I?new F(a):new x(a)},F=x=function(a){var d,f;this.promise=new a(function(a,b){if(d!==n||f!==n)throw B("Bad Promise constructor");d=a;f=b});this.resolve=b(d);this.reject=b(f)},O=function(a){try{a()}catch(b){return{error:b}}},V=function(a,b){if(!a._n){a._n=!0;var d=
a._c;E(function(){for(var f=a._v,e=1==a._s,g=0;d.length>g;){var h=d[g++],q=e?h.ok:h.fail,r=h.resolve,p=h.reject,n=h.domain,m=void 0,u=void 0;try{q?(e||(2==a._h&&pa(a),a._h=1),!0===q?m=f:(n&&n.enter(),m=q(f),n&&n.exit()),m===h.promise?p(B("Promise-chain cycle")):(u=G(m))?u.call(m,r,p):r(m)):p(f)}catch(x){p(x)}}a._c=[];a._n=!1;b&&!a._h&&T(a)})}},T=function(a){r.call(g,function(){var b=a._v,d,f,e;W(a)&&(d=O(function(){u?A.emit("unhandledRejection",b,a):(f=g.onunhandledrejection)?f({promise:a,reason:b}):
(e=g.console)&&e.error&&e.error("Unhandled promise rejection",b)}),a._h=u||W(a)?2:1);a._a=n;if(d)throw d.error;})},W=function(a){if(1==a._h)return!1;a=a._a||a._c;for(var b=0,d;a.length>b;)if(d=a[b++],d.fail||!W(d.promise))return!1;return!0},pa=function(a){r.call(g,function(){var b;u?A.emit("rejectionHandled",a):(b=g.onrejectionhandled)&&b({promise:a,reason:a._v})})},R=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),V(b,!0))},Y=function(a){var b=this,d;if(!b._d){b._d=
!0;b=b._w||b;try{if(b===a)throw B("Promise can't be resolved itself");(d=G(a))?E(function(){var f={_w:b,_d:!1};try{d.call(a,m(Y,f,1),m(R,f,1))}catch(e){R.call(f,e)}}):(b._v=a,b._s=1,V(b,!1))}catch(f){R.call({_w:b,_d:!1},f)}}};e||(C=function(a){p(this,C,"Promise","_h");b(a);H.call(this);try{a(m(Y,this,1),m(R,this,1))}catch(d){R.call(this,d)}},H=function(a){this._c=[];this._a=n;this._s=0;this._d=!1;this._v=n;this._h=0;this._n=!1},H.prototype=a(261)(C.prototype,{then:function(a,b){var d=L(q(this,C));
d.ok="function"==typeof a?a:!0;d.fail="function"==typeof b&&b;d.domain=u?A.domain:n;this._c.push(d);this._a&&this._a.push(d);this._s&&V(this,!1);return d.promise},"catch":function(a){return this.then(n,a)}}),F=function(){var a=new H;this.promise=a;this.resolve=m(Y,a,1);this.reject=m(R,a,1)});h(h.G+h.W+h.F*!e,{Promise:C});a(244)(C,"Promise");a(262)("Promise");I=a(220).Promise;h(h.S+h.F*!e,"Promise",{reject:function(a){var b=L(this),d=b.reject;d(a);return b.promise}});h(h.S+h.F*(d||!e),"Promise",{resolve:function(a){var b;
if(b=a instanceof C)b=a.constructor,b=b===this||b===C&&this===I;if(b)return a;b=L(this);var d=b.resolve;d(a);return b.promise}});h(h.S+h.F*!(e&&a(263)(function(a){C.all(a)["catch"](z)})),"Promise",{all:function(a){var b=this,d=L(b),f=d.resolve,e=d.reject,g=O(function(){var d=[],g=0,h=1;v(a,!1,function(a){var q=g++,r=!1;d.push(n);h++;b.resolve(a).then(function(a){r||(r=!0,d[q]=a,--h||f(d))},e)});--h||f(d)});g&&e(g.error);return d.promise},race:function(a){var b=this,d=L(b),f=d.reject,e=O(function(){v(a,
!1,function(a){b.resolve(a).then(d.resolve,f)})});e&&f(e.error);return d.promise}})},function(d,h){d.exports=function(a,d,h,e){if(!(a instanceof d)||e!==n&&e in a)throw TypeError(h+": incorrect invocation!");return a}},function(d,h,a){var g=a(228),n=a(254),e=a(255),f=a(211),b=a(239),p=a(256),v={},q={};h=d.exports=function(a,d,h,A,C){C=C?function(){return a}:p(a);h=g(h,A,d?2:1);A=0;var u,z;if("function"!=typeof C)throw TypeError(a+" is not iterable!");if(e(C))for(u=b(a.length);u>A;A++){if(C=d?h(f(z=
a[A])[0],z[1]):h(a[A]),C===v||C===q)return C}else for(A=C.call(a);!(z=A.next()).done;)if(C=n(A,h,z.value,d),C===v||C===q)return C};h.BREAK=v;h.RETURN=q},function(d,h,a){var g=a(211);d.exports=function(a,d,f,b){try{return b?d(g(f)[0],f[1]):d(f)}catch(h){throw d=a["return"],d!==n&&g(d.call(a)),h;}}},function(d,h,a){var g=a(230),m=a(204)("iterator"),e=Array.prototype;d.exports=function(a){return a!==n&&(g.Array===a||e[m]===a)}},function(d,h,a){var g=a(202),m=a(204)("iterator"),e=a(230);d.exports=a(220).getIteratorMethod=
function(a){if(a!=n)return a[m]||a["@@iterator"]||e[g(a)]}},function(d,h,a){var g=a(211),m=a(229),e=a(204)("species");d.exports=function(a,b){var d=g(a).constructor,h;return d===n||(h=g(d)[e])==n?b:m(h)}},function(d,h,a){var g=a(228),n=a(259),e=a(243),f=a(216),b=a(206),p=b.process;h=b.setImmediate;var v=b.clearImmediate,q=b.MessageChannel,r=0,E={},B,A=function(){var a=+this;if(E.hasOwnProperty(a)){var b=E[a];delete E[a];b()}},C=function(a){A.call(a.data)};h&&v||(h=function(a){for(var b=[],d=1;arguments.length>
d;)b.push(arguments[d++]);E[++r]=function(){n("function"==typeof a?a:Function(a),b)};B(r);return r},v=function(a){delete E[a]},"process"==a(203)(p)?B=function(a){p.nextTick(g(A,a,1))}:q?(a=new q,q=a.port2,a.port1.onmessage=C,B=g(q.postMessage,q,1)):b.addEventListener&&"function"==typeof postMessage&&!b.importScripts?(B=function(a){b.postMessage(a+"","*")},b.addEventListener("message",C,!1)):B="onreadystatechange"in f("script")?function(a){e.appendChild(f("script")).onreadystatechange=function(){e.removeChild(this);
A.call(a)}}:function(a){setTimeout(g(A,a,1),0)});d.exports={set:h,clear:v}},function(d,h){d.exports=function(a,d,h){var e=h===n;switch(d.length){case 0:return e?a():a.call(h);case 1:return e?a(d[0]):a.call(h,d[0]);case 2:return e?a(d[0],d[1]):a.call(h,d[0],d[1]);case 3:return e?a(d[0],d[1],d[2]):a.call(h,d[0],d[1],d[2]);case 4:return e?a(d[0],d[1],d[2],d[3]):a.call(h,d[0],d[1],d[2],d[3])}return a.apply(h,d)}},function(d,h,a){var g=a(206),m=a(258).set,e=g.MutationObserver||g.WebKitMutationObserver,
f=g.process,b=g.Promise,p="process"==a(203)(f);d.exports=function(){var a,d,h,E=function(){var b,e;for(p&&(b=f.domain)&&b.exit();a;){e=a.fn;a=a.next;try{e()}catch(g){throw a?h():d=n,g;}}d=n;b&&b.enter()};if(p)h=function(){f.nextTick(E)};else if(e){var B=!0,A=document.createTextNode("");(new e(E)).observe(A,{characterData:!0});h=function(){A.data=B=!B}}else if(b&&b.resolve){var C=b.resolve();h=function(){C.then(E)}}else h=function(){m.call(g,E)};return function(b){b={fn:b,next:n};d&&(d.next=b);a||
(a=b,h());d=b}}},function(d,h,a){var g=a(208);d.exports=function(a,d,f){for(var b in d)g(a,b,d[b],f);return a}},function(d,h,a){var g=a(206),n=a(210),e=a(214),f=a(204)("species");d.exports=function(a){a=g[a];e&&a&&!a[f]&&n.f(a,f,{configurable:!0,get:function(){return this}})}},function(d,h,a){var g=a(204)("iterator"),n=!1;try{var e=[7][g]();e["return"]=function(){n=!0};Array.from(e,function(){throw 2;})}catch(f){}d.exports=function(a,d){if(!d&&!n)return!1;var f=!1;try{var e=[7],h=e[g]();h.next=function(){return{done:f=
!0}};e[g]=function(){return h};a(e)}catch(E){}return f}},function(d,h,a){(function(a,h,e){!function(a){d.exports=a()}(function(){return function b(a,d,e){function g(n,m){if(!d[n]){if(!a[n]){var B="function"==typeof _dereq_&&_dereq_;if(!m&&B)return B(n,!0);if(h)return h(n,!0);B=Error("Cannot find module '"+n+"'");throw B.code="MODULE_NOT_FOUND",B;}B=d[n]={exports:{}};a[n][0].call(B.exports,function(b){var d=a[n][1][b];return g(d?d:b)},B,B.exports,b,a,d,e)}return d[n].exports}for(var h="function"==
typeof _dereq_&&_dereq_,n=0;n<e.length;n++)g(e[n]);return g}({1:[function(a,d,e){d.exports=function(a){function b(a){a=new d(a);var e=a.promise();a.setHowMany(1);a.setUnwrap();a.init();return e}var d=a._SomePromiseArray;a.any=function(a){return b(a)};a.prototype.any=function(){return b(this)}}},{}],2:[function(b,d,e){function h(){this._isTickUsed=this._customScheduler=!1;this._lateQueue=new u(16);this._normalQueue=new u(16);this._haveDrainedQueues=!1;this._trampolineEnabled=!0;var a=this;this.drainQueues=
function(){a._drainQueues()};this._schedule=C}function r(a,b,d){this._lateQueue.push(a,b,d);this._queueTick()}function n(a,b,d){this._normalQueue.push(a,b,d);this._queueTick()}function m(a){this._normalQueue._pushOne(a);this._queueTick()}try{throw Error();}catch(A){e=A}var C=b("./schedule"),u=b("./queue"),z=b("./util");h.prototype.setScheduler=function(a){var b=this._schedule;this._schedule=a;this._customScheduler=!0;return b};h.prototype.hasCustomScheduler=function(){return this._customScheduler};
h.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};h.prototype.disableTrampolineIfNecessary=function(){z.hasDevTools&&(this._trampolineEnabled=!1)};h.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};h.prototype.fatalError=function(b,d){d?(a.stderr.write("Fatal "+(b instanceof Error?b.stack:b)+"\n"),a.exit(2)):this.throwLater(b)};h.prototype.throwLater=function(a,b){1===arguments.length&&(b=a,a=function(){throw b;});if("undefined"!==typeof setTimeout)setTimeout(function(){a(b)},
0);else try{this._schedule(function(){a(b)})}catch(d){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");}};z.hasDevTools?(h.prototype.invokeLater=function(a,b,d){this._trampolineEnabled?r.call(this,a,b,d):this._schedule(function(){setTimeout(function(){a.call(b,d)},100)})},h.prototype.invoke=function(a,b,d){this._trampolineEnabled?n.call(this,a,b,d):this._schedule(function(){a.call(b,d)})},h.prototype.settlePromises=function(a){this._trampolineEnabled?m.call(this,a):this._schedule(function(){a._settlePromises()})}):
(h.prototype.invokeLater=r,h.prototype.invoke=n,h.prototype.settlePromises=m);h.prototype._drainQueue=function(a){for(;0<a.length();){var b=a.shift();if("function"!==typeof b)b._settlePromises();else{var d=a.shift(),e=a.shift();b.call(d,e)}}};h.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=!0;this._drainQueue(this._lateQueue)};h.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};h.prototype._reset=
function(){this._isTickUsed=!1};d.exports=h;d.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(a,d,e){d.exports=function(a,b,d,e){var g=!1,h=function(a,b){this._reject(b)},p=function(a,b){b.promiseRejectionQueued=!0;b.bindingPromise._then(h,h,null,this,a)},m=function(a,b){0===(this._bitField&50397184)&&this._resolveCallback(b.target)},H=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(h){g||(g=!0,a.prototype._propagateFrom=e.propagateFromFunction(),
a.prototype._boundValue=e.boundValueFunction());h=d(h);var C=new a(b);C._propagateFrom(this,1);var v=this._target();C._setBoundTo(h);if(h instanceof a){var L={promiseRejectionQueued:!1,promise:C,target:v,bindingPromise:h};v._then(b,p,n,C,L);h._then(m,H,n,C,L);C._setOnCancel(h)}else C._resolveCallback(v);return C};a.prototype._setBoundTo=function(a){a!==n?(this._bitField|=2097152,this._boundTo=a):this._bitField&=-2097153};a.prototype._isBound=function(){return 2097152===(this._bitField&2097152)};a.bind=
function(b,d){return a.resolve(d).bind(b)}}},{}],4:[function(a,d,e){var g;"undefined"!==typeof Promise&&(g=Promise);var h=a("./promise")();h.noConflict=function(){try{Promise===h&&(Promise=g)}catch(a){}return h};d.exports=h},{"./promise":22}],5:[function(a,d,e){var g=Object.create;g&&(e=g(null),g=g(null),e[" size"]=g[" size"]=0);d.exports=function(d){function e(a){var b=this.pop(),g;null!=a&&(g=a[b]);if("function"!==typeof g)throw a="Object "+q.classString(a)+" has no method '"+q.toString(b)+"'",
new d.TypeError(a);return g.apply(a,this)}function g(a){return a[this]}function h(a){var b=+this;0>b&&(b=Math.max(0,b+a.length));return a[b]}var q=a("./util"),p=q.canEvaluate;d.prototype.call=function(a){var b=[].slice.call(arguments,1);b.push(a);return this._then(e,n,n,b,n)};d.prototype.get=function(a){var b;"number"!==typeof a?p?(b=(void 0)(a),b=null!==b?b:g):b=g:b=h;return this._then(b,n,n,a,n)}}},{"./util":36}],6:[function(a,d,e){d.exports=function(d,e,g,h){var p=a("./util"),m=p.tryCatch,u=p.errorObj,
z=d._async;d.prototype["break"]=d.prototype.cancel=function(){if(!h.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a._isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var d=a._cancellationParent;if(null!=d&&d._isCancellable())a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),b=a,a=d;else{a._isFollowing()?a._followee().cancel():a._cancelBranched();break}}};d.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};
d.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===n||0>=this._branchesRemainingToCancel};d.prototype._cancelBy=function(a){if(a===this)return this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0;this._branchHasCancelled();return this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1};d.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()};d.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),
z.invoke(this._cancelPromises,this,n))};d.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()};d.prototype._unsetOnCancel=function(){this._onCancelField=n};d.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};d.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};d.prototype._doInvokeOnCancel=function(a,b){if(p.isArray(a))for(var d=0;d<a.length;++d)this._doInvokeOnCancel(a[d],b);else a!==n&&("function"===typeof a?
b||(d=m(a).call(this._boundValue()),d===u&&(this._attachExtraTrace(d.e),z.throwLater(d.e))):a._resultCancelled(this))};d.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel();z.invoke(this._doInvokeOnCancel,this,a)};d.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())};d.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,d,e){d.exports=function(d){var e=
a("./util"),g=a("./es5").keys,h=e.tryCatch,n=e.errorObj;return function(a,b,p){return function(m){var x=p._boundValue(),v=0;a:for(;v<a.length;++v){var G=a[v];if(G===Error||null!=G&&G.prototype instanceof Error){if(m instanceof G)return h(b).call(x,m)}else if("function"===typeof G){G=h(G).call(x,m);if(G===n)return G;if(G)return h(b).call(x,m)}else if(e.isObject(m)){for(var L=g(G),F=0;F<L.length;++F){var O=L[F];if(G[O]!=m[O])continue a}return h(b).call(x,m)}}return d}}}},{"./es5":13,"./util":36}],8:[function(a,
d,e){d.exports=function(a){function b(){this._trace=new b.CapturedTrace(d())}function d(){var a=g.length-1;return 0<=a?g[a]:n}var e=!1,g=[];a.prototype._promiseCreated=function(){};a.prototype._pushContext=function(){};a.prototype._popContext=function(){return null};a._peekContext=a.prototype._peekContext=function(){};b.prototype._pushContext=function(){this._trace!==n&&(this._trace._promiseCreated=null,g.push(this._trace))};b.prototype._popContext=function(){if(this._trace!==n){var a=g.pop(),b=a._promiseCreated;
a._promiseCreated=null;return b}return null};b.CapturedTrace=null;b.create=function(){if(e)return new b};b.deactivateLongStackTraces=function(){};b.activateLongStackTraces=function(){var g=a.prototype._pushContext,h=a.prototype._popContext,n=a._peekContext,m=a.prototype._peekContext,p=a.prototype._promiseCreated;b.deactivateLongStackTraces=function(){a.prototype._pushContext=g;a.prototype._popContext=h;a._peekContext=n;a.prototype._peekContext=m;a.prototype._promiseCreated=p;e=!1};e=!0;a.prototype._pushContext=
b.prototype._pushContext;a.prototype._popContext=b.prototype._popContext;a._peekContext=a.prototype._peekContext=d;a.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}};return b}},{}],9:[function(b,d,e){d.exports=function(d,e){function h(a,b){return{promise:b}}function m(){return!1}function p(a,b,d){var e=this;try{a(b,d,function(a){if("function"!==typeof a)throw new TypeError("onCancel must be a function, got: "+X.toString(a));e._attachCancellationCallback(a)})}catch(g){return g}}
function C(a){if(!this._isCancellable())return this;var b=this._onCancel();b!==n?X.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function u(){return this._onCancelField}function z(a){this._onCancelField=a}function v(){this._onCancelField=this._cancellationParent=n}function x(a,b){if(0!==(b&1)){this._cancellationParent=a;var d=a._branchesRemainingToCancel;d===n&&(d=0);a._branchesRemainingToCancel=d+1}0!==(b&2)&&a._isBound()&&this._setBoundTo(a._boundTo)}function I(){var a=this._boundTo;
return a!==n&&a instanceof d?a.isFulfilled()?a.value():n:a}function G(){this._trace=new aa(this._peekContext())}function L(a,b){if(eb(a)){var d=this._trace;d!==n&&b&&(d=d._parent);d!==n?d.attachExtraTrace(a):a.__stackCleaned__||(d=T(a),X.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),X.notEnumerableProp(a,"__stackCleaned__",!0))}}function F(a,b,e){if(la.warnings){a=new Ra(a);var g;b?e._attachExtraTrace(a):la.longStackTraces&&(g=d._peekContext())?g.attachExtraTrace(a):(b=T(a),a.stack=
b.message+"\n"+b.stack.join("\n"));gb("warning",a)||W(a,"",!0)}}function O(a,b){for(var d=0;d<b.length-1;++d)b[d].push("From previous event:"),b[d]=b[d].join("\n");d<b.length&&(b[d]=b[d].join("\n"));return a+"\n"+b.join("\n")}function V(a){for(var b=[],d=0;d<a.length;++d){var e=a[d],g="    (No stack trace)"===e||Xa.test(e),h=g&&La(e);g&&!h&&(pb&&" "!==e.charAt(0)&&(e="    "+e),b.push(e))}return b}function T(a){var b=a.stack,d=a.toString();if("string"===typeof b&&0<b.length){for(var b=a.stack.replace(/\s+$/g,
"").split("\n"),e=0;e<b.length;++e){var g=b[e];if("    (No stack trace)"===g||Xa.test(g))break}0<e&&"SyntaxError"!=a.name&&(b=b.slice(e))}else b=["    (No stack trace)"];return{message:d,stack:"SyntaxError"==a.name?b:V(b)}}function W(a,b,d){"undefined"!==typeof console&&(a=X.isObject(a)?b+ea(a.stack,a):b+String(a),"function"===typeof Za?Za(a,d):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(a))}function pa(a,b,d,e){var g=!1;try{"function"===typeof b&&(g=!0,"rejectionHandled"===
a?b(e):b(d,e))}catch(h){xa.throwLater(h)}"unhandledRejection"===a?gb(a,d,e)||g||W(d,"Unhandled rejection "):gb(a,e)}function R(a){var b;if("function"===typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a&&"function"===typeof a.toString?a.toString():X.toString(a);if(/\[object [a-zA-Z0-9$_]+\]/.test(b))try{b=JSON.stringify(a)}catch(d){}0===b.length&&(b="(empty array)")}a=41>b.length?b:b.substr(0,38)+"...";return"(<"+a+">, no stack trace)"}function Y(){return"function"===typeof xb}function ba(a){if(a=
a.match(cc))return{fileName:a[1],line:parseInt(a[2],10)}}function aa(a){this._parent=a;this._promisesCreated=0;a=this._length=1+(a===n?0:a._length);xb(this,aa);32<a&&this.uncycle()}var ua=d._getDomain,xa=d._async,Ra=b("./errors").Warning,X=b("./util"),eb=X.canAttachTrace,Ea,Va,fb=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,tb=/\((?:timers\.js):\d+:\d+\)/,ub=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Xa=null,ea=null,pb=!1,Za,ra=0!=X.env("BLUEBIRD_DEBUG"),lb=!(0==X.env("BLUEBIRD_WARNINGS")||!ra&&
!X.env("BLUEBIRD_WARNINGS")),ra=!(0==X.env("BLUEBIRD_LONG_STACK_TRACES")||!ra&&!X.env("BLUEBIRD_LONG_STACK_TRACES")),Ba=0!=X.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(lb||!!X.env("BLUEBIRD_W_FORGOTTEN_RETURN"));d.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=a._bitField&-1048577|524288};d.prototype._ensurePossibleRejectionHandled=function(){0===(this._bitField&524288)&&(this._setRejectionIsUnhandled(),xa.invokeLater(this._notifyUnhandledRejection,this,n))};d.prototype._notifyUnhandledRejectionIsHandled=
function(){pa("rejectionHandled",Ea,n,this)};d.prototype._setReturnedNonUndefined=function(){this._bitField|=268435456};d.prototype._returnedNonUndefined=function(){return 0!==(this._bitField&268435456)};d.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified();pa("unhandledRejection",Va,a,this)}};d.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=262144};d.prototype._unsetUnhandledRejectionIsNotified=
function(){this._bitField&=-262145};d.prototype._isUnhandledRejectionNotified=function(){return 0<(this._bitField&262144)};d.prototype._setRejectionIsUnhandled=function(){this._bitField|=1048576};d.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-1048577;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())};d.prototype._isRejectionUnhandled=function(){return 0<(this._bitField&1048576)};d.prototype._warn=function(a,
b,d){return F(a,b,d||this)};d.onPossiblyUnhandledRejection=function(a){var b=ua();Va="function"===typeof a?null===b?a:X.domainBind(b,a):n};d.onUnhandledRejectionHandled=function(a){var b=ua();Ea="function"===typeof a?null===b?a:X.domainBind(b,a):n};var Kb=function(){};d.longStackTraces=function(){if(xa.haveItemsQueued()&&!la.longStackTraces)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!la.longStackTraces&&Y()){var a=d.prototype._captureStackTrace,
b=d.prototype._attachExtraTrace;la.longStackTraces=!0;Kb=function(){if(xa.haveItemsQueued()&&!la.longStackTraces)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");d.prototype._captureStackTrace=a;d.prototype._attachExtraTrace=b;e.deactivateLongStackTraces();xa.enableTrampoline();la.longStackTraces=!1};d.prototype._captureStackTrace=G;d.prototype._attachExtraTrace=L;e.activateLongStackTraces();xa.disableTrampolineIfNecessary()}};d.hasLongStackTraces=
function(){return la.longStackTraces&&Y()};var Ga=function(){try{if("function"===typeof CustomEvent){var a=new CustomEvent("CustomEvent");X.global.dispatchEvent(a);return function(a,b){var d=new CustomEvent(a.toLowerCase(),{detail:b,cancelable:!0});return!X.global.dispatchEvent(d)}}if("function"===typeof Event)return a=new Event("CustomEvent"),X.global.dispatchEvent(a),function(a,b){var d=new Event(a.toLowerCase(),{cancelable:!0});d.detail=b;return!X.global.dispatchEvent(d)};a=document.createEvent("CustomEvent");
a.initCustomEvent("testingtheevent",!1,!0,{});X.global.dispatchEvent(a);return function(a,b){var d=document.createEvent("CustomEvent");d.initCustomEvent(a.toLowerCase(),!1,!0,b);return!X.global.dispatchEvent(d)}}catch(b){}return function(){return!1}}(),$a=function(){return X.isNode?function(){return a.emit.apply(a,arguments)}:X.global?function(a){var b="on"+a.toLowerCase(),b=X.global[b];if(!b)return!1;b.apply(X.global,[].slice.call(arguments,1));return!0}:function(){return!1}}(),vb={promiseCreated:h,
promiseFulfilled:h,promiseRejected:h,promiseResolved:h,promiseCancelled:h,promiseChained:function(a,b,d){return{promise:b,child:d}},warning:function(a,b){return{warning:b}},unhandledRejection:function(a,b,d){return{reason:b,promise:d}},rejectionHandled:h},gb=function(a){var b=!1;try{b=$a.apply(null,arguments)}catch(d){xa.throwLater(d),b=!0}var e=!1;try{e=Ga(a,vb[a].apply(null,arguments))}catch(g){xa.throwLater(g),e=!0}return e||b};d.config=function(a){a=Object(a);"longStackTraces"in a&&(a.longStackTraces?
d.longStackTraces():!a.longStackTraces&&d.hasLongStackTraces()&&Kb());if("warnings"in a){var b=a.warnings;la.warnings=!!b;Ba=la.warnings;X.isObject(b)&&"wForgottenReturn"in b&&(Ba=!!b.wForgottenReturn)}if("cancellation"in a&&a.cancellation&&!la.cancellation){if(xa.haveItemsQueued())throw Error("cannot enable cancellation after promises are in use");d.prototype._clearCancellationData=v;d.prototype._propagateFrom=x;d.prototype._onCancel=u;d.prototype._setOnCancel=z;d.prototype._attachCancellationCallback=
C;d.prototype._execute=p;Lb=x;la.cancellation=!0}"monitoring"in a&&(a.monitoring&&!la.monitoring?(la.monitoring=!0,d.prototype._fireEvent=gb):!a.monitoring&&la.monitoring&&(la.monitoring=!1,d.prototype._fireEvent=m));return d};d.prototype._fireEvent=m;d.prototype._execute=function(a,b,d){try{a(b,d)}catch(e){return e}};d.prototype._onCancel=function(){};d.prototype._setOnCancel=function(a){};d.prototype._attachCancellationCallback=function(a){};d.prototype._captureStackTrace=function(){};d.prototype._attachExtraTrace=
function(){};d.prototype._clearCancellationData=function(){};d.prototype._propagateFrom=function(a,b){};var Lb=function(a,b){0!==(b&2)&&a._isBound()&&this._setBoundTo(a._boundTo)},La=function(){return!1},cc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;X.inherits(aa,Error);e.CapturedTrace=aa;aa.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],d={},e=0,a=this;a!==n;++e)b.push(a),a=a._parent;a=this._length=e;for(e=a-1;0<=e;--e){var g=b[e].stack;d[g]===n&&(d[g]=e)}for(e=0;e<a;++e)if(g=
d[b[e].stack],g!==n&&g!==e){0<g&&(b[g-1]._parent=n,b[g-1]._length=1);b[e]._parent=n;b[e]._length=1;d=0<e?b[e-1]:this;g<a-1?(d._parent=b[g+1],d._parent.uncycle(),d._length=d._parent._length+1):(d._parent=n,d._length=1);a=d._length+1;for(e-=2;0<=e;--e)b[e]._length=a,a++;break}}};aa.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=T(a),d=b.message,b=[b.stack],e=this;e!==n;)b.push(V(e.stack.split("\n"))),e=e._parent;for(var e=b[0],g=1;g<b.length;++g){for(var h=b[g],
q=e.length-1,r=e[q],m=-1,p=h.length-1;0<=p;--p)if(h[p]===r){m=p;break}for(p=m;0<=p;--p)if(e[q]===h[p])e.pop(),q--;else break;e=h}for(e=0;e<b.length;++e)if(0===b[e].length||e+1<b.length&&b[e][0]===b[e+1][0])b.splice(e,1),e--;X.notEnumerableProp(a,"stack",O(d,b));X.notEnumerableProp(a,"__stackCleaned__",!0)}};var xb=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"===typeof a?a:b.name!==n&&b.message!==n?b.toString():R(b)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=
6;Xa=a;ea=b;var d=Error.captureStackTrace;La=function(a){return fb.test(a)};return function(a,b){Error.stackTraceLimit+=6;d(a,b);Error.stackTraceLimit-=6}}var e=Error();if("string"===typeof e.stack&&0<=e.stack.split("\n")[0].indexOf("stackDetection@"))return Xa=/@/,ea=b,pb=!0,function(a){a.stack=Error().stack};var g;try{throw Error();}catch(h){g="stack"in h}if(!("stack"in e)&&g&&"number"===typeof Error.stackTraceLimit)return Xa=a,ea=b,function(a){Error.stackTraceLimit+=6;try{throw Error();}catch(b){a.stack=
b.stack}Error.stackTraceLimit-=6};ea=function(a,b){return"string"===typeof a?a:"object"!==typeof b&&"function"!==typeof b||b.name===n||b.message===n?R(b):b.toString()};return null}([]);"undefined"!==typeof console&&"undefined"!==typeof console.warn&&(Za=function(a){console.warn(a)},X.isNode&&a.stderr.isTTY?Za=function(a,b){console.warn((b?"[33m":"[31m")+a+"[0m\n")}:X.isNode||"string"!==typeof Error().stack||(Za=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var la={warnings:lb,
longStackTraces:!1,cancellation:!1,monitoring:!1};ra&&d.longStackTraces();return{longStackTraces:function(){return la.longStackTraces},warnings:function(){return la.warnings},cancellation:function(){return la.cancellation},monitoring:function(){return la.monitoring},propagateFromFunction:function(){return Lb},boundValueFunction:function(){return I},checkForgottenReturns:function(a,b,d,e,g){if(a===n&&null!==b&&Ba&&(g===n||!g._returnedNonUndefined())&&0!==(e._bitField&65535)){d&&(d+=" ");g=a="";if(b._trace){for(var h=
b._trace.stack.split("\n"),q=V(h),r=q.length-1;0<=r;--r){var p=q[r];if(!tb.test(p)){(r=p.match(ub))&&(a="at "+r[1]+":"+r[2]+":"+r[3]+" ");break}}if(0<q.length)for(q=q[0],r=0;r<h.length;++r)if(h[r]===q){0<r&&(g="\n"+h[r-1]);break}}e._warn("a promise was created in a "+d+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+g,!0,b)}},setBounds:function(a,b){if(Y()){for(var d=a.stack.split("\n"),e=b.stack.split("\n"),g=-1,h=-1,q,r,n=0;n<d.length;++n){var p=ba(d[n]);if(p){q=p.fileName;
g=p.line;break}}for(n=0;n<e.length;++n)if(p=ba(e[n])){r=p.fileName;h=p.line;break}0>g||0>h||!q||!r||q!==r||g>=h||(La=function(a){return fb.test(a)?!0:(a=ba(a))&&a.fileName===q&&g<=a.line&&a.line<=h?!0:!1})}},warn:F,deprecated:function(a,b){var d=a+" is deprecated and will be removed in a future version.";b&&(d+=" Use "+b+" instead.");return F(d)},CapturedTrace:aa,fireDomEvent:Ga,fireGlobalEvent:$a}}},{"./errors":12,"./util":36}],10:[function(a,d,e){d.exports=function(a){function b(){return this.value}
function d(){throw this.reason;}a.prototype["return"]=a.prototype.thenReturn=function(d){d instanceof a&&d.suppressUnhandledRejections();return this._then(b,n,n,{value:d},n)};a.prototype["throw"]=a.prototype.thenThrow=function(a){return this._then(d,n,n,{reason:a},n)};a.prototype.catchThrow=function(a){if(1>=arguments.length)return this._then(n,d,n,{reason:a},n);var b=arguments[1];return this.caught(a,function(){throw b;})};a.prototype.catchReturn=function(d){if(1>=arguments.length)return d instanceof
a&&d.suppressUnhandledRejections(),this._then(n,b,n,{value:d},n);var e=arguments[1];e instanceof a&&e.suppressUnhandledRejections();return this.caught(d,function(){return e})}}},{}],11:[function(a,d,e){d.exports=function(a,b){function d(){return g(this)}var e=a.reduce,g=a.all;a.prototype.each=function(a){return e(this,a,b,0)._then(d,n,n,this,n)};a.prototype.mapSeries=function(a){return e(this,a,b,b)};a.each=function(a,g){return e(a,g,b,0)._then(d,n,n,a,n)};a.mapSeries=function(a,d){return e(a,d,b,
b)}}},{}],12:[function(a,d,e){function g(a,b){function d(e){if(!(this instanceof d))return new d(e);A(this,"message","string"===typeof e?e:b);A(this,"name",a);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}m(d,Error);return d}function h(a){if(!(this instanceof h))return new h(a);A(this,"name","OperationalError");A(this,"message",a);this.cause=a;this.isOperational=!0;a instanceof Error?(A(this,"message",a.message),A(this,"stack",a.stack)):Error.captureStackTrace&&
Error.captureStackTrace(this,this.constructor)}e=a("./es5");var n=e.freeze;a=a("./util");var m=a.inherits,A=a.notEnumerableProp,C,u;a=g("Warning","warning");var z=g("CancellationError","cancellation error"),H=g("TimeoutError","timeout error"),x=g("AggregateError","aggregate error");try{C=TypeError,u=RangeError}catch(I){C=g("TypeError","type error"),u=g("RangeError","range error")}for(var G="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),
L=0;L<G.length;++L)"function"===typeof Array.prototype[G[L]]&&(x.prototype[G[L]]=Array.prototype[G[L]]);e.defineProperty(x.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});x.prototype.isOperational=!0;var F=0;x.prototype.toString=function(){var a=Array(4*F+1).join(" "),b="\n"+a+"AggregateError of:\n";F++;for(var a=Array(4*F+1).join(" "),d=0;d<this.length;++d){for(var e=this[d]===this?"[Circular AggregateError]":this[d]+"",e=e.split("\n"),g=0;g<e.length;++g)e[g]=a+e[g];e=e.join("\n");
b+=e+"\n"}F--;return b};m(h,Error);G=Error.__BluebirdErrorTypes__;G||(G=n({CancellationError:z,TimeoutError:H,OperationalError:h,RejectionError:h,AggregateError:x}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:G,writable:!1,enumerable:!1,configurable:!1}));d.exports={Error:Error,TypeError:C,RangeError:u,CancellationError:G.CancellationError,OperationalError:G.OperationalError,TimeoutError:G.TimeoutError,AggregateError:G.AggregateError,Warning:a}},{"./es5":13,"./util":36}],13:[function(a,
d,e){if(a=function(){return this===n}())d.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(a,b){var d=Object.getOwnPropertyDescriptor(a,b);return!(d&&!d.writable&&!d.set)}};else{var g={}.hasOwnProperty,h={}.toString,m={}.constructor.prototype;e=function(a){var b=[],d;for(d in a)g.call(a,d)&&
b.push(d);return b};d.exports={isArray:function(a){try{return"[object Array]"===h.call(a)}catch(b){return!1}},keys:e,names:e,defineProperty:function(a,b,d){a[b]=d.value;return a},getDescriptor:function(a,b){return{value:a[b]}},freeze:function(a){return a},getPrototypeOf:function(a){try{return Object(a).constructor.prototype}catch(b){return m}},isES5:a,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,d,e){d.exports=function(a,b){var d=a.map;a.prototype.filter=function(a,e){return d(this,
a,e,b)};a.filter=function(a,e,g){return d(a,e,g,b)}}},{}],15:[function(a,d,e){d.exports=function(d,e){function g(a,b,d){this.promise=a;this.type=b;this.handler=d;this.called=!1;this.cancelPromise=null}function h(a){this.finallyHandler=a}function m(a,b){return null!=a.cancelPromise?(1<arguments.length?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0):!1}function p(){return z.call(this,this.promise._target()._settledValue())}function u(a){if(!m(this,a))return I.e=a,I}function z(a){var b=
this.promise,g=this.handler;if(!this.called&&(this.called=!0,g=this.isFinallyHandler()?g.call(b._boundValue()):g.call(b._boundValue(),a),g!==n&&(b._setReturnedNonUndefined(),g=e(g,b),g instanceof d))){if(null!=this.cancelPromise){if(g._isCancelled())return a=new x("late cancellation observer"),b._attachExtraTrace(a),I.e=a,I;g.isPending()&&g._attachCancellationCallback(new h(this))}return g._then(p,u,n,this,n)}if(b.isRejected())return m(this),I.e=a,I;m(this);return a}var v=a("./util"),x=d.CancellationError,
I=v.errorObj;g.prototype.isFinallyHandler=function(){return 0===this.type};h.prototype._resultCancelled=function(){m(this.finallyHandler)};d.prototype._passThrough=function(a,b,d,e){return"function"!==typeof a?this.then():this._then(d,e,n,new g(this,b,a),n)};d.prototype.lastly=d.prototype["finally"]=function(a){return this._passThrough(a,0,z,z)};d.prototype.tap=function(a){return this._passThrough(a,1,z)};return g}},{"./util":36}],16:[function(a,d,e){d.exports=function(d,e,g,h,m,p){function u(a,b,
e,h){if(p.cancellation()){var r=new d(g),m=this._finallyPromise=new d(g);this._promise=r.lastly(function(){return m});r._captureStackTrace();r._setOnCancel(this)}else(this._promise=new d(g))._captureStackTrace();this._stack=h;this._generatorFunction=a;this._receiver=b;this._generator=n;this._yieldHandlers="function"===typeof e?[e].concat(G):G;this._yieldedPromise=null;this._cancellationPhase=!1}var z=a("./errors").TypeError,v=a("./util"),x=v.errorObj,I=v.tryCatch,G=[];v.inherits(u,m);u.prototype._isResolved=
function(){return null===this._promise};u.prototype._cleanup=function(){this._promise=this._generator=null;p.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)};u.prototype._promiseCancelled=function(){if(!this._isResolved()){var a;"undefined"===typeof this._generator["return"]?(a=new d.CancellationError("generator .return() sentinel"),d.coroutine.returnSentinel=a,this._promise._attachExtraTrace(a),this._promise._pushContext(),a=I(this._generator["throw"]).call(this._generator,
a)):(this._promise._pushContext(),a=I(this._generator["return"]).call(this._generator,n));this._promise._popContext();this._cancellationPhase=!0;this._yieldedPromise=null;this._continue(a)}};u.prototype._promiseFulfilled=function(a){this._yieldedPromise=null;this._promise._pushContext();a=I(this._generator.next).call(this._generator,a);this._promise._popContext();this._continue(a)};u.prototype._promiseRejected=function(a){this._yieldedPromise=null;this._promise._attachExtraTrace(a);this._promise._pushContext();
a=I(this._generator["throw"]).call(this._generator,a);this._promise._popContext();this._continue(a)};u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof d){var a=this._yieldedPromise;this._yieldedPromise=null;a.cancel()}};u.prototype.promise=function(){return this._promise};u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=n;this._promiseFulfilled(n)};u.prototype._continue=function(a){var b=this._promise;
if(a===x)return this._cleanup(),this._cancellationPhase?b.cancel():b._rejectCallback(a.e,!1);var e=a.value;if(!0===a.done)return this._cleanup(),this._cancellationPhase?b.cancel():b._resolveCallback(e);a=h(e,this._promise);if(!(a instanceof d)){a:{var b=a,g=this._yieldHandlers;a=this._promise;for(var r=0;r<g.length;++r){a._pushContext();var n=I(g[r])(b);a._popContext();if(n===x){a._pushContext();b=d.reject(x.e);a._popContext();a=b;break a}n=h(n,a);if(n instanceof d){a=n;break a}}a=null}if(null===
a){this._promiseRejected(new z("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",e)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}a=a._target();e=a._bitField;0===(e&50397184)?(this._yieldedPromise=a,a._proxy(this,null)):0!==(e&33554432)?d._async.invoke(this._promiseFulfilled,this,a._value()):0!==(e&16777216)?d._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled()};d.coroutine=function(a,
b){if("function"!==typeof a)throw new z("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var d=Object(b).yieldHandler,e=Error().stack;return function(){var b=a.apply(this,arguments),g=new u(n,n,d,e),h=g.promise();g._generator=b;g._promiseFulfilled(n);return h}};d.coroutine.addYieldHandler=function(a){if("function"!==typeof a)throw new z("expecting a function but got "+v.classString(a));G.push(a)};d.spawn=function(a){p.deprecated("Promise.spawn()","Promise.coroutine()");if("function"!==
typeof a)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");a=new u(a,this);var b=a.promise();a._run(d.spawn);return b}}},{"./errors":12,"./util":36}],17:[function(a,d,e){d.exports=function(d,e,g,h,m,p){a("./util");d.join=function(){var a;a=arguments.length-1;var b;0<a&&"function"===typeof arguments[a]&&(b=arguments[a]);a=[].slice.call(arguments);b&&a.pop();a=(new e(a)).promise();return b!==n?a.spread(b):a}}},{"./util":36}],18:[function(a,d,e){d.exports=function(d,
e,g,h,m,p){function u(a,b,d,e){this.constructor$(a);this._promise._captureStackTrace();a=v();this._callback=null===a?b:x.domainBind(a,b);this._preservedValues=e===m?Array(this.length()):null;this._limit=d;this._inFlight=0;this._queue=[];L.invoke(this._asyncInit,this,n)}function z(a,b,e,h){if("function"!==typeof b)return g("expecting a function but got "+x.classString(b));var r=0;if(e!==n)if("object"===typeof e&&null!==e){if("number"!==typeof e.concurrency)return d.reject(new TypeError("'concurrency' must be a number but it is "+
x.classString(e.concurrency)));r=e.concurrency}else return d.reject(new TypeError("options argument must be an object but it is "+x.classString(e)));r="number"===typeof r&&isFinite(r)&&1<=r?r:0;return(new u(a,b,r,h)).promise()}var v=d._getDomain,x=a("./util"),I=x.tryCatch,G=x.errorObj,L=d._async;x.inherits(u,e);u.prototype._asyncInit=function(){this._init$(n,-2)};u.prototype._init=function(){};u.prototype._promiseFulfilled=function(a,b){var e=this._values,g=this.length(),r=this._preservedValues,n=
this._limit;if(0>b){if(e[-1*b-1]=a,1<=n&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=n&&this._inFlight>=n)return e[b]=a,this._queue.push(b),!1;null!==r&&(r[b]=a);var m=this._promise,x=this._callback,u=m._boundValue();m._pushContext();x=I(x).call(u,a,b,g);u=m._popContext();p.checkForgottenReturns(x,u,null!==r?"Promise.filter":"Promise.map",m);if(x===G)return this._reject(x.e),!0;m=h(x,this._promise);if(m instanceof d){m=m._target();x=m._bitField;if(0===(x&50397184))return 1<=
n&&this._inFlight++,e[b]=m,m._proxy(this,-1*(b+1)),!1;if(0!==(x&33554432))x=m._value();else return 0!==(x&16777216)?this._reject(m._reason()):this._cancel(),!0}e[b]=x}return++this._totalResolved>=g?(null!==r?this._filter(e,r):this._resolve(e),!0):!1};u.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,d=this._values;0<a.length&&this._inFlight<b&&!this._isResolved();){var e=a.pop();this._promiseFulfilled(d[e],e)}};u.prototype._filter=function(a,b){for(var d=b.length,e=Array(d),g=
0,h=0;h<d;++h)a[h]&&(e[g++]=b[h]);e.length=g;this._resolve(e)};u.prototype.preservedValues=function(){return this._preservedValues};d.prototype.map=function(a,b){return z(this,a,b,null)};d.map=function(a,b,d,e){return z(a,b,d,e)}}},{"./util":36}],19:[function(a,d,e){d.exports=function(d,e,g,h,n){var m=a("./util"),p=m.tryCatch;d.method=function(a){if("function"!==typeof a)throw new d.TypeError("expecting a function but got "+m.classString(a));return function(){var b=new d(e);b._captureStackTrace();
b._pushContext();var g=p(a).apply(this,arguments),h=b._popContext();n.checkForgottenReturns(g,h,"Promise.method",b);b._resolveFromSyncValue(g);return b}};d.attempt=d["try"]=function(a){if("function"!==typeof a)return h("expecting a function but got "+m.classString(a));var b=new d(e);b._captureStackTrace();b._pushContext();var g;if(1<arguments.length){n.deprecated("calling Promise.try with more than 1 argument");g=arguments[1];var v=arguments[2];g=m.isArray(g)?p(a).apply(v,g):p(a).call(v,g)}else g=
p(a)();v=b._popContext();n.checkForgottenReturns(g,v,"Promise.try",b);b._resolveFromSyncValue(g);return b};d.prototype._resolveFromSyncValue=function(a){a===m.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}},{"./util":36}],20:[function(a,d,e){var g=a("./util"),h=g.maybeWrapAsError,n=a("./errors").OperationalError,m=a("./es5"),A=/^(?:name|message|stack|cause)$/;d.exports=function(a,b){return function(d,e){if(null!==a){if(d){var p;p=h(d);var v;if(p instanceof Error&&m.getPrototypeOf(p)===
Error.prototype){v=new n(p);v.name=p.name;v.message=p.message;v.stack=p.stack;for(var G=m.keys(p),L=0;L<G.length;++L){var F=G[L];A.test(F)||(v[F]=p[F])}p=v}else g.markAsOriginatingFromRejection(p);a._attachExtraTrace(p);a._reject(p)}else b?(p=[].slice.call(arguments,1),a._fulfill(p)):a._fulfill(e);a=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,d,e){d.exports=function(d){function e(a,b){if(!m.isArray(a))return g.call(this,a,b);var d=u(b).apply(this._boundValue(),[null].concat(a));
d===z&&p.throwLater(d.e)}function g(a,b){var d=this._boundValue(),d=a===n?u(b).call(d,null):u(b).call(d,null,a);d===z&&p.throwLater(d.e)}function h(a,b){if(!a){var d=Error(a+"");d.cause=a;a=d}d=u(b).call(this._boundValue(),a);d===z&&p.throwLater(d.e)}var m=a("./util"),p=d._async,u=m.tryCatch,z=m.errorObj;d.prototype.asCallback=d.prototype.nodeify=function(a,b){if("function"==typeof a){var d=g;b!==n&&Object(b).spread&&(d=e);this._then(d,h,n,this,a)}return this}}},{"./util":36}],22:[function(b,d,e){d.exports=
function(){function e(){}function h(a){this._bitField=0;this._receiver0=this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=n;if(a!==T){if("function"!==typeof a)throw new O("expecting a function but got "+x.classString(a));if(this.constructor!==h)throw new O("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");this._resolveFromExecutor(a)}this._promiseCreated();this._fireEvent("promiseCreated",this)}function m(a){this.promise._resolveCallback(a)}function v(a){this.promise._rejectCallback(a,
!1)}function A(a){var b=new h(T);b._fulfillmentHandler0=a;b._rejectionHandler0=a;b._promise0=a;b._receiver0=a}var C=function(){return new O("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new h.PromiseInspection(this._target())},z=function(a){return h.reject(new O(a))},H={},x=b("./util"),I;I=x.isNode?function(){var b=a.domain;b===n&&(b=null);return b}:function(){return null};x.notEnumerableProp(h,"_getDomain",I);var G=b("./es5"),L=b("./async"),F=new L;G.defineProperty(h,
"_async",{value:F});var G=b("./errors"),O=h.TypeError=G.TypeError;h.RangeError=G.RangeError;var V=h.CancellationError=G.CancellationError;h.TimeoutError=G.TimeoutError;h.OperationalError=G.OperationalError;h.RejectionError=G.OperationalError;h.AggregateError=G.AggregateError;var T=function(){},W={},pa={},R=b("./thenables")(h,T),Y=b("./promise_array")(h,T,R,z,e),G=b("./context")(h),ba=G.create,aa=b("./debuggability")(h,G),ua=b("./finally")(h,R),xa=b("./catch_filter")(pa),Ra=b("./nodeback"),X=x.errorObj,
ea=x.tryCatch;h.prototype.toString=function(){return"[object Promise]"};h.prototype.caught=h.prototype["catch"]=function(a){var b=arguments.length;if(1<b){var d=Array(b-1),e=0,g;for(g=0;g<b-1;++g){var h=arguments[g];if(x.isObject(h))d[e++]=h;else return z("expecting an object but got A catch statement predicate "+x.classString(h))}d.length=e;a=arguments[g];return this.then(n,xa(d,a,this))}return this.then(n,a)};h.prototype.reflect=function(){return this._then(u,u,n,this,n)};h.prototype.then=function(a,
b){if(aa.warnings()&&0<arguments.length&&"function"!==typeof a&&"function"!==typeof b){var d=".then() only accepts functions but was passed: "+x.classString(a);1<arguments.length&&(d+=", "+x.classString(b));this._warn(d)}return this._then(a,b,n,n,n)};h.prototype.done=function(a,b){this._then(a,b,n,n,n)._setIsFinal()};h.prototype.spread=function(a){return"function"!==typeof a?z("expecting a function but got "+x.classString(a)):this.all()._then(a,n,n,W,n)};h.prototype.toJSON=function(){var a={isFulfilled:!1,
isRejected:!1,fulfillmentValue:n,rejectionReason:n};this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0);return a};h.prototype.all=function(){0<arguments.length&&this._warn(".all() was passed arguments but it does not take any");return(new Y(this)).promise()};h.prototype.error=function(a){return this.caught(x.originatesFromRejection,a)};h.getNewLibraryCopy=d.exports;h.is=function(a){return a instanceof h};h.fromNode=
h.fromCallback=function(a){var b=new h(T);b._captureStackTrace();var d=1<arguments.length?!!Object(arguments[1]).multiArgs:!1,d=ea(a)(Ra(b,d));d===X&&b._rejectCallback(d.e,!0);b._isFateSealed()||b._setAsyncGuaranteed();return b};h.all=function(a){return(new Y(a)).promise()};h.cast=function(a){var b=R(a);b instanceof h||(b=new h(T),b._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a);return b};h.resolve=h.fulfilled=h.cast;h.reject=h.rejected=function(a){var b=new h(T);b._captureStackTrace();
b._rejectCallback(a,!0);return b};h.setScheduler=function(a){if("function"!==typeof a)throw new O("expecting a function but got "+x.classString(a));return F.setScheduler(a)};h.prototype._then=function(a,b,d,e,g){var q=g!==n;g=q?g:new h(T);d=this._target();var m=d._bitField;q||(g._propagateFrom(this,3),g._captureStackTrace(),e===n&&0!==(this._bitField&2097152)&&(e=0!==(m&50397184)?this._boundValue():d===this?n:this._boundTo),this._fireEvent("promiseChained",this,g));q=I();if(0!==(m&50397184)){var p=
d._settlePromiseCtx;0!==(m&33554432)?m=d._rejectionHandler0:0!==(m&16777216)?(m=d._fulfillmentHandler0,a=b,d._unsetRejectionIsUnhandled()):(p=d._settlePromiseLateCancellationObserver,m=new V("late cancellation observer"),d._attachExtraTrace(m),a=b);F.invoke(p,d,{handler:null===q?a:"function"===typeof a&&x.domainBind(q,a),promise:g,receiver:e,value:m})}else d._addCallbacks(a,b,g,e,q);return g};h.prototype._length=function(){return this._bitField&65535};h.prototype._isFateSealed=function(){return 0!==
(this._bitField&117506048)};h.prototype._isFollowing=function(){return 67108864===(this._bitField&67108864)};h.prototype._setLength=function(a){this._bitField=this._bitField&-65536|a&65535};h.prototype._setFulfilled=function(){this._bitField|=33554432;this._fireEvent("promiseFulfilled",this)};h.prototype._setRejected=function(){this._bitField|=16777216;this._fireEvent("promiseRejected",this)};h.prototype._setFollowing=function(){this._bitField|=67108864;this._fireEvent("promiseResolved",this)};h.prototype._setIsFinal=
function(){this._bitField|=4194304};h.prototype._isFinal=function(){return 0<(this._bitField&4194304)};h.prototype._unsetCancelled=function(){this._bitField&=-65537};h.prototype._setCancelled=function(){this._bitField|=65536;this._fireEvent("promiseCancelled",this)};h.prototype._setWillBeCancelled=function(){this._bitField|=8388608};h.prototype._setAsyncGuaranteed=function(){F.hasCustomScheduler()||(this._bitField|=134217728)};h.prototype._receiverAt=function(a){a=0===a?this._receiver0:this[4*a-4+
3];return a===H?n:a===n&&this._isBound()?this._boundValue():a};h.prototype._promiseAt=function(a){return this[4*a-4+2]};h.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]};h.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]};h.prototype._boundValue=function(){};h.prototype._migrateCallback0=function(a){var b=a._fulfillmentHandler0,d=a._rejectionHandler0,e=a._promise0;a=a._receiverAt(0);a===n&&(a=H);this._addCallbacks(b,d,e,a,null)};h.prototype._migrateCallbackAt=function(a,
b){var d=a._fulfillmentHandlerAt(b),e=a._rejectionHandlerAt(b),g=a._promiseAt(b),h=a._receiverAt(b);h===n&&(h=H);this._addCallbacks(d,e,g,h,null)};h.prototype._addCallbacks=function(a,b,d,e,g){var h=this._length();65531<=h&&(h=0,this._setLength(0));if(0===h)this._promise0=d,this._receiver0=e,"function"===typeof a&&(this._fulfillmentHandler0=null===g?a:x.domainBind(g,a)),"function"===typeof b&&(this._rejectionHandler0=null===g?b:x.domainBind(g,b));else{var q=4*h-4;this[q+2]=d;this[q+3]=e;"function"===
typeof a&&(this[q+0]=null===g?a:x.domainBind(g,a));"function"===typeof b&&(this[q+1]=null===g?b:x.domainBind(g,b))}this._setLength(h+1);return h};h.prototype._proxy=function(a,b){this._addCallbacks(n,n,b,a,null)};h.prototype._resolveCallback=function(a,b){if(0===(this._bitField&117506048)){if(a===this)return this._rejectCallback(C(),!1);var d=R(a,this);if(!(d instanceof h))return this._fulfill(a);b&&this._propagateFrom(d,2);d=d._target();if(d===this)this._reject(C());else{var e=d._bitField;if(0===
(e&50397184)){e=this._length();0<e&&d._migrateCallback0(this);for(var g=1;g<e;++g)d._migrateCallbackAt(this,g);this._setFollowing();this._setLength(0);this._setFollowee(d)}else 0!==(e&33554432)?this._fulfill(d._value()):0!==(e&16777216)?this._reject(d._reason()):(e=new V("late cancellation observer"),d._attachExtraTrace(e),this._reject(e))}}};h.prototype._rejectCallback=function(a,b,d){var e=x.ensureErrorObject(a),g=e===a;g||d||!aa.warnings()||(d="a promise was rejected with a non-error: "+x.classString(a),
this._warn(d,!0));this._attachExtraTrace(e,b?g:!1);this._reject(a)};h.prototype._resolveFromExecutor=function(a){var b=this;this._captureStackTrace();this._pushContext();var d=!0;a=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,d)});d=!1;this._popContext();a!==n&&b._rejectCallback(a,!0)};h.prototype._settlePromiseFromHandler=function(a,b,d,e){var g=e._bitField;0===(g&65536)&&(e._pushContext(),b===W?d&&"number"===typeof d.length?a=ea(a).apply(this._boundValue(),
d):(a=X,a.e=new O("cannot .spread() a non-array: "+x.classString(d))):a=ea(a).call(b,d),b=e._popContext(),g=e._bitField,0===(g&65536)&&(a===pa?e._reject(d):a===X?e._rejectCallback(a.e,!1):(aa.checkForgottenReturns(a,b,"",e,this),e._resolveCallback(a))))};h.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a};h.prototype._followee=function(){return this._rejectionHandler0};h.prototype._setFollowee=function(a){this._rejectionHandler0=a};h.prototype._settlePromise=
function(a,b,d,g){var n=a instanceof h,m=this._bitField,p=0!==(m&134217728);0!==(m&65536)?(n&&a._invokeInternalOnCancel(),d instanceof ua&&d.isFinallyHandler()?(d.cancelPromise=a,ea(b).call(d,g)===X&&a._reject(X.e)):b===u?a._fulfill(u.call(d)):d instanceof e?d._promiseCancelled(a):n||a instanceof Y?a._cancel():d.cancel()):"function"===typeof b?n?(p&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(b,d,g,a)):b.call(d,g,a):d instanceof e?d._isResolved()||(0!==(m&33554432)?d._promiseFulfilled(g,
a):d._promiseRejected(g,a)):n&&(p&&a._setAsyncGuaranteed(),0!==(m&33554432)?a._fulfill(g):a._reject(g))};h.prototype._settlePromiseLateCancellationObserver=function(a){var b=a.handler,d=a.promise,e=a.receiver;a=a.value;"function"===typeof b?d instanceof h?this._settlePromiseFromHandler(b,e,a,d):b.call(e,a,d):d instanceof h&&d._reject(a)};h.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)};h.prototype._settlePromise0=function(a,b,d){d=this._promise0;
var e=this._receiverAt(0);this._receiver0=this._promise0=n;this._settlePromise(d,a,e,b)};h.prototype._clearCallbackDataAtIndex=function(a){a=4*a-4;this[a+2]=this[a+3]=this[a+0]=this[a+1]=n};h.prototype._fulfill=function(a){var b=this._bitField;if(!((b&117506048)>>>16)){if(a===this)return a=C(),this._attachExtraTrace(a),this._reject(a);this._setFulfilled();this._rejectionHandler0=a;0<(b&65535)&&(0!==(b&134217728)?this._settlePromises():F.settlePromises(this))}};h.prototype._reject=function(a){var b=
this._bitField;if(!((b&117506048)>>>16)){this._setRejected();this._fulfillmentHandler0=a;if(this._isFinal())return F.fatalError(a,x.isNode);0<(b&65535)?F.settlePromises(this):this._ensurePossibleRejectionHandled()}};h.prototype._fulfillPromises=function(a,b){for(var d=1;d<a;d++){var e=this._fulfillmentHandlerAt(d),g=this._promiseAt(d),h=this._receiverAt(d);this._clearCallbackDataAtIndex(d);this._settlePromise(g,e,h,b)}};h.prototype._rejectPromises=function(a,b){for(var d=1;d<a;d++){var e=this._rejectionHandlerAt(d),
g=this._promiseAt(d),h=this._receiverAt(d);this._clearCallbackDataAtIndex(d);this._settlePromise(g,e,h,b)}};h.prototype._settlePromises=function(){var a=this._bitField,b=a&65535;if(0<b){if(0!==(a&16842752)){var d=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,d,a);this._rejectPromises(b,d)}else d=this._rejectionHandler0,this._settlePromise0(this._fulfillmentHandler0,d,a),this._fulfillPromises(b,d);this._setLength(0)}this._clearCancellationData()};h.prototype._settledValue=
function(){var a=this._bitField;if(0!==(a&33554432))return this._rejectionHandler0;if(0!==(a&16777216))return this._fulfillmentHandler0};h.defer=h.pending=function(){aa.deprecated("Promise.defer","new Promise");return{promise:new h(T),resolve:m,reject:v}};x.notEnumerableProp(h,"_makeSelfResolutionError",C);b("./method")(h,T,R,z,aa);b("./bind")(h,T,R,aa);b("./cancel")(h,Y,z,aa);b("./direct_resolve")(h);b("./synchronous_inspection")(h);b("./join")(h,Y,R,T,F,I);h.Promise=h;h.version="3.4.7";b("./map.js")(h,
Y,z,R,T,aa);b("./call_get.js")(h);b("./using.js")(h,z,R,ba,T,aa);b("./timers.js")(h,T,aa);b("./generators.js")(h,z,T,R,e,aa);b("./nodeify.js")(h);b("./promisify.js")(h,T);b("./props.js")(h,Y,R,z);b("./race.js")(h,T,R,z);b("./reduce.js")(h,Y,z,R,T,aa);b("./settle.js")(h,Y,aa);b("./some.js")(h,Y,z);b("./filter.js")(h,T);b("./each.js")(h,T);b("./any.js")(h);x.toFastProperties(h);x.toFastProperties(h.prototype);A({a:1});A({b:2});A({c:3});A(1);A(function(){});A(n);A(!1);A(new h(T));aa.setBounds(L.firstLineError,
x.lastLineError);return h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,
"./timers.js":34,"./using.js":35,"./util":36}],23:[function(a,d,e){d.exports=function(d,e,g,h,m){function p(a){switch(a){case -2:return[];case -3:return{}}}function u(a){var b=this._promise=new d(e);a instanceof d&&b._propagateFrom(a,3);b._setOnCancel(this);this._values=a;this._totalResolved=this._length=0;this._init(n,-2)}var z=a("./util");z.inherits(u,m);u.prototype.length=function(){return this._length};u.prototype.promise=function(){return this._promise};u.prototype._init=function x(a,b){var e=
g(this._values,this._promise);if(e instanceof d){var e=e._target(),m=e._bitField;this._values=e;if(0===(m&50397184))return this._promise._setAsyncGuaranteed(),e._then(x,this._reject,n,this,b);if(0!==(m&33554432))e=e._value();else return 0!==(m&16777216)?this._reject(e._reason()):this._cancel()}e=z.asArray(e);null===e?(e=h("expecting an array or an iterable object but got "+z.classString(e)).reason(),this._promise._rejectCallback(e,!1)):0===e.length?-5===b?this._resolveEmptyArray():this._resolve(p(b)):
this._iterate(e)};u.prototype._iterate=function(a){var b=this.getActualLength(a.length);this._length=b;this._values=this.shouldCopyValues()?Array(b):this._values;for(var e=this._promise,h=!1,n=null,m=0;m<b;++m){var p=g(a[m],e);p instanceof d?(p=p._target(),n=p._bitField):n=null;h?null!==n&&p.suppressUnhandledRejections():null!==n?0===(n&50397184)?(p._proxy(this,m),this._values[m]=p):h=0!==(n&33554432)?this._promiseFulfilled(p._value(),m):0!==(n&16777216)?this._promiseRejected(p._reason(),m):this._promiseCancelled(m):
h=this._promiseFulfilled(p,m)}h||e._setAsyncGuaranteed()};u.prototype._isResolved=function(){return null===this._values};u.prototype._resolve=function(a){this._values=null;this._promise._fulfill(a)};u.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())};u.prototype._reject=function(a){this._values=null;this._promise._rejectCallback(a,!1)};u.prototype._promiseFulfilled=function(a,b){this._values[b]=a;return++this._totalResolved>=
this._length?(this._resolve(this._values),!0):!1};u.prototype._promiseCancelled=function(){this._cancel();return!0};u.prototype._promiseRejected=function(a){this._totalResolved++;this._reject(a);return!0};u.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;this._cancel();if(a instanceof d)a.cancel();else for(var b=0;b<a.length;++b)a[b]instanceof d&&a[b].cancel()}};u.prototype.shouldCopyValues=function(){return!0};u.prototype.getActualLength=function(a){return a};return u}},
{"./util":36}],24:[function(a,d,e){d.exports=function(d,e){function g(a){return!V.test(a)}function h(a){try{return!0===a.__isPromisified__}catch(b){return!1}}function m(a,b,d,e){for(var g=v.inheritedDataKeys(a),q=[],n=0;n<g.length;++n){var p=g[n],r=a[p],u=e===T?!0:T(p,r,a),z;if(z="function"===typeof r&&!h(r))z=v.getDataPropertyOrDefault(a,p+b,O),z=!(z&&h(z));z&&e(p,r,a,u)&&q.push(p,r)}for(a=0;a<q.length;a+=2)if(e=q[a],d.test(e))for(e=e.replace(d,""),g=0;g<q.length;g+=2)if(q[g]===e)throw new F("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",
b));return q}function p(a,b,g,h,n,m){function u(){var g=b;b===z&&(g=this);var h=new d(e);h._captureStackTrace();var n="string"===typeof B&&this!==A?this[B]:a,p=x(h,m);try{n.apply(g,I(arguments,p))}catch(v){h._rejectCallback(G(v),!0,!0)}h._isFateSealed()||h._setAsyncGuaranteed();return h}var A=function(){return this}(),B=a;"string"===typeof B&&(a=h);v.notEnumerableProp(u,"__isPromisified__",!0);return u}function u(a,b,d,e,g){var h=new RegExp(b.replace(/([$])/,"\\$")+"$");d=m(a,b,h,d);for(var h=0,q=
d.length;h<q;h+=2){var n=d[h],p=d[h+1],r=n+b;if(e===W)a[r]=W(n,z,n,p,b,g);else{var u=e(p,function(){return W(n,z,n,p,b,g)});v.notEnumerableProp(u,"__isPromisified__",!0);a[r]=u}}v.toFastProperties(a);return a}var z={},v=a("./util"),x=a("./nodeback"),I=v.withAppended,G=v.maybeWrapAsError,L=v.canEvaluate,F=a("./errors").TypeError,O={__isPromisified__:!0},V=/^(?:arity|length|name|arguments|caller|callee|prototype|__isPromisified__)$/,T=function(a){return v.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==
a},W=L?void 0:p;d.promisify=function(a,b){if("function"!==typeof a)throw new F("expecting a function but got "+v.classString(a));if(h(a))return a;b=Object(b);var d=W(a,b.context===n?z:b.context,n,a,null,!!b.multiArgs);v.copyDescriptors(a,d,g);return d};d.promisifyAll=function(a,b){if("function"!==typeof a&&"object"!==typeof a)throw new F("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");b=Object(b);var d=!!b.multiArgs,e=b.suffix;"string"!==typeof e&&(e=
"Async");var g=b.filter;"function"!==typeof g&&(g=T);var h=b.promisifier;"function"!==typeof h&&(h=W);if(!v.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var q=v.inheritedDataKeys(a),n=0;n<q.length;++n){var m=a[q[n]];"constructor"!==q[n]&&v.isClass(m)&&(u(m.prototype,e,g,h,d),u(m,e,g,h,d))}return u(a,e,g,h,d)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,d,e){d.exports=function(d,e,g,h){function m(a){var b=!1,d;if(x!==
n&&a instanceof x)d=I(a),b=!0;else{var e=v.keys(a),g=e.length;d=Array(2*g);for(var h=0;h<g;++h){var q=e[h];d[h]=a[q];d[h+g]=q}}this.constructor$(d);this._isMap=b;this._init$(n,-3)}function p(a){var b=g(a);if(z(b))a=b instanceof d?b._then(d.props,n,n,n,n):(new m(b)).promise();else return h("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");b instanceof d&&a._propagateFrom(b,2);return a}var u=a("./util"),z=u.isObject,v=a("./es5"),x;"function"===typeof Map&&(x=Map);var I=function(){function a(e,
g){this[b]=e;this[b+d]=g;b++}var b=0,d=0;return function(e){d=e.size;b=0;var g=Array(2*e.size);e.forEach(a,g);return g}}();u.inherits(m,e);m.prototype._init=function(){};m.prototype._promiseFulfilled=function(a,b){this._values[b]=a;if(++this._totalResolved>=this._length){var d;if(this._isMap){d=this._values;for(var e=new x,g=d.length/2|0,h=0;h<g;++h)e.set(d[g+h],d[h]);d=e}else for(d={},e=this.length(),g=0,h=this.length();g<h;++g)d[this._values[g+e]]=this._values[g];this._resolve(d);return!0}return!1};
m.prototype.shouldCopyValues=function(){return!1};m.prototype.getActualLength=function(a){return a>>1};d.prototype.props=function(){return p(this)};d.props=function(a){return p(a)}}},{"./es5":13,"./util":36}],26:[function(a,d,e){function g(a){this._capacity=a;this._front=this._length=0}g.prototype._willBeOverCapacity=function(a){return this._capacity<a};g.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);this[this._front+b&this._capacity-1]=a;this._length=b+1};g.prototype.push=
function(a,b,d){var e=this.length()+3;if(this._willBeOverCapacity(e))this._pushOne(a),this._pushOne(b),this._pushOne(d);else{var g=this._front+e-3;this._checkCapacity(e);var h=this._capacity-1;this[g+0&h]=a;this[g+1&h]=b;this[g+2&h]=d;this._length=e}};g.prototype.shift=function(){var a=this._front,b=this[a];this[a]=n;this._front=a+1&this._capacity-1;this._length--;return b};g.prototype.length=function(){return this._length};g.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<
1)};g.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;a=this._front+this._length&b-1;for(var d=0;d<a;++d)this[d+b]=this[d+0],this[d+0]=void 0};d.exports=g},{}],27:[function(a,d,e){d.exports=function(d,e,g,h){function m(a,b){var v=g(a);if(v instanceof d)return u(v);a=p.asArray(a);if(null===a)return h("expecting an array or an iterable object but got "+p.classString(a));v=new d(e);b!==n&&v._propagateFrom(b,3);for(var A=v._fulfill,G=v._reject,L=0,F=a.length;L<F;++L){var O=a[L];
(O!==n||L in a)&&d.cast(O)._then(A,G,n,v,null)}return v}var p=a("./util"),u=function(a){return a.then(function(b){return m(b,a)})};d.race=function(a){return m(a,n)};d.prototype.race=function(){return m(this,n)}}},{"./util":36}],28:[function(a,d,e){d.exports=function(d,e,g,h,m,p){function u(a,b,e,g){this.constructor$(a);a=G();this._fn=null===a?b:L.domainBind(a,b);e!==n&&(e=d.resolve(e),e._attachCancellationCallback(this));this._initialValue=e;this._currentCancellable=null;this._eachValues=g===m?Array(this._length):
0===g?null:n;this._promise._captureStackTrace();this._init$(n,-5)}function v(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function H(a,b,d,e){return"function"!==typeof b?g("expecting a function but got "+L.classString(b)):(new u(a,b,d,e)).promise()}function x(a){this.accum=a;this.array._gotAccum(a);a=h(this.value,this.array._promise);return a instanceof d?(this.array._currentCancellable=a,a._then(I,n,n,this,n)):I.call(this,a)}function I(a){var b=this.array,e=b._promise,g=F(b._fn);e._pushContext();
a=b._eachValues!==n?g.call(e._boundValue(),a,this.index,this.length):g.call(e._boundValue(),this.accum,a,this.index,this.length);a instanceof d&&(b._currentCancellable=a);g=e._popContext();p.checkForgottenReturns(a,g,b._eachValues!==n?"Promise.each":"Promise.reduce",e);return a}var G=d._getDomain,L=a("./util"),F=L.tryCatch;L.inherits(u,e);u.prototype._gotAccum=function(a){this._eachValues!==n&&null!==this._eachValues&&a!==m&&this._eachValues.push(a)};u.prototype._eachComplete=function(a){null!==this._eachValues&&
this._eachValues.push(a);return this._eachValues};u.prototype._init=function(){};u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==n?this._eachValues:this._initialValue)};u.prototype.shouldCopyValues=function(){return!1};u.prototype._resolve=function(a){this._promise._resolveCallback(a);this._values=null};u.prototype._resultCancelled=function(a){if(a===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof
d&&this._currentCancellable.cancel(),this._initialValue instanceof d&&this._initialValue.cancel())};u.prototype._iterate=function(a){this._values=a;var b,e,g=a.length;this._initialValue!==n?(b=this._initialValue,e=0):(b=d.resolve(a[0]),e=1);this._currentCancellable=b;if(!b.isRejected())for(;e<g;++e)b=b._then(x,n,n,{accum:null,value:a[e],index:e,length:g,array:this},n);this._eachValues!==n&&(b=b._then(this._eachComplete,n,n,this,n));b._then(v,v,n,b,this)};d.prototype.reduce=function(a,b){return H(this,
a,b,null)};d.reduce=function(a,b,d,e){return H(a,b,d,e)}}},{"./util":36}],29:[function(b,d,n){b=b("./util");n=function(){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");};var q=b.getNativePromise();if(b.isNode&&"undefined"===typeof MutationObserver){var r=h.setImmediate,E=a.nextTick;b=b.isRecentNode?function(a){r.call(h,a)}:function(b){E.call(a,b)}}else if("function"===typeof q&&"function"===typeof q.resolve){var B=q.resolve();b=function(a){B.then(a)}}else b="undefined"===
typeof MutationObserver||"undefined"!==typeof ea&&ea.navigator&&(ea.navigator.standalone||ea.cordova)?"undefined"!==typeof e?function(a){e(a)}:"undefined"!==typeof setTimeout?function(a){setTimeout(a,0)}:n:function(){var a=document.createElement("div"),b={attributes:!0},d=!1,e=document.createElement("div");(new MutationObserver(function(){a.classList.toggle("foo");d=!1})).observe(e,b);return function(g){var h=new MutationObserver(function(){h.disconnect();g()});h.observe(a,b);d||(d=!0,e.classList.toggle("foo"))}}();
d.exports=b},{"./util":36}],30:[function(a,d,e){d.exports=function(d,e,g){function h(a){this.constructor$(a)}var m=d.PromiseInspection;a("./util").inherits(h,e);h.prototype._promiseResolved=function(a,b){this._values[a]=b;return++this._totalResolved>=this._length?(this._resolve(this._values),!0):!1};h.prototype._promiseFulfilled=function(a,b){var d=new m;d._bitField=33554432;d._settledValueField=a;return this._promiseResolved(b,d)};h.prototype._promiseRejected=function(a,b){var d=new m;d._bitField=
16777216;d._settledValueField=a;return this._promiseResolved(b,d)};d.settle=function(a){g.deprecated(".settle()",".reflect()");return(new h(a)).promise()};d.prototype.settle=function(){return d.settle(this)}}},{"./util":36}],31:[function(a,d,e){d.exports=function(d,e,g){function h(a){this.constructor$(a);this._howMany=0;this._initialized=this._unwrap=!1}function m(a,b){if((b|0)!==b||0>b)return g("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var d=new h(a),e=d.promise();d.setHowMany(b);
d.init();return e}var p=a("./util"),u=a("./errors").RangeError,v=a("./errors").AggregateError,H=p.isArray,x={};p.inherits(h,e);h.prototype._init=function(){if(this._initialized)if(0===this._howMany)this._resolve([]);else{this._init$(n,-5);var a=H(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}};h.prototype.init=function(){this._initialized=!0;this._init()};h.prototype.setUnwrap=function(){this._unwrap=!0};h.prototype.howMany=
function(){return this._howMany};h.prototype.setHowMany=function(a){this._howMany=a};h.prototype._promiseFulfilled=function(a){this._addFulfilled(a);return this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1};h.prototype._promiseRejected=function(a){this._addRejected(a);return this._checkOutcome()};h.prototype._promiseCancelled=function(){if(this._values instanceof d||null==this._values)return this._cancel();
this._addRejected(x);return this._checkOutcome()};h.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new v,b=this.length();b<this._values.length;++b)this._values[b]!==x&&a.push(this._values[b]);0<a.length?this._reject(a):this._cancel();return!0}return!1};h.prototype._fulfilled=function(){return this._totalResolved};h.prototype._rejected=function(){return this._values.length-this.length()};h.prototype._addRejected=function(a){this._values.push(a)};h.prototype._addFulfilled=
function(a){this._values[this._totalResolved++]=a};h.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};h.prototype._getRangeError=function(a){return new u("Input array must contain at least "+this._howMany+" items but contains only "+a+" items")};h.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};d.some=function(a,b){return m(a,b)};d.prototype.some=function(a){return m(this,a)};d._SomePromiseArray=h}},{"./errors":12,"./util":36}],32:[function(a,
d,e){d.exports=function(a){function b(a){a!==n?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():n):(this._bitField=0,this._settledValueField=n)}b.prototype._settledValue=function(){return this._settledValueField};var d=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},e=b.prototype.error=b.prototype.reason=
function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},g=b.prototype.isFulfilled=function(){return 0!==(this._bitField&33554432)},h=b.prototype.isRejected=function(){return 0!==(this._bitField&16777216)},m=b.prototype.isPending=function(){return 0===(this._bitField&50397184)},p=b.prototype.isResolved=function(){return 0!==(this._bitField&50331648)};b.prototype.isCancelled=function(){return 0!==
(this._bitField&8454144)};a.prototype.__isCancelled=function(){return 65536===(this._bitField&65536)};a.prototype._isCancelled=function(){return this._target().__isCancelled()};a.prototype.isCancelled=function(){return 0!==(this._target()._bitField&8454144)};a.prototype.isPending=function(){return m.call(this._target())};a.prototype.isRejected=function(){return h.call(this._target())};a.prototype.isFulfilled=function(){return g.call(this._target())};a.prototype.isResolved=function(){return p.call(this._target())};
a.prototype.value=function(){return d.call(this._target())};a.prototype.reason=function(){var a=this._target();a._unsetRejectionIsUnhandled();return e.call(a)};a.prototype._value=function(){return this._settledValue()};a.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};a.PromiseInspection=b}},{}],33:[function(a,d,e){d.exports=function(d,e){function g(a,b,n){var p=new d(e),u=p;n&&n._pushContext();p._captureStackTrace();n&&n._popContext();var v=!0;a=h.tryCatch(b).call(a,
function(a){p&&(p._resolveCallback(a),p=null)},function(a){p&&(p._rejectCallback(a,v,!0),p=null)});v=!1;p&&a===m&&(p._rejectCallback(a.e,!0,!0),p=null);return u}var h=a("./util"),m=h.errorObj,p=h.isObject,u={}.hasOwnProperty;return function(a,b){if(p(a)){if(a instanceof d)return a;var h;try{h=a.then}catch(v){m.e=v,h=m}if(h===m)return b&&b._pushContext(),h=d.reject(h.e),b&&b._popContext(),h;if("function"===typeof h){var B;try{B=u.call(a,"_promise0")}catch(L){B=!1}return B?(h=new d(e),a._then(h._fulfill,
h._reject,n,h,null),h):g(a,h,b)}}return a}}},{"./util":36}],34:[function(a,d,e){d.exports=function(d,e,g){function h(a){this.handle=a}function m(a){clearTimeout(this.handle);return a}function p(a){clearTimeout(this.handle);throw a;}var u=a("./util"),v=d.TimeoutError;h.prototype._resultCancelled=function(){clearTimeout(this.handle)};var H=function(a){return x(+this).thenReturn(a)},x=d.delay=function(a,b){var m,p;b!==n?(m=d.resolve(b)._then(H,null,null,a,n),g.cancellation()&&b instanceof d&&m._setOnCancel(b)):
(m=new d(e),p=setTimeout(function(){m._fulfill()},+a),g.cancellation()&&m._setOnCancel(new h(p)),m._captureStackTrace());m._setAsyncGuaranteed();return m};d.prototype.delay=function(a){return x(a,this)};d.prototype.timeout=function(a,b){var d,e,q=new h(setTimeout(function(){if(d.isPending()){var a=d,g=e,h;h="string"!==typeof b?b instanceof Error?b:new v("operation timed out"):new v(b);u.markAsOriginatingFromRejection(h);a._attachExtraTrace(h);a._reject(h);null!=g&&g.cancel()}},+a));g.cancellation()?
(e=this.then(),d=e._then(m,p,n,q,n),d._setOnCancel(q)):d=this._then(m,p,n,q,n);return d}}},{"./util":36}],35:[function(a,d,e){d.exports=function(d,e,g,h,m,p){function u(a){setTimeout(function(){throw a;},0)}function v(a,b){function e(){if(h>=n)return p._fulfill();var m;m=a[h++];var r=g(m);r!==m&&"function"===typeof m._isDisposable&&"function"===typeof m._getDisposer&&m._isDisposable()&&r._setDisposable(m._getDisposer());m=r;if(m instanceof d&&m._isDisposable()){try{m=g(m._getDisposer().tryDispose(b),
a.promise)}catch(v){return u(v)}if(m instanceof d)return m._then(e,u,null,null,null)}e()}var h=0,n=a.length,p=new d(m);e();return p}function H(a,b,d){this._data=a;this._promise=b;this._context=d}function x(a,b,d){this.constructor$(a,b,d)}function I(a){return H.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function G(a){this.length=a;this.promise=null;this[a-1]=null}var L=a("./util"),F=a("./errors").TypeError,O=a("./util").inherits,V=L.errorObj,T=L.tryCatch,W={};H.prototype.data=
function(){return this._data};H.prototype.promise=function(){return this._promise};H.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():W};H.prototype.tryDispose=function(a){var b=this.resource(),d=this._context;d!==n&&d._pushContext();a=b!==W?this.doDispose(b,a):null;d!==n&&d._popContext();this._promise._unsetDisposable();this._data=null;return a};H.isDisposer=function(a){return null!=a&&"function"===typeof a.resource&&"function"===typeof a.tryDispose};O(x,H);
x.prototype.doDispose=function(a,b){return this.data().call(a,a,b)};G.prototype._resultCancelled=function(){for(var a=this.length,b=0;b<a;++b){var e=this[b];e instanceof d&&e.cancel()}};d.using=function(){var a=arguments.length;if(2>a)return e("you must pass at least 2 arguments to Promise.using");var b=arguments[a-1];if("function"!==typeof b)return e("expecting a function but got "+L.classString(b));var h,m=!0;2===a&&Array.isArray(arguments[0])?(h=arguments[0],a=h.length,m=!1):(h=arguments,a--);
for(var u=new G(a),x=0;x<a;++x){var A=h[x];if(H.isDisposer(A)){var B=A,A=A.promise();A._setDisposable(B)}else B=g(A),B instanceof d&&(A=B._then(I,null,null,{resources:u,index:x},n));u[x]=A}a=Array(u.length);for(x=0;x<a.length;++x)a[x]=d.resolve(u[x]).reflect();var F=d.all(a).then(function(a){for(var d=0;d<a.length;++d){var e=a[d];if(e.isRejected())return V.e=e.error(),V;if(!e.isFulfilled()){F.cancel();return}a[d]=e.value()}O._pushContext();b=T(b);a=m?b.apply(n,a):b(a);d=O._popContext();p.checkForgottenReturns(a,
d,"Promise.using",O);return a}),O=F.lastly(function(){var a=new d.PromiseInspection(F);return v(u,a)});u.promise=O;O._setOnCancel(u);return O};d.prototype._setDisposable=function(a){this._bitField|=131072;this._disposer=a};d.prototype._isDisposable=function(){return 0<(this._bitField&131072)};d.prototype._getDisposer=function(){return this._disposer};d.prototype._unsetDisposable=function(){this._bitField&=-131073;this._disposer=n};d.prototype.disposer=function(a){if("function"===typeof a)return new x(a,
this,h());throw new F;}}},{"./errors":12,"./util":36}],36:[function(b,d,e){function q(){try{var a=H;H=null;return a.apply(this,arguments)}catch(b){return z.e=b,z}}function r(a){return null==a||!0===a||!1===a||"string"===typeof a||"number"===typeof a}function E(a,b,d){if(r(a))return a;u.defineProperty(a,b,{value:d,configurable:!0,enumerable:!1,writable:!0});return a}function B(a){return null!==a&&"object"===typeof a&&"string"===typeof a.message&&"string"===typeof a.name}function A(a){return B(a)&&
u.propertyIsWritable(a,"stack")}function C(a){return{}.toString.call(a)}var u=b("./es5");b="undefined"==typeof navigator;var z={e:{}},H;e="undefined"!==typeof self?self:"undefined"!==typeof ea?ea:"undefined"!==typeof h?h:this!==n?this:null;var x=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var d=0;d<a.length;++d)if(a[d]===b)return!0;return!1};if(u.isES5){var d=Object.getOwnPropertyNames;return function(a){for(var e=[],g=Object.create(null);null!=a&&!b(a);){var h;
try{h=d(a)}catch(m){break}for(var n=0;n<h.length;++n){var p=h[n];if(!g[p]){g[p]=!0;var q=Object.getOwnPropertyDescriptor(a,p);null!=q&&null==q.get&&null==q.set&&e.push(p)}}a=u.getPrototypeOf(a)}return e}}var e={}.hasOwnProperty;return function(d){if(b(d))return[];var g=[],h;a:for(h in d){if(!e.call(d,h))for(var m=0;m<a.length;++m)if(e.call(a[m],h))continue a;g.push(h)}return g}}(),I=/this\s*\.\s*\S+\s*=/,G=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in Error()?function(a){return A(a)?a:Error(a+
"")}:function(a){if(A(a))return a;try{throw Error(a+"");}catch(b){return b}}}(),F=function(a){return u.isArray(a)?a:null};if("undefined"!==typeof Symbol&&Symbol.iterator)var O="function"===typeof Array.from?function(a){return Array.from(a)}:function(a){var b=[];a=a[Symbol.iterator]();for(var d;!(d=a.next()).done;)b.push(d.value);return b},F=function(a){return u.isArray(a)?a:null!=a&&"function"===typeof a[Symbol.iterator]?O(a):null};var V="undefined"!==typeof a&&"[object process]"===C(a).toLowerCase(),
T="undefined"!==typeof a&&!0;b={isClass:function(a){try{if("function"===typeof a){var b=u.names(a.prototype),d=u.isES5&&1<b.length,e=0<b.length&&!(1===b.length&&"constructor"===b[0]),g=I.test(a+"")&&0<u.names(a).length;if(d||e||g)return!0}return!1}catch(h){return!1}},isIdentifier:function(a){return G.test(a)},inheritedDataKeys:x,getDataPropertyOrDefault:function(a,b,d){if(u.isES5){if(a=Object.getOwnPropertyDescriptor(a,b),null!=a)return null==a.get&&null==a.set?a.value:d}else return{}.hasOwnProperty.call(a,
b)?a[b]:n},thrower:function(a){throw a;},isArray:u.isArray,asArray:F,notEnumerableProp:E,isPrimitive:r,isObject:function(a){return"function"===typeof a||"object"===typeof a&&null!==a},isError:B,canEvaluate:b,errorObj:z,tryCatch:function(a){H=a;return q},inherits:function(a,b){function d(){this.constructor=a;this.constructor$=b;for(var g in b.prototype)e.call(b.prototype,g)&&"$"!==g.charAt(g.length-1)&&(this[g+"$"]=b.prototype[g])}var e={}.hasOwnProperty;d.prototype=b.prototype;a.prototype=new d;return a.prototype},
withAppended:function(a,b){var d=a.length,e=Array(d+1),g;for(g=0;g<d;++g)e[g]=a[g];e[g]=b;return e},maybeWrapAsError:function(a){return r(a)?Error(a+""):a},toFastProperties:function(a){function b(){}b.prototype=a;for(var d=8;d--;)new b;return a},filledRange:function(a,b,d){for(var e=Array(a),g=0;g<a;++g)e[g]=b+g+d;return e},toString:function(a){return a+""},canAttachTrace:A,ensureErrorObject:L,originatesFromRejection:function(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||
!0===a.isOperational},markAsOriginatingFromRejection:function(a){try{E(a,"isOperational",!0)}catch(b){}},classString:C,copyDescriptors:function(a,b,d){for(var e=u.names(a),g=0;g<e.length;++g){var h=e[g];if(d(h))try{u.defineProperty(b,h,u.getDescriptor(a,h))}catch(m){}}},hasDevTools:"undefined"!==typeof chrome&&chrome&&"function"===typeof chrome.loadTimes,isNode:V,hasEnvVariables:T,env:function(a){return T?{__DEBUG__:"false",NODE_ENV:"production"}[a]:n},global:e,getNativePromise:function(){if("function"===
typeof Promise)try{var a=new Promise(function(){});if("[object Promise]"==={}.toString.call(a))return Promise}catch(b){}},domainBind:function(a,b){return a.bind(b)}};b.isRecentNode=b.isNode&&function(){var b=a.versions.node.split(".").map(Number);return 0===b[0]&&10<b[1]||0<b[0]}();b.isNode&&b.toFastProperties(a);try{throw Error();}catch(W){b.lastLineError=W}d.exports=b},{"./es5":13}]},{},[4])(4)});"undefined"!==typeof ea&&null!==ea?ea.P=ea.Promise:"undefined"!==typeof self&&null!==self&&(self.P=
self.Promise)}).call(h,a(25),function(){return this}(),a(265).setImmediate)},function(d,h,a){function g(a,d){this._id=a;this._clearFn=d}var m=Function.prototype.apply;h.setTimeout=function(){return new g(m.call(setTimeout,ea,arguments),clearTimeout)};h.setInterval=function(){return new g(m.call(setInterval,ea,arguments),clearInterval)};h.clearTimeout=h.clearInterval=function(a){a&&a.close()};g.prototype.unref=g.prototype.ref=function(){};g.prototype.close=function(){this._clearFn.call(ea,this._id)};
h.enroll=function(a,d){clearTimeout(a._idleTimeoutId);a._idleTimeout=d};h.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};h._unrefActive=h.active=function(a){clearTimeout(a._idleTimeoutId);var d=a._idleTimeout;0<=d&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},d))};a(266);h.setImmediate=setImmediate;h.clearImmediate=clearImmediate},function(d,h,a){(function(a,d){(function(a,f){function b(a){"function"!==typeof a&&(a=new Function(""+a));for(var b=Array(arguments.length-
1),d=0;d<b.length;d++)b[d]=arguments[d+1];z[u]={callback:a,args:b};I(u);return u++}function g(a){delete z[a]}function h(a){if(H)setTimeout(h,0,a);else{var b=z[a];if(b){H=!0;try{var d=b.callback,e=b.args;switch(e.length){case 0:d();break;case 1:d(e[0]);break;case 2:d(e[0],e[1]);break;case 3:d(e[0],e[1],e[2]);break;default:d.apply(f,e);break}}finally{g(a),H=!1}}}}function n(){I=function(a){d.nextTick(function(){h(a)})}}function r(){if(a.postMessage&&!a.importScripts){var b=!0,d=a.onmessage;a.onmessage=
function(){b=!1};a.postMessage("","*");a.onmessage=d;return b}}function E(){var b="setImmediate$"+Math.random()+"$",d=function(d){d.source===a&&"string"===typeof d.data&&0===d.data.indexOf(b)&&h(+d.data.slice(b.length))};a.addEventListener?a.addEventListener("message",d,!1):a.attachEvent("onmessage",d);I=function(d){a.postMessage(b+d,"*")}}function B(){var a=new MessageChannel;a.port1.onmessage=function(a){h(a.data)};I=function(b){a.port2.postMessage(b)}}function A(){var a=x.documentElement;I=function(b){var d=
x.createElement("script");d.onreadystatechange=function(){h(b);d.onreadystatechange=null;a.removeChild(d);d=null};a.appendChild(d)}}function C(){I=function(a){setTimeout(h,0,a)}}if(!a.setImmediate){var u=1,z={},H=!1,x=a.document,I,G=Object.getPrototypeOf&&Object.getPrototypeOf(a),G=G&&G.setTimeout?G:a;"[object process]"==={}.toString.call(a.process)?n():r()?E():a.MessageChannel?B():x&&"onreadystatechange"in x.createElement("script")?A():C();G.setImmediate=b;G.clearImmediate=g}})("undefined"===typeof self?
"undefined"===typeof a?this:a:self)}).call(h,function(){return this}(),a(25))}])})});