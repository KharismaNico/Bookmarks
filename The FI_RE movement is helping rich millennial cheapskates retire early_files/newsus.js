!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={sourceMap:!1,minifyCode:!0,modules:["widget"],version:"2.4.6",tagId:"newsus",businessUuid:"4cc2f1d4-9140-4581-9357-ae15360eb566",cookiePrefix:"_ppl",logLevel:"warn",visitorCookieExpiryDays:365,visitCookieExpirySecs:1800,eventCollectorEndpoint:"https://tag.pprl.io",lotameClientId:7408,lotameSyncSeconds:86400,logUserMatch:!0,embedWidgetClassName:"pureprofile-survey-widget"};window._ppl_tag_app_config&&"object"==typeof window._ppl_tag_app_config&&Object.assign(o,window._ppl_tag_app_config),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);t.getQueryParamValue=function(e){for(var t=0,n=window.location.search.substring(1).split("&");t<n.length;t++){var o=n[t].split("=");if(decodeURIComponent(o[0])===e)return decodeURIComponent(o[1])}return null},t.genUuid=function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},t.getTld=function(){for(var e=["_ppl","test",(new Date).getTime()].join("_"),t=window.location.hostname.split("."),n=t.length-1;n>=0;){var i=t.slice(n,t.length).join(".");if(o.set(e,"test",{expires:1,path:"/",domain:i,secure:!1}),o.get(e))return o.remove(e,{path:"/",domain:i,secure:!1}),i;o.remove(e,{path:"/",domain:i,secure:!1}),n-=1}return window.location.hostname},t.now=function(){return Math.floor((new Date).getTime()/1e3)},t.toInteger=function(e){var t=parseInt(e,10);return isNaN(t)?NaN:t},t.dateAddSeconds=function(e,t){return new Date(e.getTime()+1e3*t)},t.getSearchEngine=function(e){var t=[{name:"google",regex:/^https?\:\/\/(?:www\.)?(?:google\.(?:com?\.)?(?:com|cat|[a-z]{2})|g.cn)\//i},{name:"yandex",regex:/^https?\:\/\/(?:www\.)?ya(?:ndex\.(?:com|net)?\.?(?:asia|mobi|org|[a-z]{2})?|\.ru)\//i},{name:"duckduckgo",regex:/^https?\:\/\/(?:www\.)?duckduckgo\.com\//i},{name:"ask",regex:/^https?\:\/\/(?:www\.)?ask\.com\//i},{name:"yahoo",regex:/^https?\:\/\/(?:[-a-z]+\.)?(?:search\.)?yahoo\.com\//},{name:"bing",regex:/^https?\:\/\/(?:www\.)?bing\.com\//i}].find(function(t){return t.regex.test(e)});return t?t.name:null}},function(e,t,n){var o,i;!function(r,a){"use strict";void 0===(i="function"==typeof(o=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(t,o){for(var i=0;i<n.length;i++){var r=n[i];this[r]=i<t?e:this.methodFactory(r,t,o)}this.log=this.debug}function r(n,r,a){return function(n){"debug"===n&&(n="log");return typeof console!==t&&(void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||function(e,n,o){return function(){typeof console!==t&&(i.call(this,n,o),this[e].apply(this,arguments))}}.apply(this,arguments)}function a(e,o,a){var s,c=this,u="loglevel";function l(){var e;if(typeof window!==t){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,o=n.indexOf(encodeURIComponent(u)+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(u+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=a||r,c.getLevel=function(){return s},c.setLevel=function(o,r){if("string"==typeof o&&void 0!==c.levels[o.toUpperCase()]&&(o=c.levels[o.toUpperCase()]),!("number"==typeof o&&o>=0&&o<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+o;if(s=o,!1!==r&&function(e){var o=(n[e]||"silent").toUpperCase();if(typeof window===t)return;try{return void(window.localStorage[u]=o)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+o+";"}catch(e){}}(o),i.call(c,o,e),typeof console===t&&o<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){l()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=l();null==d&&(d=null==o?"WARN":o),c.setLevel(d,!1)}var s=new a,c={};s.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new a(e,s.getLevel(),s.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return s.noConflict=function(){return typeof window!==t&&window.log===s&&(window.log=u),s},s.getLoggers=function(){return c},s})?o.call(t,n,t,e):o)||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(){return function(){this.pageId=o.genUuid(),this.widgetImpressionTime=null,this.marketingData=null,this.visitorData=null,this.externalUserData=null,this.widgetOptions=null,this.browserInfo={pageUrl:window.location.href,refUrl:document.referrer,isIframe:!(window.self===window.top),userAgent:navigator.userAgent,documentTitle:document.title||"",timezoneOffset:(new Date).getTimezoneOffset()/-60}}}();t.state=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(6),r=n(0),a=n(3),s={visits:"wvs",impressions:"wip",widgetItems:"wes"},c={pageUrl:"prl",refUrl:"rul",isIframe:"ifm",userAgent:"uag",documentTitle:"ptl",timezoneOffset:"tzi"},u={campaign:"m02",source:"m00",medium:"m01",term:"m03",content:"m04"},l={visitId:"vid",visitorId:"tid",visitorBirth:"tts",isNewVisitor:"tin",visitCount:"vct"},d="tag",p="bud",f="svt",g="pid",h="ver",m={externalUserId:"uid",externalUserSource:"usc",externalUserSegments:"usg"},y={accountHolderKey:"ahk",campaignUuid:"cad",questionUuid:"qid"},v=function(){function e(){this.endpoint=r.default.eventCollectorEndpoint}return e.prototype.stringifyData=function(e,t){if(e){var n={};for(var o in e)o in t&&void 0!==e[o]&&(n[t[o]]=e[o]);return i.stringify(n)}return""},e.prototype.mandatory=function(e){var t={};return t[d]=r.default.tagId,t[p]=r.default.businessUuid,t[g]=a.state.pageId,t[h]=r.default.version,null!=e&&(t[f]=e),i.stringify(t)},e.prototype.buildQueryString=function(e){return[this.mandatory(e),this.stringifyData(a.state.browserInfo,c),this.stringifyData(a.state.marketingData,u),this.stringifyData(a.state.externalUserData,m),this.stringifyData(a.state.visitorData,l)].filter(function(e){return e.length>0})},e.prototype.recordWidgetEvent=function(e,t){var n=this.buildQueryString(e);if(null!=t){var o=this.stringifyData(t,y);o.length>0&&n.push(o)}var i=[this.endpoint,"/collect/surveyData","?",n.join("&")].join("");(new Image).src=i},e.prototype.recordPageView=function(){var e=this.buildQueryString(),t=[this.endpoint,"/collect/page","?",e.join("&")].join("");(new Image).src=t},e.prototype.getWidget=function(e){var t={visits:e.visits,impressions:e.impressions,widgetItems:e.items.filter(function(e){return"impression"!==e.action}).map(function(e){return e.action+"."+e.epochTime}).join(",")},n=this.buildQueryString();n.push(this.stringifyData(t,s));var i=[this.endpoint,"/v2/widget","?",n.join("&")].join("");return new Promise(function(e,t){o(i,function(t,n){e(t?{widgetUrl:"",reason:t.toString(),message:"error from /v2/widget"}:{widgetUrl:n.widgetUrl,widgetOptions:n.widgetOptions})})})},e.prototype.fetchPanelTokens=function(e){var t=this;return new Promise(function(n,r){var a=t.endpoint+"/v2/auth/panel?"+i.stringify(e);o(a,function(e,t){e?r(e):n(t)})})},e.prototype.goExternalSurvey=function(e){var t=this;return new Promise(function(n,r){var a=t.endpoint+"/v2/survey/go?"+i.stringify(e);o(a,function(e,t){e?r(e):n(t)})})},e.prototype.fetchEmbedWidget=function(e){var t=this;return new Promise(function(n,i){var r=t.endpoint+"/v2/embed/guid/"+e;o(r,function(e,t){e?i(e):n(t)})})},e.prototype.fetchPlacement=function(e,t){var n=this;return new Promise(function(r,a){var s={accountGuid:e,placementName:t},c=n.endpoint+"/v2/placement?"+i.stringify(s);o(c,function(e,t){e?a(e):r(t)})})},e.prototype.fetchCampaignDetails=function(e,t,n){var r=this;return new Promise(function(a,s){var c={accountGuid:e.accountGuid,ahApiUrl:e.ahApiUrl,segmentsApiUrl:e.segmentsApiUrl,instanceCode:e.instanceCode,calloutCategoryGuid:e.calloutCategoryGuid,panelGuid:e.panelGuid,segments:n,segmentOnlyTracking:e.segmentOnlyTracking};t.accountHolderKey&&(c.accountHolderKey=t.accountHolderKey),t.authToken&&(c.ppToken=t.authToken),e.campaignGuid&&(c.campaignGuid=e.campaignGuid);var u=r.endpoint+"/v2/campaign/detail?"+i.stringify(c);o(u,function(e,t){e?s(e):a(t)})})},e}();t.collector=new v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.name="module"}return e.prototype.execute=function(){console.error("{$name} not implemented")},e}();t.Module=o},function(e,t,n){"use strict";var o,i=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,r,a=[];for(r in"string"!=typeof t&&(t="?"),e)if(i.call(e,r)){if((n=e[r])||null!==n&&n!==o&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;a.push(r+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);){var i=r(t[1]),a=r(t[2]);null===i||null===a||i in o||(o[i]=a)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="session-user-segment",i=n(8),r=n(3),a=n(1),s=n(4),c=n(0),u=n(9);function l(){return new Promise(function(e,t){var n=u.VisitorCookie.construct();n?(r.state.externalUserData={externalUserId:n.uuid,externalUserSource:"firstparty",externalUserSegments:""},c.default.logUserMatch&&s.collector.recordWidgetEvent("user"),e({trackingId:n.uuid,segments:[]})):e({trackingId:null,segments:[]})})}function d(){return new Promise(function(e,t){var n=new i(r.state.browserInfo.pageUrl,"",!0);if(n.query&&n.query.pp_tracking_id){var o="test-"+("auto"===n.query.pp_tracking_id?a.genUuid():n.query.pp_tracking_id),u=n.query.pp_tracking_segments?n.query.pp_tracking_segments.split(","):[];r.state.externalUserData={externalUserId:o,externalUserSource:"qs",externalUserSegments:u.join(",")},c.default.logUserMatch&&s.collector.recordWidgetEvent("user"),e({trackingId:o,segments:u})}else t("missing pp_tracking_id: "+r.state.browserInfo.pageUrl)})}function p(){return new Promise(function(e,t){var n=setInterval(function(){if(window.Krux){var t=window.Krux,o=t.newsiq_kuid,i=t.newsiq_segments;r.state.externalUserData={externalUserId:o,externalUserSource:"newsiq",externalUserSegments:i.join(",")},c.default.logUserMatch&&s.collector.recordWidgetEvent("user"),e({trackingId:o,segments:i}),clearInterval(n)}},200)})}function f(){return new Promise(function(e,t){var n=setInterval(function(){var t=window.sessionStorage.getItem(o);if(t){var i=JSON.parse(t);e({trackingId:i.trackingId,segments:i.segments}),clearInterval(n)}},200)})}t.getUserIntegrationImplementation=function(e){var t=new i(r.state.browserInfo.pageUrl,"",!0);if(t.query&&t.query.pp_tracking_id)return d;if(null==e&&r.state.widgetOptions&&(e=r.state.widgetOptions.userIntegrationMethod),"newsiq"===e)return p;if("firstparty"===e)return l;if("custom"===e)return f;throw Error("no user integration method")}},function(e,t,n){"use strict";(function(t){var o=n(19),i=n(6),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(e){var n,o=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||o);if("blob:"===e.protocol)i=new f(unescape(e.pathname),{});else if("string"===a)for(n in i=new f(e,{}),l)delete i[n];else if("object"===a){for(n in e)n in l||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=r.test(e.href))}return i}function p(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(e=c(e),!(this instanceof f))return new f(e,t,n);var r,a,s,l,g,h,m=u.slice(),y=typeof t,v=this,w=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=d(t),r=!(a=p(e||"")).protocol&&!a.slashes,v.slashes=a.slashes||r&&t.slashes,v.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(m[3]=[/(.*)/,"pathname"]);w<m.length;w++)"function"!=typeof(l=m[w])?(s=l[0],h=l[1],s!=s?v[h]=e:"string"==typeof s?~(g=e.indexOf(s))&&("number"==typeof l[2]?(v[h]=e.slice(0,g),e=e.slice(g+l[2])):(v[h]=e.slice(g),e=e.slice(0,g))):(g=s.exec(e))&&(v[h]=g[1],e=e.slice(0,g.index)),v[h]=v[h]||r&&l[3]&&t[h]||"",l[4]&&(v[h]=v[h].toLowerCase())):e=l(e);n&&(v.query=n(v.query)),r&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=n.length,i=n[o-1],r=!1,a=0;o--;)"."===n[o]?n.splice(o,1):".."===n[o]?(n.splice(o,1),a++):a&&(0===o&&(r=!0),n.splice(o,1),a--);return r&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(v.pathname,t.pathname)),o(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(l=v.auth.split(":"),v.username=l[0]||"",v.password=l[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}f.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),r[e]=t;break;case"port":r[e]=t,o(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";r[e]=t.charAt(0)!==a?a+t:t}else r[e]=t;break;default:r[e]=t}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(r[c[1]]=r[c[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var r=o+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},f.extractProtocol=p,f.location=d,f.trimLeft=c,f.qs=i,e.exports=f}).call(this,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(6),r=n(0),a=n(1);function s(e){return r.default.cookiePrefix+"_"+e}t.clearJSCookies=function(){c.clear(),u.clear()};var c=function(){function e(e){this.uuid=e}return e.clear=function(){o.remove(s(e.cookieName),{path:"/",domain:a.getTld(),secure:!1})},e.construct=function(){var t=o.get(s(e.cookieName)),n=null;if(t){var r=i.parse(t);"uuid"in r&&(n=new e(r.uuid))}return n},e.prototype.set=function(){o.set(s(e.cookieName),this.encode(),{expires:a.dateAddSeconds(new Date,r.default.visitCookieExpirySecs),path:"/",domain:a.getTld(),secure:!1})},e.prototype.encode=function(){return i.stringify({uuid:this.uuid})},e.cookieName="visit",e}();t.VisitCookie=c;var u=function(){function e(e,t,n){this.uuid=e,this.birth=t,this.count=n}return e.clear=function(){o.remove(s(e.cookieName),{path:"/",domain:a.getTld(),secure:!1})},e.construct=function(){var t=o.get(s(e.cookieName)),n=null;if(t){var r=i.parse(t);"uuid"in r&&"birth"in r&&"count"in r&&(n=new e(r.uuid,a.toInteger(r.birth),a.toInteger(r.count)))}return n},e.prototype.set=function(){o.set(s(e.cookieName),this.encode(),{expires:r.default.visitorCookieExpiryDays,path:"/",domain:a.getTld(),secure:!1})},e.prototype.encode=function(){return i.stringify({uuid:this.uuid,birth:this.birth,count:this.count})},e.cookieName="visitor",e}();t.VisitorCookie=u},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function r(e){return new Promise(function(t,n){var o=!1,i=document.createElement("script");i.onload=i.onreadystatechange=function(){o||i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(o=!0,i.onload=i.onreadystatechange=null,t(i))},i.onerror=function(){t(null)},i.charset="utf-8",i.type=e.type||"text/javascript",i.async=e.async||!0,null!=e.scriptId&&(i.id=e.scriptId),null!=e.tagId&&(i.tagId=e.tagId),i.src=e.url,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(i)})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=r;var a={};t.loadScriptOnce=function(e){var t=this;return new Promise(function(n,s){return o(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e in a?"loaded"===a[e]?[2,n(!0)]:"loading"!==a[e]?[3,2]:[4,new Promise(function(t){!function n(){if("loaded"===a[e])return t(!0);setTimeout(n,100)}()})]:[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return a[e]="loading",[4,r({url:e})];case 4:return t.sent(),a[e]="loaded",[2,n(!0)];case 5:return[2]}})})})}},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(6),u=n(2),l=n(7),d=n(4),p=n(3),f=n(1),g=n(5),h=n(10),m=n(13),y=function(){function e(){var e=window.sessionStorage.getItem(this.getKey());if(e)try{var t=JSON.parse(e);this.sessionId=t.sessionId,this.impressions=t.impressions}catch(e){console.warn(e),this.sessionId=f.genUuid(),this.impressions=0}else this.sessionId=f.genUuid(),this.impressions=0}return e.prototype.getKey=function(){return s.default.cookiePrefix+"_widget"},e.prototype.persist=function(){window.sessionStorage.setItem(this.getKey(),JSON.stringify({sessionId:this.sessionId,impressions:this.impressions}))},e}(),v=function(){function e(){var e=window.localStorage.getItem(this.getKey());if(e)try{var t=JSON.parse(e);this.impressions=t.impressions||0,this.visits=t.visits||0,this.items=t.items||[]}catch(e){console.warn(e),this.impressions=0,this.visits=0,this.items=[]}else this.impressions=0,this.visits=0,this.items=[]}return e.prototype.getKey=function(){return s.default.cookiePrefix+"_widget"},e.recordWidgetEvent=function(t){var n=new e;n.items.push({action:t,epochTime:f.now()}),n.persist()},e.prototype.persist=function(){window.localStorage.setItem(this.getKey(),JSON.stringify({impressions:this.impressions,visits:this.visits,items:this.items}))},e}();t.WidgetData=v;var w=function(e){function t(){var t=e.call(this)||this;return t.name="widget",t.widgetData=new v,t.sessionData=new y,t}return i(t,e),t.prototype.updateStorage=function(){this.widgetData.impressions++,0===this.sessionData.impressions&&this.widgetData.visits++,this.sessionData.impressions++,this.widgetData.persist(),this.sessionData.persist()},t.prototype.renderInvitation=function(e){var t=this;return new Promise(function(n,o){return r(t,void 0,void 0,function(){var t,o,i,s,l,p=this;return a(this,function(f){switch(f.label){case 0:return t=e.widget,[4,d.collector.fetchCampaignDetails(this.widgetToFetchCampaignDetailsOptions(t),e.tokens,e.segments)];case 1:return null==(o=f.sent().campaignDetail)?(u.info("no campaign available for placement"),[2,n()]):(u.info("loading invite campaign "+o.guid+" ("+t.invitationWidgetUrl+")"),[4,h.loadScriptOnce(t.invitationWidgetUrl)]);case 2:return f.sent(),i=m.getEmbedInvitationModule(),s=o.guid,l=o.type,[4,i.displayInvitation(this.campaignDetailToInvitationValues(o),this.widgetToInvitationOptions({widget:t,campaignDetail:o,onGo:function(){return r(p,void 0,void 0,function(){var n,o,i,r;return a(this,function(a){switch(a.label){case 0:return this.processInvitationEvent("accept",s,e.tokens),"esurvey"!==l?[3,1]:(u.info("opening esurvey guid="+s),n=e.widget.landingPageUrl,o=this.widgetToLandingPageOptions({widget:e.widget,campaignGuid:s,campaignType:"esurvey",trackingId:e.trackingId,tokens:e.tokens}),window.open(n+"?"+c.stringify(o)),[3,5]);case 1:return"landing"!==e.widget.openMethodCode?[3,2]:(n=e.widget.customLandingPageUrl||e.widget.landingPageUrl,o=this.widgetToLandingPageOptions({widget:e.widget,campaignGuid:s,campaignType:"widget",trackingId:e.trackingId,tokens:e.tokens}),window.open(n+"?"+c.stringify(o)),[3,5]);case 2:return[4,h.loadScriptOnce(t.lightboxWidgetUrl)];case 3:return a.sent(),i=m.getEmbedLightboxCampaignModule(),r={animationDef:{duration:t.lightboxDuration,easeFunction:t.lightboxEaseFunction},onShow:function(){u.info("show lightbox campaign "+s)},platform:this.widgetToPlatformSettings(t,s),tokens:e.tokens,trackingId:e.trackingId,onWidgetEvent:this.processCampaignEvent},u.debug(r),[4,i.displayLightbox(r)];case 4:a.sent(),a.label=5;case 5:return[2]}})})},onCancel:function(){p.processInvitationEvent("reject",s,e.tokens)},onShow:function(){p.processInvitationEvent("display",s,e.tokens)}}))];case 3:return f.sent(),n(),[2]}})})})},t.prototype.processCampaignEvent=function(e,t){d.collector.recordWidgetEvent(e,t)},t.prototype.processInvitationEvent=function(e,t,n){var o={campaignUuid:t};n.accountHolderKey&&(o.accountHolderKey=n.accountHolderKey),d.collector.recordWidgetEvent(e,o),v.recordWidgetEvent(e)},t.prototype.widgetToLandingPageOptions=function(e){return{trackingId:e.trackingId,accountGuid:s.default.businessUuid,tagId:s.default.tagId,placementName:e.widget.placementName,campaignGuid:e.campaignGuid,campaignType:e.campaignType,accountHolderKey:e.tokens.accountHolderKey,authToken:e.tokens.authToken}},t.prototype.widgetToInvitationOptions=function(e){var t={invitationType:e.widget.invitationType,animationDuration:e.widget.invitationDuration,onGo:e.onGo,onCancel:e.onCancel,onShow:e.onShow,styleOverrideObj:{},closeAfter:e.widget.invitationCloseAfter,rawStyleOverrideObj:e.campaignDetail.survey_theme_obj};return null!=e.widget.invitationStyleObj&&(t.styleOverrideObj=JSON.parse(e.widget.invitationStyleObj)),null!=e.widget.elemPushDown&&(t.elemPushDown=JSON.parse(e.widget.elemPushDown)),null!=e.widget.toasterDirection&&(null==e.widget.toasterPosition?t.toaster={from:"left",bottom:"0",left:"0"}:t.toaster=JSON.parse(e.widget.toasterPosition)),u.debug(t),t},t.prototype.campaignDetailToInvitationValues=function(e){var t={name:e.invitation.name};return e.invitation.text&&(t.description=e.invitation.text),u.debug(t),t},t.prototype.widgetToFetchCampaignDetailsOptions=function(e){var t={ahApiUrl:e.ahApiUrl,accountGuid:e.accountUuid,segmentsApiUrl:e.segmentsApiUrl,calloutCategoryGuid:e.categoryUuid,panelGuid:e.panelUuid,segments:[],segmentOnlyTracking:e.segmentOnlyTracking,instanceCode:e.instanceCode};return null!=e.campaignGuid&&(t.campaignGuid=e.campaignGuid),t},t.prototype.widgetToPlatformSettings=function(e,t){return{campaignWidgetUrl:e.campaignWidgetUrl,authApiUrl:e.authApiUrl,authFetchProfile:"before-answer-submit",ahApiUrl:e.ahApiUrl,instanceCode:e.instanceCode,instanceGuid:e.instanceUuid,panelGuid:e.panelUuid,trackingPartnerId:e.trackingPartnerId,campaignGuid:t,accountGuid:e.accountUuid,calloutCategoryGuid:e.categoryUuid,styleObject:e.styleOverrideObj}},t.prototype.loadWidget=function(){return r(this,void 0,void 0,function(){var e,t,n,o,i,r;return a(this,function(a){switch(a.label){case 0:return[4,d.collector.getWidget({visits:this.widgetData.visits,impressions:this.widgetData.impressions,items:this.widgetData.items})];case 1:return null==(e=a.sent()).widgetOptions?[2]:(t=e.widgetOptions,p.state.widgetOptions=t,e.widgetOptions.customIntegrationUrl&&(u.info("loading "+e.widgetOptions.customIntegrationUrl),h.loadScriptOnce(e.widgetOptions.customIntegrationUrl)),[4,l.getUserIntegrationImplementation(t.userIntegrationMethod)()]);case 2:return n=a.sent(),o=n.trackingId,i=n.segments,null==o?(u.info("unable to get user tracking id"),[2]):[4,d.collector.fetchPanelTokens({authUrl:t.authApiUrl,trackingId:o,trackingPartnerId:t.trackingPartnerId,panelGuid:t.panelUuid})];case 3:return r=a.sent().tokens,[4,this.renderInvitation({widget:e.widgetOptions,trackingId:o,segments:i,tokens:r})];case 4:return a.sent(),[2]}})})},t.prototype.execute=function(){this.updateStorage(),p.state.widgetImpressionTime=new Date,d.collector.recordWidgetEvent("impression"),this.loadWidget()},t}(g.Module);t.WidgetModule=w},function(e,t,n){var o,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(r){if(void 0===(i="function"==typeof(o=r)?o.call(t,n,t,e):o)||(e.exports=i),!0,e.exports=r(),!!0){var a=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function t(n){function o(t,i,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},o.defaults,r)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}r.expires=r.expires?r.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in r)r[u]&&(c+="; "+u,!0!==r[u]&&(c+="="+r[u]));return document.cookie=t+"="+i+c}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var f=l[p].split("="),g=f.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var h=f[0].replace(d,decodeURIComponent);if(g=n.read?n.read(g,h):n(g,h)||g.replace(d,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(t===h){a=g;break}t||(a[h]=g)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}(function(){})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmbedCtaModule=function(){if(!("embed-cta-module"in window))throw Error("embed-cta-module has not been loaded");return window["embed-cta-module"]},t.getEmbedInvitationModule=function(){if(!("embed-invitation-module"in window))throw Error("embed-invitation-module has not been loaded");return window["embed-invitation-module"]},t.getEmbedLightboxCampaignModule=function(){if(!("embed-lightbox-campaign-module"in window))throw Error("embed-lightbox-campaign-module has not been loaded");return window["embed-lightbox-campaign-module"]}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(29),s=n(10);t.loadCampaignWidget=function(e){var t=this;return new Promise(function(n,c){return o(t,void 0,void 0,function(){var t,o;return i(this,function(i){switch(i.label){case 0:return r.info("div id="+e.div.id+" loading from url="+e.platform.campaignWidgetUrl),[4,s.loadScriptOnce(e.platform.campaignWidgetUrl)];case 1:return i.sent(),t={target:e.div,authApiUrl:e.platform.authApiUrl,authFetchProfile:e.platform.authFetchProfile,defaultAhApiUrl:e.platform.ahApiUrl,defaultInstanceCode:e.platform.instanceCode,defaultInstanceUuid:e.platform.instanceGuid,defaultPanelUuid:e.platform.panelGuid,useAnonymousRegistration:!0,doNotSendCookiesWhenRegistering:!0,useCookieAuth:!1,displayMode:"full-screen",deviceMode:"widget",preStyleObj:a.defaultNativeWidgetStyles,trackingPartnerId:e.platform.trackingPartnerId,processStyleObjFn:a.processStyeObjFn,hideNextButton:!0,height250:!1,businessUuid:e.platform.accountGuid,campaignUuid:e.platform.campaignGuid,categoryUuid:e.platform.calloutCategoryGuid,trackingId:e.trackingId},e.platform.styleObject&&(t.postStyleObj=JSON.parse(e.platform.styleObject)),e.tokens.authToken&&(t.useAuthToken=e.tokens.authToken),e.closeButtonDef&&(t.closeButtonDef=e.closeButtonDef),o=new PPCampaignWidget(t),null!=e.ensureUserProfile&&e.ensureUserProfile&&o.ensureUserProfile(),null!=e.onWidgetEvent&&function(e,t){var n={};e.on("profile-loaded",function(e){var t=e.key;n.accountHolderKey=t}),e.on("campaign-displayed",function(e){n.campaignUuid=e,t("campaign_displayed",n)}),e.on("question-answered",function(e){n.questionUuid=e,t("question_answered",n)}),e.on("campaign-finished",function(){delete n.questionUuid,t("campaign_finished",n)}),e.on("no-campaign",function(){t("no_campaign",n)})}(o,e.onWidgetEvent),n(o),[2]}})})})}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),a=n(2),s=n(0),c=n(17),u=n(3),l=n(9),d=n(11),p=n(7),f=n(32),g=n(4),h=new(n(8))(u.state.browserInfo.pageUrl,"",!0);h.query&&h.query.pp_log_level?a.setLevel(h.query.pp_log_level):a.setLevel(s.default.logLevel);var m=function(){function e(){}return e.prototype.getVersion=function(){return s.default.version},e.prototype.getPageInfo=function(){return u.state.browserInfo},e.prototype.clearCookies=function(){l.clearJSCookies()},e.prototype.getWidgetImpressionTime=function(){return u.state.widgetImpressionTime},e.prototype.getWidgetOptions=function(){return u.state.widgetOptions},e.prototype.uploadWidgetEvent=function(e,t){g.collector.recordWidgetEvent(e,t)},e.prototype.recordWidgetEvent=function(e){d.WidgetData.recordWidgetEvent(e)},e.prototype.getUserIntegrationMethod=function(){return p.getUserIntegrationImplementation()},e.prototype.loadCampaignWidget=function(e,t){f.loadCampaignWidgetForPage(e,t)},e.prototype.showTrackingInfo=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this.getUserIntegrationMethod()];case 1:return[4,t.sent()()];case 2:return e=t.sent(),a.info("trackingId: "+e.trackingId),a.info("segments: "+e.segments),[2]}})})},e}();t.EmbedTag=m,r.polyfillLoader({features:"Promise",onCompleted:function(){var e=window,t=new m;e[s.default.cookiePrefix+"_tag"]=t;for(var n=0,o=c.constructModules();n<o.length;n++)o[n].execute()}})},function(e,t,n){"use strict";Array.prototype.filter||(Array.prototype.filter=function(e,t){if("Function"!=typeof e&&"function"!=typeof e||!this)throw new TypeError;var n=this.length>>>0,o=new Array(n),i=this,r=0,a=-1;if(void 0===t)for(;++a!==n;)a in this&&e(i[a],a,i)&&(o[r++]=i[a]);else for(;++a!==n;)a in this&&e.call(t,i[a],a,i)&&(o[r++]=i[a]);return o.length=r,o}),Array.prototype.map||(Array.prototype.map=function(e){var t,n,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=new Array(r),o=0;o<r;){var a,s;o in i&&(a=i[o],s=e.call(t,a,o,i),n[o]=s),o++}return n});var o=function(e){for(var t=e.split(",").filter(function(e){return e.length}).map(function(e){return e.replace(/[\*\/]/g,"")}),n=[],o=0;o<t.length;o++){var s=!0,c=t[o];if(r(c,"~"))r(c,"Intl.~locale")?s=i(window,c):console.warn("Feature "+c+" can not be detected because it has not JavaScript API.");else{var u=c.substring(c.lastIndexOf(".")+1);if(r(u,"@@"))console.warn("Feature "+u+" can not be detected because it depends on Symbol.");else{var l=c.substring(0,c.lastIndexOf(".")),d=a(window,l);void 0!==d?u in d==!1&&(s=!1):s=!1}}!1===s&&n.push(c)}return n};function i(e,t){var n=t.split("Intl.~locale"),o="";if(2===n.length){var i=n[1];if(i&&""!==i)return o=i.replace(".",""),"Intl"in e&&"Collator"in e.Intl&&"supportedLocalesOf"in e.Intl.Collator&&1===e.Intl.Collator.supportedLocalesOf(o).length&&"DateTimeFormat"in e.Intl&&"supportedLocalesOf"in e.Intl.DateTimeFormat&&1===e.Intl.DateTimeFormat.supportedLocalesOf(o).length&&"NumberFormat"in e.Intl&&"supportedLocalesOf"in e.Intl.NumberFormat&&1===e.Intl.NumberFormat.supportedLocalesOf(o).length;console.warn("Feature "+t+" has wrong Intl.~locale.XX format. For example Intl.~locale.en-US")}else console.warn("Feature "+t+" has wrong Intl.~locale format. For example Intl.~locale.en-US");return!1}function r(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}function a(e,t){var n=t.split(".");if(n.length>0&&""!==n[0])for(;n.length;){var o=n.shift();if(!(o in e))return void console.warn("[getDescendantProp] - "+o+" property does not exists.");e=e[o]}return e}e.exports={polyfillLoader:function(e){var t=e.onCompleted;if(void 0===t)return new Error("options.onCompleted function is required.");var n=e.features||"",i=o(n);0===i.length?t():function(e,t){var n=!1;function o(){n||(n=!0,t(e))}var i=document.createElement("script");i.onload=o,i.type="text/javascript",i.onreadystatechange=function(){n||"complete"===i.readyState&&o()},i.onerror=function(){n||(n=!0,t(new Error("Failed to load script "+e)))},i.src=e,document.head.appendChild(i)}((e.polyfillService||"https://cdn.polyfill.io/v2/polyfill.min.js")+"?features="+i.join(",")+"&flags=gated,always",t)},detectBrowserUnsupportedFeatures:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(11),r=n(25),a=n(26),s=n(27),c=n(28),u=n(31);t.constructModules=function(){for(var e=[],t=0,n=o.default.modules;t<n.length;t++){var l=n[t];switch(l){case"cookie":e.push(new a.CookieModule);break;case"marketing":e.push(new r.MarketingModule);break;case"page":e.push(new s.PageModule);break;case"widget":e.push(new i.WidgetModule);break;case"embed_widget":e.push(new c.EmbedWidgetModule);break;case"lotame":e.push(new u.LotameModule);break;default:console.log('unknown module "'+l+'"')}}return e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){var o=n(21)("jsonp");e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var a,s,c=t.prefix||"__jp",u=t.name||c+i++,l=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,p=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;d&&(s=setTimeout(function(){g(),n&&n(new Error("Timeout"))},d));function g(){a.parentNode&&a.parentNode.removeChild(a),window[u]=r,s&&clearTimeout(s)}return window[u]=function(e){o("jsonp got",e),g(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+l+"="+p(u)).replace("?&","?"),o('jsonp req "%s"',e),(a=document.createElement("script")).src=e,f.parentNode.insertBefore(a,f),function(){window[u]&&g()}};var i=0;function r(){}},function(e,t,n){(function(o){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e}(t=e.exports=n(23)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,o)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n(22))},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||l||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var o;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,r=i-(o||i);e.diff=r,e.prev=o,e.curr=i,o=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;c++;var i=t.formatters[o];if("function"==typeof i){var r=a[c];n=i.call(e,r),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length,i=0;i<o;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(24),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,o=60*n,i=60*o,r=24*i,a=365.25*r;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*o;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,r,"day")||s(c,i,"hour")||s(c,o,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=r)return Math.round(e/r)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=o)return Math.round(e/o)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(8),s=n(0),c=n(3),u=n(1),l=function(e){function t(){var t=e.call(this)||this;return t.name="marketing",t}return i(t,e),t.prototype.storageKey=function(){return s.default.cookiePrefix+"_marketing"},t.prototype.saveToStorage=function(e){window.sessionStorage.setItem(this.storageKey(),JSON.stringify(e))},t.prototype.constructDirect=function(){return{campaign:"(direct)",source:"(direct)",medium:"(direct)",term:"",content:""}},t.prototype.constructFromSearch=function(e){var t=null,n=u.getSearchEngine(e);return n&&(t={campaign:"(organic)",source:n,medium:"(organic)",term:"",content:""}),t},t.prototype.constructFromRef=function(e,t){var n=null;if(e&&t){var o=new a(e).hostname,i=new a(t).hostname;i&&o&&i!==o&&(n={campaign:"(referral)",source:i,medium:"(referral)",term:"",content:new a(t).pathname})}return n},t.prototype.constructFromUrl=function(e){var t=null,n=new a(e,"",!0),o=n.query.utm_campaign;if(o){var i=function(e,t){var n=e.query[t];return void 0!==n?n:""};t={campaign:o,source:i(n,"utm_source"),medium:i(n,"utm_medium"),term:i(n,"utm_term"),content:i(n,"utm_content")}}return t},t.prototype.constructDataFromStorage=function(){var e=null,t=window.sessionStorage.getItem(this.storageKey());if(t)try{e=JSON.parse(t)}catch(e){r.warn("unable to parse marketing data: ${e}"),window.sessionStorage.removeItem(this.storageKey())}return e},t.prototype.execute=function(){var e=this.constructDataFromStorage()||this.constructFromUrl(c.state.browserInfo.pageUrl)||this.constructFromSearch(c.state.browserInfo.refUrl)||this.constructFromRef(c.state.browserInfo.pageUrl,c.state.browserInfo.refUrl)||this.constructDirect();this.saveToStorage(e),c.state.marketingData=e},t}(n(5).Module);t.MarketingModule=l},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(1),s=n(9),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="cookie",t}return i(t,e),t.prototype.execute=function(){var e=!1,t=s.VisitorCookie.construct();if(!t){e=!0;var n=a.genUuid();t=new s.VisitorCookie(n,a.now(),0)}var o=s.VisitCookie.construct();if(!o){n=a.genUuid();o=new s.VisitCookie(n),t.count++}o.set(),t.set(),r.state.visitorData={visitId:o.uuid,visitorId:t.uuid,visitorBirth:t.birth,isNewVisitor:e,visitCount:t.count}},t}(n(5).Module);t.CookieModule=c},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=function(e){function t(){var t=e.call(this)||this;return t.name="page",t}return i(t,e),t.prototype.execute=function(){r.collector.recordPageView()},t}(n(5).Module);t.PageModule=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(1),u=n(2),l=n(4),d=n(7),p=n(14),f=n(10),g=n(13),h=n(5),m=n(1),y=function(e){function t(){var t=e.call(this)||this;return t.name="embed",t}return i(t,e),t.prototype.selectWidgetDivs=function(){var e=document.querySelectorAll("."+s.default.embedWidgetClassName),t=c.getQueryParamValue("widget"),n=[];return e.forEach(function(e){var o=e.dataset.widgetGuid||t;n.push({div:e,guid:o})}),n},t.prototype.handleMissingGuid=function(e){u.info("missing widget guid for "+e.id)},t.prototype.handleMissingWidgetSetting=function(e,t){u.info("widget settings missing for id="+e.id+" guid="+t)},t.prototype.handleMissingTrackingId=function(e,t){u.info("missing tracking id for id="+e.id+" guid="+t.widgetGuid)},t.prototype.handleMissingCampaign=function(e,t){u.info("no campaign widget div="+e.id+" guid="+t.widgetGuid)},t.prototype.widgetToPlatformSettings=function(e,t){return{campaignWidgetUrl:e.campaignWidgetUrl,authApiUrl:e.authApiUrl,authFetchProfile:"before-answer-submit",ahApiUrl:e.ahApiUrl,instanceCode:e.instanceCode,instanceGuid:e.instanceGuid,panelGuid:e.panelGuid,trackingPartnerId:e.trackingPartnerId,accountGuid:e.accountGuid,campaignGuid:t.guid,calloutCategoryGuid:e.calloutCategoryGuid,styleObject:e.styleObject}},t.prototype.renderWidget=function(e){return r(this,void 0,void 0,function(){var t,n,o;return a(this,function(i){switch(i.label){case 0:return u.info("render div id="+e.div.id+" with widget guid="+e.widget.widgetGuid),t=e.widget,n={ahApiUrl:t.ahApiUrl,accountGuid:t.accountGuid,segmentsApiUrl:t.segmentsApiUrl,calloutCategoryGuid:t.calloutCategoryGuid,panelGuid:t.panelGuid,segments:[],segmentOnlyTracking:t.segmentOnlyTracking,instanceCode:t.instanceCode},null!=t.campaignGuid&&(n.campaignGuid=t.campaignGuid),[4,l.collector.fetchCampaignDetails(n,e.tokens,e.segments)];case 1:return(o=i.sent().campaignDetail)?e.widget.isCtaEnabled?(u.info("load CTA for widget '"+e.widget.widgetGuid+"' into div"),[4,f.loadScriptOnce(e.widget.widgetCtaUrl)]):[3,3]:[2,this.handleMissingCampaign(e.div,e.widget)];case 2:return i.sent(),g.getEmbedCtaModule().displayCta({widgetSetting:e.widget,tokens:e.tokens,campaignDetail:o,trackingId:e.trackingId,targetDiv:e.div}),[3,5];case 3:return[4,p.loadCampaignWidget({div:e.div,platform:this.widgetToPlatformSettings(e.widget,o),tokens:e.tokens,trackingId:e.trackingId})];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.placeWidgets=function(){return r(this,void 0,void 0,function(){var e,t,n,o,i,r,s,c,u,p;return a(this,function(a){switch(a.label){case 0:e=0,t=this.selectWidgetDivs(),a.label=1;case 1:return e<t.length?(n=t[e],o=n.div,(i=n.guid)?[4,l.collector.fetchEmbedWidget(i)]:(this.handleMissingGuid(o),[3,6])):[3,7];case 2:return null===(r=a.sent().widget)?(this.handleMissingWidgetSetting(o,i),[3,6]):[4,d.getUserIntegrationImplementation(r.userIntegrationMethod)()];case 3:return s=a.sent(),c=s.trackingId,u=s.segments,null==c?(this.handleMissingTrackingId(o,r),[3,6]):[4,l.collector.fetchPanelTokens({authUrl:r.authApiUrl,trackingId:c,trackingPartnerId:r.trackingPartnerId,panelGuid:r.panelGuid})];case 4:return p=a.sent().tokens,[4,this.renderWidget({div:o,widget:r,tokens:p,trackingId:c,segments:u})];case 5:a.sent(),a.label=6;case 6:return e++,[3,1];case 7:return[2]}})})},t.prototype.setupListener=function(){return r(this,void 0,void 0,function(){var e,t=this;return a(this,function(n){return u.info("setup listener for postmessage events"),e={},window.addEventListener("message",function(n){return r(t,void 0,void 0,function(){var t,o;return a(this,function(i){switch(i.label){case 0:return"openLightbox"!==(t=n.data).name||t.id in e?[3,2]:(u.info("received msg '"+t.name+"' id="+t.id),o={id:m.genUuid(),name:"ack",payload:{id:t.id,name:t.name}},e[t.id]=!0,n.source.postMessage(o,"*"),[4,f.loadScriptOnce(t.payload.lightboxUrl)]);case 1:i.sent(),g.getEmbedLightboxCampaignModule().displayLightbox({animationDef:{duration:800,easeFunction:"easeInSine"},onShow:function(){u.info("show lightbox for embed widget")},platform:t.payload.platform,tokens:t.payload.tokens,trackingId:t.payload.trackingId,onWidgetEvent:function(e,t){l.collector.recordWidgetEvent(e,t)}}),i.label=2;case 2:return[2]}})})},!1),[2]})})},t.prototype.execute=function(){u.info("execute embed widget module"),this.setupListener(),this.placeWidgets()},t}(h.Module);t.EmbedWidgetModule=y},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});function i(e,t){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];"object"===typeof o?i(o,t):t(e,n)}}function r(e,t){var n=e[t],o=new RegExp(/[\d.]+rem/g),i=new RegExp(/[\d.]+/);n.replace&&(e[t]=n.replace(o,function(e){var t=e.match(i);if(t){var n=10*parseFloat(t[0]);return String(n)+"px"}return""}))}t.smartPhoneScreenSize=767,t.tabletScreenSize=991,t.desktopScreenSize=769,t.screenSize={smartphone:"@media only screen and (max-width: "+t.smartPhoneScreenSize+"px)",tablet:"@media only screen and (max-width: "+t.tabletScreenSize+"px) and (min-width: 768px) ",desktop:"@media only screen and (min-width: "+t.desktopScreenSize+"px)"},t.processStyeObjFn=function(e){return i(e,function(e,t){r(e,t)}),e},t.walkObject=i,t.remToPx=r,t.defaultNativeWidgetStyles={commonPadding:{"@media (min-width: 768px) and (min-height: 718px)":{padding:"22px 0 0 0"}},surveyContainer:{width:"100%",":nth-child(1n) *":{boxSizing:"border-box"}},headerRoot:{display:"none",position:"unset"},headerTitle:{marginRight:"40px"},headerTopRightMenu:{display:"none"},surveyBoxWrapper:{padding:0,marginTop:0,minHeight:"1px",alignItems:"baseline",flex:"none"},surveyBoxContainer:{margin:"0 !important",border:"none !important",boxShadow:"none !important",maxWidth:"100% !important",background:"#ffffff !important",fontFamily:'"PT Sans", Tahoma, Geneva, sans-serif'},surveyBoxHeaderContainer:{height:"auto",backgroundSize:"cover",backgroundPosition:"50% 50%","@media (min-width: 768px) and (min-height: 718px)":{display:"flex",justifyContent:"flex-end",alignItems:"center",flexDirection:"column"}},surveyBoxHeaderText:{width:"100%",marginTop:25,marginBottom:15,fontSize:18,fontWeight:"600","@media (min-width: 768px) and (min-height: 718px)":{maxWidth:600}},surveyBoxHeaderSubtext:{width:"100%",margin:0,fontSize:14,"@media (min-width: 768px) and (min-height: 718px)":{maxWidth:600}},surveyControlWrapper:{width:"100%",backgroundColor:"#ffffff",margin:"auto",alignItems:"initial","@media (min-width: 768px) and (min-height: 718px)":{padding:"0 22px",height:350,overflowY:"scroll",display:"flex",justifyContent:"center"},":nth-child(1n) > *":{"@media (min-width: 768px) and (min-height: 718px)":{maxWidth:600}},":nth-child(1n) *":{fontSize:16}},surveyControlDropdownArrowIcon:{width:16,height:16,backgroundImage:"url("+n(30)+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",top:"50%",transform:"translate(0, -50%)",":before":{content:"none"}},surveyControlDropdownInnerList:{boxSizing:"content-box",overflow:"visible",margin:0,padding:0,paddingBottom:15,listStyle:"none",maxHeight:""},surveyControlSelectRadioRow:{paddingBottom:15},thankYouMessage:{display:"none"},thankYouRatingWrapper:{display:"none"},footerRoot:{position:"relative",paddingTop:15,background:"#ffffff",display:"block",flex:"1 1 0%","@media (max-width: 768px)":{backgroundColor:"transparent"}},surveyBoxFooterButton:{fontSize:16,width:"100% !important",height:40,"@media (min-width: 768px) and (min-height: 718px)":{margin:"auto",marginTop:16,marginBottom:16,maxWidth:285},":not([disabled]):active":{background:""}},footerLogoContainer:{minHeight:1,minWidth:1},footerLogo:{maxHeight:65,maxWidth:"50%",width:"auto",background:"none"},footerTerms:{background:"transparent",":nth-child(1n) *":{color:"#000000",fontFamily:'"PT Sans", Tahoma, Geneva, sans-serif',"@media (min-width: 768px) and (min-height: 718px)":{color:"#ffffff"}},":nth-child(1n) a":{textDecoration:"underline"},"@media (min-height: 718px) and (min-width: 768px)":{position:"absolute",top:"100%"}},fadeIn:{opacity:0,transition:"opacity 0.5s linear"},fadeOut:{opacity:1,transition:"opacity 0.5s linear"},fadeOutEase:{opacity:0,transition:"opacity 1s ease"}},t.defaultNativeEmbedWidgetStyles={surveyContainer:{":nth-child(1n) *":{boxSizing:"border-box"},":nth-child(1n) ul":{padding:0,margin:0},":nth-child(1n) i":{fontStyle:"normal"},":nth-child(1n) input":{borderRadius:3},backgroundImage:"none",boxShadow:"rgb(154, 154, 154) 0px 1px 4px",border:"0.5px solid #eeeeee"},surveyBoxWrapper:{margin:"0 !important"},surveyBoxContainer:{height:"100%",overflow:"hidden",boxShadow:"none",margin:0,border:"none","@media only screen and (min-width: 769px)":{maxWidth:"100% !important",marginTop:0},"@media only screen and (max-width: 767px)":{marginTop:0}},surveyBoxSize:{"@media only screen and (min-width: 769px)":{maxWidth:"none",margin:0}},surveyBoxHeaderContainer:{backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},surveyControlWrapper:{overflow:"hidden",display:"block",flex:"none",minHeight:0,height:"auto",paddingBottom:0},headerRoot:{display:"none"},surveyBoxFooterContainer:{width:"100%",position:"relative",bottom:0},surveyBoxFooterFooter:{backgroundColor:"rgb(71, 83, 105)","@media only screen and (min-width: 769px)":{justifyContent:"center"}},surveyBoxFooterButton:{border:"none",borderWidth:0,borderRadius:3,fontSize:16,paddingTop:12,paddingBottom:12,"@media only screen and (min-width: 769px)":{width:285}},surveyBoxProgressBarIncomplete:{display:"block"},surveyBoxProgressBarComplete:{height:"100%"},thankYouRoot:{minHeight:"100%"},surveyBoxHeaderText:{marginBottom:"20 !important"},surveyBoxHeaderSubtext:{color:"#ffffff !important",marginBottom:"0 !important"},surveyControlFrequencySpendContainer:{"@media only screen and (max-width: 767px)":{alignContent:"flex-start",minHeight:"auto"}},surveyControlMultiSliderRoot:{"@media only screen and (max-width: 767px)":{marginBottom:0}},surveyControlTextFieldRoot:{"@media only screen and (max-width: 767px)":{minHeight:"auto"}},footerLogoContainer:{height:65,width:"100%",background:"none"},footerLogo:{width:"auto",height:"auto",maxHeight:"100%"},thankYouTitle:{fontSize:28,position:"relative",top:0,left:0,width:"100%",margin:0,height:60,display:"flex",justifyContent:"center",alignItems:"center"},thankYouStarIcon:{fontSize:35,fontStyle:"normal"},thankYouRatingText:{fontSize:"22px !important"},thankYouImageWrapper:{display:"flex",justifyContent:"center"},thankYouCloseCampaign:{display:"none"},footerRoot:{minHeight:"auto",paddingTop:15},surveyContainerHeight250:{minHeight:250,backgroundSize:"cover",border:0,padding:"3px 10px",boxSizing:"border-box"},surveyContainerThankYouHeight250:{padding:0},surveyBoxContainerHeight250:{position:"relative",background:"none"},surveyBoxHeaderOverlayHeight250:{background:"none"},surveyBoxHeaderContainerHeight250:(o={padding:2,backgroundColor:"none",backgroundImage:"none",flex:"1 auto",marginBottom:0,minHeight:90},o[t.screenSize.smartphone]={backgroundColor:"none"},o),surveyControlSelectClickBarListRowClickInputHeight250:{marginBottom:5,wordBreak:"break-all",padding:"5px 10px",fontSize:14,lineHeight:"18px",minHeight:46},surveyBoxHeaderTextHeight250:{padding:0},footerRootHeight250:{padding:0,flexDirection:"row",justifyContent:"space-between"},surveyBoxFooterButtonHeight250:{background:"none",border:0,boxShadow:"none",cursor:"pointer",":disabled":{opacity:.8},":not([disabled]):active":{opacity:.8},":not([disabled]):hover":{opacity:.8}}}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxMXB4IiB2aWV3Qm94PSIwIDAgMTYgMTEiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjIgKDY3MTQ1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5pY19leHBhbmRfbW9yZV8yNHB4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ik5ld3MiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04ODIuMDAwMDAwLCAtMzE1LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0MC4wMDAwMDAsIDkyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkNvbnRlbnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNC4wMDAwMDAsIDIwMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpY2stQmFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljX2V4cGFuZF9tb3JlXzI0cHgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxMC4wMDAwMDAsIDkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgZmlsbD0iIzJGNTFCNyIgcG9pbnRzPSIyMi4xMiAxMS40NTMzMzMzIDE2IDE3LjU2IDkuODggMTEuNDUzMzMzMyA4IDEzLjMzMzMzMzMgMTYgMjEuMzMzMzMzMyAyNCAxMy4zMzMzMzMzIj48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aCIgcG9pbnRzPSIwIDAgMzIgMCAzMiAzMiAwIDMyIj48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(0),s=n(1),c=n(5),u=function(){function e(){var e=window.localStorage.getItem(this.getKey());if(e)try{var t=JSON.parse(e);this.lastSyncTime=t.lastSyncTime,this.clientId=t.clientId}catch(e){r.warn("unable to deserialize lotame data: "+e),this.lastSyncTime=0,this.clientId=a.default.lotameClientId}else this.lastSyncTime=0,this.clientId=a.default.lotameClientId}return e.prototype.getKey=function(){return a.default.cookiePrefix+"_lotame"},e.prototype.persist=function(){window.localStorage.setItem(this.getKey(),JSON.stringify({lastSyncTime:this.lastSyncTime,clientId:this.clientId}))},e}(),l=function(e){function t(){var t=e.call(this)||this;return t.name="lotame",t.lotameData=new u,t}return i(t,e),t.prototype.syncId=function(){var e=["//bcp.crwdcntrl.net/5/c=",a.default.lotameClientId,"/pe=y?"+a.default.eventCollectorEndpoint+"/match/log?uid=${profile_id}&usc=lotame&tag=lotame-sync"].join("");(new Image).src=e},t.prototype.execute=function(){(this.lotameData.lastSyncTime<s.now()-a.default.lotameSyncSeconds||this.lotameData.clientId!==a.default.lotameClientId)&&(0===this.lotameData.lastSyncTime?this.lotameData.lastSyncTime=1:this.lotameData.lastSyncTime=s.now(),this.lotameData.clientId=a.default.lotameClientId,this.syncId(),this.lotameData.persist())},t}(c.Module);t.LotameModule=l},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(4),s=n(14);t.loadCampaignWidgetForPage=function(e,t){return o(this,void 0,void 0,function(){var n,o,c,u,l;return i(this,function(i){switch(i.label){case 0:return[4,a.collector.fetchPlacement(t.accountGuid,t.placementName)];case 1:return null===(n=i.sent()).placement?(r.error("unable to fetch placement "+t.placementName),[2]):(o=n.placement,"esurvey"!==t.campaignType?[3,3]:(c={trackingId:t.trackingId,trackingPartnerId:o.trackingPartnerId,ahApiUrl:o.ahApiUrl,authApiUrl:o.authApiUrl,instanceCode:o.instanceCode,campaignGuid:t.campaignGuid,panelGuid:o.panelUuid},t.accountHolderKey&&(c.accountHolderKey=t.accountHolderKey),t.authToken&&(c.ppToken=t.authToken),[4,a.collector.goExternalSurvey(c)]));case 2:return"ok"===(u=i.sent()).status?window.location.href=u.link.openUrl:r.error("unable to get survey: "+u),[3,4];case 3:l={div:e,platform:{campaignWidgetUrl:o.campaignWidgetUrl,authApiUrl:o.authApiUrl,authFetchProfile:"before-answer-submit",ahApiUrl:o.ahApiUrl,instanceCode:o.instanceCode,instanceGuid:o.instanceUuid,panelGuid:o.panelUuid,trackingPartnerId:o.trackingPartnerId,campaignGuid:t.campaignGuid,accountGuid:t.accountGuid,calloutCategoryGuid:o.categoryUuid,styleObject:o.styleOverrideObj},tokens:{accountHolderKey:t.accountHolderKey,authToken:t.authToken},trackingId:t.trackingId,onWidgetEvent:function(e,t){a.collector.recordWidgetEvent(e,t)}},s.loadCampaignWidget(l),i.label=4;case 4:return[2]}})})}}]);