webpackJsonp([31],{15:function(e,n,i){e.exports=i("gGDy")},gGDy:function(e,n){$(function(){var e=null,n={serverTime:null,timezoneOffset:-480},i={isLogin:!1,isVerify:!1,giftAccount:0},t=null,s=[];function o(e){$.ajax({url:"/api/user/isLogin",type:"GET",success:function(s){var o,c;200===s.code&&(c=s.data.cart_items,$(".cart-num").html(c),n.serverTime=s.data.time.replace(/\-/g,"/"),n.timezoneOffset=new Date(n.serverTime).getTimezoneOffset(),i.isLogin=s.data.is_login,i.isVerify=s.data.is_verify,i.giftAccount=s.data.gift_account,t=s.data.user_info,window.localStorage.setItem("locale",s.data.locale),i.isLogin?window.localStorage.setItem("userInfo",JSON.stringify(t)):window.localStorage.setItem("userInfo",""),i.isLogin&&e&&($(".login-user").css("display","flex"),$(".auto-login").css("display","none"),$(".login-user-name").find("span").text(t.username),i.giftAccount&&($(".user-list-gift").css("display","block"),$(".user-list-gift").find("span").text(i.giftAccount))),window.location.href!=window.location.origin+"/"&&window.location.href!=window.location.origin+"/en"&&window.location.href!=window.location.origin+"/ru"||s.data.is_login||"firstCoupon"===localStorage.getItem("firstCoupon")||!s.data.coupons.coupon_title?$.isArray(s.data.coupons)&&s.data.is_login&&s.data.coupons.length&&(!function(e){var n=$("#coupon-content"),i=e.reduce(function(e,n){return e+'<div class="side-item" style="background-image: url('+$("#coupon-img").attr("src")+');">\n        <div class="item-price">\n            <p>\n                '+("cash"==n.discount_type?'<span class="price-icon">$</span>':"")+'\n                 <span class="price-num">'+n.discount_value+"</span>\n                 "+("cash"!==n.discount_type?'<span class="price-icon">%</span>':"")+'\n            </p>\n            <p class="price-off">OFF</p>\n        </div>\n        <div class="item-info">\n            <p class="info-desc">'+n.coupon_desc+'</p>\n            <p class="info-expires">'+n.expires+'</p>\n            <a target="_blank" class="info-btn" href="'+n.rule_link+'">'+n.button_name+"</a>\n        </div>\n    </div>"},"");n.html(i)}(s.data.coupons),$(".coupon-side").show(),"open"!=JSON.parse(window.localStorage.getItem("couponsSide"))&&JSON.parse(window.localStorage.getItem("couponsSide"))?($(".coupon-side").animate({right:"-500px"}),$(".coupon-enter").animate({right:0})):($(".coupon-side").animate({right:0}),$(".coupon-enter").animate({right:"-500px"})),$(".side-select").on("click",function(){window.localStorage.setItem("couponsSide",JSON.stringify("close")),$(".coupon-side").animate({right:"-500px"}),$(".coupon-enter").animate({right:0})}),$(".coupon-enter").on("click",function(){window.localStorage.setItem("couponsSide",JSON.stringify("open")),$(".coupon-side").animate({right:0}),$(".coupon-enter").animate({right:"-500px"})})):(o=s.data.coupons,$(".coupon_notice .price-num").text(o.discount_value),$(".coupon_notice .coupon-title").text(o.coupon_title),$(".coupon_notice .coupon-desc").text(o.coupon_desc),$(".coupon_notice .coupon-expires #expires").text(o.expires),$(".coupon_notice .coupon-btn a").attr("href",o.url).attr("target","_blank"),$(".coupon_notice .coupon-btn button").text(o.button_name),localStorage.setItem("firstCoupon","firstCoupon"),layer.open({type:1,closeBtn:0,shadeClose:!0,shade:.5,area:["460px","460px"],title:!1,content:$(".coupon_notice"),cancel:function(){}})))}})}function c(e){var n="";1===s.length&&1===Object.values(s[0])[0].length&&Object.values(s[0])[0][0].key===e?(n=Object.values(s[0])[0][0].url,window.location.href=n,a(n,e)):$.ajax({url:"/api/global/additional/search?q="+e.trim(),type:"GET",success:function(i){200===i.code&&i.result.lcsc_part_number?(n=i.result.links,window.location.href=i.result.links):(n="/search?q="+e,window.location.href="/search?q="+e),a(n,e)}})}function a(e,n){try{window.sessionStorage.setItem("pro_search_title",n)}catch(e){}var i=JSON.parse(window.localStorage.getItem("search_history_list")),t=null;t=(t=i?i[0]["Search History"]:[]).filter(function(e){if(e.key!==n)return!0}),e?t.unshift({key:n,url:e}):t.unshift({key:n,url:"/search?q="+n});var s=[{"Search History":t}];window.localStorage.setItem("search_history_list",JSON.stringify(s))}function r(e,n){s=e;var i=$(".select-list"),t="";i.empty(),e.forEach(function(e){var n="",i=Object.keys(e)[0];e[i].forEach(function(e){n+='<option value="'+e.key+'" data-url="'+e.url+'" class="pre-option-item">'+e.key+"</option>"}),t+='<optgroup label="'+i+'">'+n+"</optgroup>"}),i.append(t),$(".pre-search-list").css("display","block"),n?$(".clear-all-btn").css("display","flex"):$(".clear-all-btn").css("display","none")}$(".main-account").find(".input-login").length?$.ajax({url:"/auth/login",type:"GET",dataType:"jsonp",crossDomain:!0,success:function(e){},complete:function(){o("reRender")}}):o(),setInterval(function(){if(n.serverTime){var e=function(e){if((new Date).getTimezoneOffset()===e.timezoneOffset){e.serverTime=new Date(e.serverTime).getTime()+1e3;var n=new Date(e.serverTime),i=n.toString().split(/\s/),t=n.getDate();return i[0]+", "+i[1]+" "+t+", "+i[4]+" GMT+8"}var s=60*((new Date).getTimezoneOffset()-e.timezoneOffset)*1e3;e.serverTime=new Date(e.serverTime).getTime()+1e3;var o=new Date(e.serverTime+s),c=o.toString().split(/\s/),a=o.getDate();return c[0]+", "+c[1]+" "+a+", "+c[4]+" GMT+8"}(n);$(".nav-options .options-item").html(e)}},1e3),window.addEventListener("scroll",function(){var e=$(".fixed-header");$(document).scrollTop()>100&&"hidden"===e.css("visibility")&&(e.css("visibility","visible"),$(".header-wrapper .pre-search-list").css("visibility","hidden"));$(document).scrollTop()<100&&(e.css("visibility","hidden"),$(".header-wrapper .pre-search-list").css("visibility","visible"))},!0),$(".content-search .search-input").on("input",function(n){var i=n.target.value;if($(".content-search .search-input").val(i),$(".fixed-header .content-search .search-input").focus(),e&&e.abort(),""===$(this).val().trim())return $(".icon-search-delete").css("display","none");$(".icon-search-delete").css("display","block"),e=$.ajax({url:"/api/pre_search",type:"POST",dataType:"json",data:{search_content:i},success:function(e){200===e.code&&(e.result.length?(r(e.result),$(".header-wrapper .pre-search-list").css("display","block"),$(".fixed-header .pre-search-list").css("display","block"),$(".header-wrapper").css("z-index","3"),$(".header-option").css("z-index","3"),$("#lcscCover").css({display:"block"})):($(".select-list").empty(),$(".header-wrapper").css("z-index",""),$(".header-option").css("z-index",""),$("#lcscCover").css({display:"none"}),$(".pre-search-list").css("display","none")))}})}),$(document).on("click",".icon-search-delete",function(){$(".content-search .search-input").val(""),$(".select-list").empty(),$(".icon-search-delete").css("display","none"),window.sessionStorage.removeItem("pro_search_title")}),$(".content-search .search-input").on("click",function(e){e.stopPropagation()}),$(".content-search .search-input").bind("keypress",function(e){var n=$(".content-search .search-input").val();"13"==e.keyCode&&n.trim()&&c(n)}),$(".search-btn").on("click",function(){var e=$(".content-search .search-input").val();e.trim()&&c(e)}),$(".content-search .search-input").on("focus",function(e){var n;""===$(this).val().trim()?(n=window.localStorage.getItem("search_history_list"))&&r(JSON.parse(n),"showHistory"):$(".icon-search-delete").css("display","block"),$(".select-list")[0].options.length&&($(".header-wrapper .pre-search-list").css("display","block"),$(".fixed-header .pre-search-list").css("display","block"),$(".header-wrapper").css("z-index","3"),$(".header-option").css("z-index","3"),$("#lcscCover").css("display","block"))}),$(".content-search .search-input").on("keydown",function(e){var n=$(".select-list");40===e.keyCode&&n[0].options.length&&(n.focus(),n.prop("selectedIndex",0))}),$(".content-search .select-list").on("keydown",function(e){var n=$(".select-list"),i=n[0].selectedIndex,t=n[0].options.length,s=n[0].scrollHeight,o=n[0].clientHeight,c=n.scrollTop();if(i===t-1&&40===e.keyCode&&c+o===s&&e.preventDefault(),0===i&&38===e.keyCode&&0===n.scrollTop()&&e.preventDefault(),13===e.keyCode){var r=n.find("option:selected").data("url");window.location.href=r,a(r,$(this).val())}}),$(document).on("click",".select-list .pre-option-item",function(e){window.location.href=$(this).data("url"),a($(this).data("url"),$(this).val())}),$(".main-account .orders").on("click",function(){t||i.isVerify?window.location.href="/mallPurchase.html#/order":window.location.href="/mallPurchase.html#/vistor"}),$(".help-list .orders").on("click",function(){t||i.isVerify?window.location.href="/mallPurchase.html#/order":window.location.href="/mallPurchase.html#/vistor"}),$(".nav-anch .nav-anch-product").on("mouseenter",function(){-1===["/","/ru","/en"].indexOf(window.location.pathname)&&$(".main-aside-nav").css("visibility","visible")}),$(".nav-anch .nav-anch-product").on("mouseleave",function(){-1===["/","/ru","/en"].indexOf(window.location.pathname)&&$(".main-aside-nav").css("visibility","hidden")}),$(".bom-nav-btn").on("click",function(){i.isLogin?window.location.href="/bom.html":window.location.href="/auth/login"}),$(".login-user").on("mouseenter",function(){$(this).find(".user-area").css("display","flex")}),$(".login-user").on("mouseleave",function(){$(this).find(".user-area").css("display","none")}),$(".language-list li").on("click",function(){window.sessionStorage.removeItem("asideNavData")}),$(".options-help").on("mouseenter",function(){$(this).find(".help-area").css("display","block")}),$(".options-help").on("mouseleave",function(){$(this).find(".help-area").css("display","none")}),$(".options-language").on("mouseenter",function(){$(this).find(".language-list").css("display","block")}),$(".options-language").on("mouseleave",function(){$(this).find(".language-list").css("display","none")}),$(".options-usd").on("mouseenter",function(){$(this).find(".currency-list").css("display","block")}),$(".options-usd").on("mouseleave",function(){$(this).find(".currency-list").css("display","none")}),$(".language-list li a").on("click",function(){window.localStorage.setItem("locale",$(this).attr("href").substr(-2))}),$(".currency-list li").on("click",function(){var e=$(this).data("currency");$.ajax({url:"/home/currency?currency="+e,type:"GET",success:function(e){window.location.reload()}})}),$(document).on("click",".clear-all-btn-title",function(){window.localStorage.removeItem("search_history_list"),$(this).parent().css("display","none"),$(".select-list").empty(),$(".header-wrapper").css("z-index",""),$(".header-option").css("z-index",""),$(".header-wrapper .pre-search-list").css("display","none"),$(".fixed-header .pre-search-list").css("display","none"),$("#lcscCover").css({display:"none"})}),$(header).on("click",function(){$(".header-wrapper").css("z-index",""),$(".header-option").css("z-index",""),$(".header-wrapper .pre-search-list").css("display","none"),$(".fixed-header .pre-search-list").css("display","none"),$("#lcscCover").css({display:"none"})}),$(document).keydown(function(e){27===e.keyCode&&($(".header-wrapper").css("z-index",""),$(".header-option").css("z-index",""),$(".header-wrapper .pre-search-list").css("display","none"),$(".fixed-header .pre-search-list").css("display","none"),$("#lcscCover").css({display:"none"}),$(".content-search .search-input").blur())}),$("#lcscCover").on("click",function(){$(".header-wrapper").css("z-index",""),$(".header-option").css("z-index",""),$(".header-wrapper .pre-search-list").css("display","none"),$(".fixed-header .pre-search-list").css("display","none"),$("#lcscCover").css({display:"none"})})})}},[15]);