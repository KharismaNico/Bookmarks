var CryptoJS=CryptoJS||function(s,p){var m={},l=m.lib={},n=function(){},r=l.Base={extend:function(b){n.prototype=this;var h=new n;b&&h.mixIn(b);h.hasOwnProperty("init")||(h.init=function(){h.$super.init.apply(this,arguments)});h.init.prototype=h;h.$super=this;return h},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var h in b)b.hasOwnProperty(h)&&(this[h]=b[h]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},q=l.WordArray=r.extend({init:function(b,h){b=this.words=b||[];this.sigBytes=h!=p?h:4*b.length},toString:function(b){return(b||t).stringify(this)},concat:function(b){var h=this.words,a=b.words,j=this.sigBytes;b=b.sigBytes;this.clamp();if(j%4)for(var g=0;g<b;g++)h[j+g>>>2]|=(a[g>>>2]>>>24-8*(g%4)&255)<<24-8*((j+g)%4);else if(65535<a.length)for(g=0;g<b;g+=4)h[j+g>>>2]=a[g>>>2];else h.push.apply(h,a);this.sigBytes+=b;return this},clamp:function(){var b=this.words,h=this.sigBytes;b[h>>>2]&=4294967295<<32-8*(h%4);b.length=s.ceil(h/4)},clone:function(){var b=r.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var h=[],a=0;a<b;a+=4)h.push(4294967296*s.random()|0);return new q.init(h,b)}}),v=m.enc={},t=v.Hex={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++){var k=a[j>>>2]>>>24-8*(j%4)&255;g.push((k>>>4).toString(16));g.push((k&15).toString(16))}return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j+=2)g[j>>>3]|=parseInt(b.substr(j,2),16)<<24-4*(j%8);return new q.init(g,a/2)}},a=v.Latin1={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++)g.push(String.fromCharCode(a[j>>>2]>>>24-8*(j%4)&255));return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j++)g[j>>>2]|=(b.charCodeAt(j)&255)<<24-8*(j%4);return new q.init(g,a)}},u=v.Utf8={stringify:function(b){try{return decodeURIComponent(escape(a.stringify(b)))}catch(g){throw Error("Malformed UTF-8 data");}},parse:function(b){return a.parse(unescape(encodeURIComponent(b)))}},g=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=u.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,g=a.words,j=a.sigBytes,k=this.blockSize,m=j/(4*k),m=b?s.ceil(m):s.max((m|0)-this._minBufferSize,0);b=m*k;j=s.min(4*b,j);if(b){for(var l=0;l<b;l+=k)this._doProcessBlock(g,l);l=g.splice(0,b);a.sigBytes-=j}return new q.init(l,j)},clone:function(){var b=r.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});l.Hasher=g.extend({cfg:r.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,g){return(new b.init(g)).finalize(a)}},_createHmacHelper:function(b){return function(a,g){return(new k.HMAC.init(b,g)).finalize(a)}}});var k=m.algo={};return m}(Math);(function(s){function p(a,k,b,h,l,j,m){a=a+(k&b|~k&h)+l+m;return(a<<j|a>>>32-j)+k}function m(a,k,b,h,l,j,m){a=a+(k&h|b&~h)+l+m;return(a<<j|a>>>32-j)+k}function l(a,k,b,h,l,j,m){a=a+(k^b^h)+l+m;return(a<<j|a>>>32-j)+k}function n(a,k,b,h,l,j,m){a=a+(b^(k|~h))+l+m;return(a<<j|a>>>32-j)+k}for(var r=CryptoJS,q=r.lib,v=q.WordArray,t=q.Hasher,q=r.algo,a=[],u=0;64>u;u++)a[u]=4294967296*s.abs(s.sin(u+1))|0;q=q.MD5=t.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,k){for(var b=0;16>b;b++){var h=k+b,w=g[h];g[h]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var b=this._hash.words,h=g[k+0],w=g[k+1],j=g[k+2],q=g[k+3],r=g[k+4],s=g[k+5],t=g[k+6],u=g[k+7],v=g[k+8],x=g[k+9],y=g[k+10],z=g[k+11],A=g[k+12],B=g[k+13],C=g[k+14],D=g[k+15],c=b[0],d=b[1],e=b[2],f=b[3],c=p(c,d,e,f,h,7,a[0]),f=p(f,c,d,e,w,12,a[1]),e=p(e,f,c,d,j,17,a[2]),d=p(d,e,f,c,q,22,a[3]),c=p(c,d,e,f,r,7,a[4]),f=p(f,c,d,e,s,12,a[5]),e=p(e,f,c,d,t,17,a[6]),d=p(d,e,f,c,u,22,a[7]),c=p(c,d,e,f,v,7,a[8]),f=p(f,c,d,e,x,12,a[9]),e=p(e,f,c,d,y,17,a[10]),d=p(d,e,f,c,z,22,a[11]),c=p(c,d,e,f,A,7,a[12]),f=p(f,c,d,e,B,12,a[13]),e=p(e,f,c,d,C,17,a[14]),d=p(d,e,f,c,D,22,a[15]),c=m(c,d,e,f,w,5,a[16]),f=m(f,c,d,e,t,9,a[17]),e=m(e,f,c,d,z,14,a[18]),d=m(d,e,f,c,h,20,a[19]),c=m(c,d,e,f,s,5,a[20]),f=m(f,c,d,e,y,9,a[21]),e=m(e,f,c,d,D,14,a[22]),d=m(d,e,f,c,r,20,a[23]),c=m(c,d,e,f,x,5,a[24]),f=m(f,c,d,e,C,9,a[25]),e=m(e,f,c,d,q,14,a[26]),d=m(d,e,f,c,v,20,a[27]),c=m(c,d,e,f,B,5,a[28]),f=m(f,c,d,e,j,9,a[29]),e=m(e,f,c,d,u,14,a[30]),d=m(d,e,f,c,A,20,a[31]),c=l(c,d,e,f,s,4,a[32]),f=l(f,c,d,e,v,11,a[33]),e=l(e,f,c,d,z,16,a[34]),d=l(d,e,f,c,C,23,a[35]),c=l(c,d,e,f,w,4,a[36]),f=l(f,c,d,e,r,11,a[37]),e=l(e,f,c,d,u,16,a[38]),d=l(d,e,f,c,y,23,a[39]),c=l(c,d,e,f,B,4,a[40]),f=l(f,c,d,e,h,11,a[41]),e=l(e,f,c,d,q,16,a[42]),d=l(d,e,f,c,t,23,a[43]),c=l(c,d,e,f,x,4,a[44]),f=l(f,c,d,e,A,11,a[45]),e=l(e,f,c,d,D,16,a[46]),d=l(d,e,f,c,j,23,a[47]),c=n(c,d,e,f,h,6,a[48]),f=n(f,c,d,e,u,10,a[49]),e=n(e,f,c,d,C,15,a[50]),d=n(d,e,f,c,s,21,a[51]),c=n(c,d,e,f,A,6,a[52]),f=n(f,c,d,e,q,10,a[53]),e=n(e,f,c,d,y,15,a[54]),d=n(d,e,f,c,w,21,a[55]),c=n(c,d,e,f,v,6,a[56]),f=n(f,c,d,e,D,10,a[57]),e=n(e,f,c,d,t,15,a[58]),d=n(d,e,f,c,B,21,a[59]),c=n(c,d,e,f,r,6,a[60]),f=n(f,c,d,e,z,10,a[61]),e=n(e,f,c,d,j,15,a[62]),d=n(d,e,f,c,x,21,a[63]);b[0]=b[0]+c|0;b[1]=b[1]+d|0;b[2]=b[2]+e|0;b[3]=b[3]+f|0},_doFinalize:function(){var a=this._data,k=a.words,b=8*this._nDataBytes,h=8*a.sigBytes;k[h>>>5]|=128<<24-h%32;var l=s.floor(b/
4294967296);k[(h+64>>>9<<4)+15]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;k[(h+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;a.sigBytes=4*(k.length+1);this._process();a=this._hash;k=a.words;for(b=0;4>b;b++)h=k[b],k[b]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;return a},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=t._createHelper(q);r.HmacMD5=t._createHmacHelper(q)})(Math);$Crabapple.TriforceModule_ent_m209=function(){};$Crabapple.extend($Crabapple.TriforceModule,$Crabapple.TriforceModule_ent_m209,{viewName:'$Crabapple.TriforceView_ent_m209',moduleName:'ENT_M209',helperNames:{'player':'$Crabapple.TriforceHelper_ent_m209_player'},_devicePlatformName:null,overlayNotificationTimeToShow:800,tve:null,$meta:null,$metaWrapper:null,MODULE_UNLOAD_STATE:'player--unload',META_TOGGLEABLE_CLASS:'group-wrap--toggleable',META_TOGGLED_CLASS:'group-wrap--toggled',META_SCROLLABLE_UP_CLASS:'group-wrap--scrollable-up',META_SCROLLABLE_DOWN_CLASS:'group-wrap--scrollable-down',PLAYER_LOADING_STATE:'player--loading',_updateMetaToggleableStateFrameRequested:false,_updateMetaScrollFrameRequested:false,isPlayerHelperInitialize:false,isReportingInitialized:false,isShareInitialized:false,isMetaInitialized:false,isTVEInitialized:false,isUnloadLogicInitialized:false,isGiphyInitialized:false,_giphyWindowClosedIntervalId:null,playerInitStartTime:0,tveInitStartTime:0,tveInitEndTime:0,tveWasAlreadyLoggedIn:false,tveMVPDName:null,playerLastErrorMessage:null,playerLastErrorCode:null,playerLastErrorType:null,playerStarted:false,adsTotalTime:0,adsTotal:0,playerFinished:false,totalDuration:0,playerMetrics:null,isTVEPreviewExpired:false,resetParams:function(){this.playerStarted=false;this.playerFinished=false;this.playerLastErrorType=null;this.playerLastErrorCode=null;this.playerLastErrorMessage=null;this.tveWasAlreadyLoggedIn=false;this.totalDuration=0;this.tveMVPDName=null;if(window.TVEAuth){var temp=Triforce.getStorageManager().getObject("tveStorage");if(null!==temp){this.tveWasAlreadyLoggedIn=temp.authorized;if(temp.provider){this.tveMVPDName=temp.provider.displayName;}}}
this.tveInitStartTime=0;this.tveInitEndTime=0;this.playerInitStartTime=0;this.adsTotalTime=0;this.adsTotal=0;this.device='desktop';var useragent=navigator.userAgent.toLowerCase();if(useragent.indexOf('iphone')>-1||(useragent.indexOf('android')>-1&&useragent.indexOf('mobile')>-1)){this.device='mobile';}else if(useragent.indexOf('ipad')>-1||useragent.indexOf('android')>-1){this.device='tablet';}
this.addOtherMetricEvents();},onModuleWillRefresh:function(){if(this._giphyWindowClosedIntervalId){clearInterval(this._giphyWindowClosedIntervalId);this._giphyWindowClosedIntervalId=null;}
this.view.hideOverlay();this.view.showThumbnail();this.destroyPlayer();return true;},onModuleRefresh:function(feedData){this.moduleElement.removeClass(this.MODULE_UNLOAD_STATE);this.feedResponse=feedData;this.initializeView();},addLinkHandler:function(){this.moduleElement.on('click','a',this.linkHandler);},postRender:function(){var controller=this,feed=this.feedResponse.result,isVideo=feed.data.isVideo,isNotAvailable=feed.data.isNotAvailable,isMobile=this.isMobile(),isAvailable=!isNotAvailable||!(isMobile?isNotAvailable.mobile:isNotAvailable.desktop),isLoading=false,isPasswordRequired=feed.data.securityHash;this.resetParams();if(isAvailable){if(isVideo){this.initializePlayerHelper();if(this.isVevoVideo()){this.initializePlayer();}else{if(this.helpers.player.isPlaybackSupported){if(isPasswordRequired){this.initializePasswordRequired(isPasswordRequired);isLoading=true;}else if(this.isTVEAuthRequired()){this.initializeTVE();isLoading=true;}else{this.initializePlayer();}}else{this.showUnsupportedSlate();}}}else{isLoading=true;}}else{this.showUnavailableSlate();}
this.initializeMeta();this.initializeShare();this.initializeGiphy();this.addModuleReporting();this.toggleLoadingState(isLoading);if(!this.isUnloadLogicInitialized){this.on('triforce:loadpage',function(){controller.moduleElement.addClass(controller.MODULE_UNLOAD_STATE);});this.isUnloadLogicInitialized=true;}
if(isVideo){this.trigger('page:videoSelected',{uri:feed.data.id});}else{this.trigger('page:videoEnd');}},initializePlayerHelper:function(){if(this.isPlayerHelperInitialized){return;}
var playerHelper=this.helpers.player;playerHelper.on('ready',this.onPlayerReady.bind(this));playerHelper.on('videoEnd',this.onPlayerVideoEnd.bind(this));playerHelper.on('playerMediagenAuthCheck',this.onPlayerMediagenAuthCheck.bind(this));playerHelper.on('metadata',this.onPlayerMetadata.bind(this));playerHelper.on('error',this.onPlayerError.bind(this));playerHelper.on('playheadUpdate',this.onPlayheadUpdate.bind(this));this.isPlayerHelperInitialized=true;},onPlayheadUpdate:function(e){this.videoPlayhead=e.data;},initializeTVE:function(){if(this.isTVEInitialized){this.tve.initialize();return;}
var settings=this.feedResponse.result.settings.tve,_this=this;this.tve=new $Crabapple.TVE(settings);this.tveInitStartTime=new Date().getTime();this.tve.on('checkStatusCompleted',this.checkStatusCompleted.bind(this));this.tve.on('logoutCompleted',this.onLogoutCompleted.bind(this));this.tve.on('errorHappened',this.onTVEError.bind(this));this.tve.on('freePreviewExpired',this.onTVEFreePreviewExpired.bind(this));this.tve.initialize();this.delegateEvent('click','.sign_in',this.handleSignInButtonClick);this.delegateEvent('click','.player_tvProvider',this.handleTVProviderButtonClick);this.delegateEvent('click','.player_tve-sign-out',this.handleTVProviderButtonClick);$('#header ul.side_navigation li.provider_signout').on('click',function(event){event.preventDefault();_this.handleTVProviderButtonClick(event);});this.isTVEInitialized=true;},initializePasswordRequired:function(securityHash){var _this=this,passwordInput,authSubmitButton;_this.showPasswordRequiredSlate();_this.toggleLoadingState(false);passwordInput=_this.moduleElement.find('.password_input');authSubmitButton=_this.moduleElement.find('.auth_submit_button');authSubmitButton.on('click',function(event){event.preventDefault();var password=passwordInput.val(),passHash=CryptoJS.MD5(password);if(passHash==securityHash){_this.hidePasswordRequiredSlate();_this.initializePlayer();}else{_this.showIncorrectPasswordMessage();}});},onTVEFreePreviewExpired:function(){â€¨this.isTVEPreviewExpired=true;this.showTVEErrorMessage({code:'free preview expired'});},checkStatusCompleted:function(status){if(status&&status.isLoggedIn===true){this.tveInitEndTime=new Date().getTime();this.hideTVELockedSlate();this.initializePlayer();this.showTVEProviderInfo();this.view.tveState.authorized=true;this.view.saveTVEState();$('#header ul.side_navigation li.provider_signout').show();}else{this.view.tveState.authorized=false;this.hideTVEProviderInfo();this.view.saveTVEState();this.showTVELockedSlate();this.tve.reportEvent();}
this.toggleLoadingState(false);},onLogoutCompleted:function(){this.destroyPlayer();this.hideTVEProviderInfo();this.showTVELockedSlate();window.Triforce.getMediator().trigger('triforce:message',{'type':'message','message':'TVEAuth - onLogoutCompleted'});this.view.tveState.authorized=false;this.view.saveTVEState();$('#header ul.side_navigation li.provider_signout').hide();},onTVEError:function(error){var obj=this.getPlayerMetrics();obj.vmTveErrorCode=error&&error.code||'UNKNOWN';obj.vmTveErrorMessage=error&&error.message||'UNKNOWN';if(this.isTVEPreviewExpired===true){obj.vmTvePreviewExpired='true';}
this.fireNewRelic(obj,'videoTveError');this.showTVEErrorMessage(error);},handleSignInButtonClick:function(e){this.tve.login();},handleTVProviderButtonClick:function(e){this.tve.logout();},initializePlayer:function(){var playerHelper=this.helpers.player,feed=this.feedResponse.result,settings=feed.settings,tvProvider=this.tve&&this.tve.provider,playerConfig={uri:feed.data.id,autoPlay:true,tveMvpdName:tvProvider&&tvProvider.id,tveAuthRequired:!!feed.data.tveAuth,token:this.tve&&this.tve.token},playerOverride=settings&&settings.playerOverride,vevoSettings;if(playerOverride&&playerOverride.type==='Vevo'){vevoSettings=settings&&settings.vevo;playerConfig.isVevo=true;playerConfig.uri=playerOverride.id;if(vevoSettings.partnerId){playerConfig.partnerId=vevoSettings.partnerId;}
if(vevoSettings.siteSection){playerConfig.siteSection=vevoSettings.siteSection;}}
if(settings.edgePlayerScript){playerConfig.edgePlayerScript=settings.edgePlayerScript;}
if(feed.data.isLive){playerConfig.isLive=true;}
if(this.isTVEAuthRequired()){playerConfig.mediaGenAuthCheck=true;}
this.view.hideThumbnail();this.view.removeSpinner();this.playerInitStartTime=new Date().getTime();playerHelper.initializePlayer(this.view.getPlayer(),playerConfig);},isTVEAuthRequired:function(){var tveAuth=this.feedResponse.result.data.tveAuth,isMobile=this.isMobile();return(tveAuth&&(isMobile?tveAuth.mobile:tveAuth.desktop));},onPlayerReady:function(){this.trigger('page:videoStart',{uri:this.feedResponse.result.data.id,category:this.feedResponse.result.data.categoryMeta});if(this.device=='desktop')return;this.firePlayerStartMetric();},onPlayerMetadata:function(event){var settings=this.feedResponse.result.settings;if(settings&&settings.giphy&&settings.giphy.enabled){this.toggleGiphyButtonActiveState(event.data&&event.data.isAd?false:true);}
if(this.playerStarted===false&&this.device=='desktop'){this.firePlayerStartMetric();}
this.trackMediaMetrics(event);},onPlayerMediagenAuthCheck:function(event){var isTVEAuthRequired=false,callback=event.data.callback;if(event.data.mgid){isTVEAuthRequired=this.isTVEAuthRequired();}
if(isTVEAuthRequired){callback(this.tve.token,this.tve.provider.id);}else{callback();}},onPlayerVideoEnd:function(){this.playerFinished=true;this.trigger('page:videoEnd',{uri:this.feedResponse.result.data.id});},destroyPlayer:function(){this.helpers.player.destroy();},initializeMeta:function(){var settings=this.feedResponse.result.settings.metaPlacement,controller=this;if(settings&&settings.isRight){this.$meta=this.moduleElement.find('.group-wrap');this.$metaWrapper=this.moduleElement.find('.scroll-area-wrap');if(this.$meta&&this.$metaWrapper&&this.$metaWrapper.length){if(!this.isMetaInitialized){this.delegateEvent('click','.meta-more',this.toggleMeta);window.addEventListener('resize',function(){controller.updateMetaScrollState();controller.updateMetaToggleableState();});this.isMetaInitialized=true;}
this.$metaWrapper.on('scroll',function(){controller.updateMetaScrollState();});this.updateMetaScrollState();this.updateMetaToggleableState();}}},updateMetaToggleableState:function(){var controller=this;if(this.$meta&&this.$metaWrapper&&this.$metaWrapper.length){requestAnimationFrame(function(){controller._updateMetaToggleableStateFrameRequested=false;var metaWrapper=controller.$metaWrapper[0],scrollHeight=metaWrapper.scrollHeight,height=Math.ceil(metaWrapper.getBoundingClientRect().height);if(!controller.$meta.hasClass(controller.META_TOGGLED_CLASS)){if(scrollHeight>height){controller.$meta.addClass(controller.META_TOGGLEABLE_CLASS);metaWrapper.scrollTop=0;}else{controller.$meta.removeClass(controller.META_TOGGLEABLE_CLASS);}}});controller._updateMetaToggleableStateFrameRequested=true;}},updateMetaScrollState:function(){var controller=this;if(this.$meta&&this.$metaWrapper&&this.$metaWrapper.length){if(!this._updateMetaScrollFrameRequested){requestAnimationFrame(function(){controller._updateMetaScrollFrameRequested=false;var metaWrapper=controller.$metaWrapper[0],scrollHeight=metaWrapper.scrollHeight,height=Math.ceil(metaWrapper.getBoundingClientRect().height),scrolled=metaWrapper.scrollTop;if(scrolled>0){controller.$meta.addClass(controller.META_SCROLLABLE_UP_CLASS);}else{controller.$meta.removeClass(controller.META_SCROLLABLE_UP_CLASS);}
if(scrollHeight>height&&height+scrolled<scrollHeight){controller.$meta.addClass(controller.META_SCROLLABLE_DOWN_CLASS);}else{controller.$meta.removeClass(controller.META_SCROLLABLE_DOWN_CLASS);}});controller._updateMetaScrollFrameRequested=true;}}},toggleMeta:function(){if(this.$meta){this.$meta.toggleClass(this.META_TOGGLED_CLASS);}},initializeShare:function(){var settings=this.feedResponse.result.settings.share;if(this.isShareInitialized||!settings||!settings.options||!settings.options.length){return;}
this.delegateEvent('click','.player_share-button',this.handleShareButtonClick);this.isShareInitialized=true;},handleShareButtonClick:function(e){var feed=this.feedResponse.result,$button=$(e.currentTarget);if($button.hasClass('facebook')){this.facebookShare(window.location.href);}else if($button.hasClass('twitter')){this.twitterShare(window.location.href);}else if($button.hasClass('email')){this.mailShare(window.location.href);}else if($button.hasClass('embed')){this.embedShare(this.getEmbedCode(feed.data.id));}},facebookShare:function(url){window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(url+((url.indexOf('?')>-1)?'&':'?')+'fb_ref=share_web'),'facebookwindow',"menubar=no,location=yes,resizable=yes,scrollbars=no,status=no,height=600,width=800");},twitterShare:function(url){url=url+((url.indexOf('?')>-1)?'&':'?')+'utm=share_twitter';var settings=this.feedResponse.result.settings.share,twitterSettings=settings&&settings.twitter,twitterShareURL='https://twitter.com/intent/tweet?lang=en',shareText=this.feedResponse.result.data.title,shareWindowURL='about:blank',shareWindow;if(shareText){twitterShareURL+='&text='+encodeURIComponent(shareText);}
if(twitterSettings&&twitterSettings.name){twitterShareURL+='&related='+twitterSettings.name+'&via='+twitterSettings.name;}
if(settings.shortenerURL){$.ajax(settings.shortenerURL+(settings.shortenerURL.indexOf('?')>-1?'&':'?')+'url='+encodeURIComponent(url)).success(function(shortURL){shareWindow.location.href=twitterShareURL+'&url='+encodeURIComponent(shortURL);}).fail(function(){shareWindow.location.href=twitterShareURL+'&url='+encodeURIComponent(url);});}else{shareWindowURL=twitterShareURL+'&url='+encodeURIComponent(url);}
shareWindow=window.open(shareWindowURL,'twitterwindow',"menubar=no,location=yes,resizable=yes,scrollbars=no,status=no,height=500,width=500");},mailShare:function(url){var settings=this.feedResponse.result.settings.share,emailSettings=settings&&settings.email,title=this.feedResponse.result.data.title,body=url+'?xrs=share_copy_email',subject=title;if(emailSettings&&emailSettings.subject){subject=emailSettings.subject.replace('{{title}}',title);}
window.location.href='mailto:?body='+encodeURIComponent(body)+'&subject='+encodeURIComponent(subject);},embedShare:function(embedCode){var controller=this,settings=this.feedResponse.result.settings.share,embedOverlay=settings&&settings.embedOverlay||{},$overlayCopy;embedOverlay.copy=embedCode;this.showOverlay(embedOverlay);$overlayCopy=this.view.getOverlayCopy();this.view.getOverlayButton().add($overlayCopy).on('click',function(){var isSuccessfulCopy=controller.copyTextFromNode($overlayCopy);if(isSuccessfulCopy){controller.showNotification('Copied to clipboard!');}else{var button='Ctrl';if(navigator.appVersion.indexOf("Mac")!==-1){button='Command';}
controller.showNotification('Press '+button+'-C to copy text.');}});},initializeGiphy:function(){var settings=this.feedResponse.result.settings;if(!this.isGiphyInitialized&&settings&&settings.giphy&&settings.giphy.enabled){this.delegateEvent('click','.giphy-button.active',this.handleGiphyButtonClick);this.isGiphyInitialized=true;}},handleGiphyButtonClick:function(e){var controller=this,settings=this.feedResponse.result.settings&&this.feedResponse.result.settings.giphy,data=this.feedResponse.result.data,width=986,height=600,left=((window.innerWidth / 2)-(width / 2))+window.scrollX,top=((window.innerHeight / 2)-(height / 2))+window.scrollY,giphyWindow;if(this._giphyWindowClosedIntervalId){clearInterval(this._giphyWindowClosedIntervalId);this._giphyWindowClosedIntervalId=null;}
this.reportClickThrough({moduleAction:'clicks on make gif'});if(settings&&settings.baseUrl){giphyWindow=window.open(settings.baseUrl+data.id,'giphywindow','menubar=no,location=yes,resizable=yes,scrollbars=1,status=no,width='+width+',height='+height+',top='+top+',left='+left);if(giphyWindow&&this.helpers.player.instance){this.helpers.player.instance.pause();this._giphyWindowClosedIntervalId=setInterval(function(){if(!giphyWindow||giphyWindow.closed||!controller.helpers.player.instance){if(controller._giphyWindowClosedIntervalId){clearInterval(controller._giphyWindowClosedIntervalId);controller._giphyWindowClosedIntervalId=null;}
if(controller.helpers.player.instance&&controller.helpers.player.instance.isPaused()){controller.helpers.player.instance.play();}}},1000);}}},toggleGiphyButtonActiveState:function(isActive){this.moduleElement.find('.giphy-button').toggleClass('active',isActive);},toggleLoadingState:function(isLoading){this.moduleElement.find('.player').toggleClass(this.PLAYER_LOADING_STATE,isLoading);},showNotification:function(message){this.view.showOverlayNotification({message:message},{timeToShow:this.overlayNotificationTimeToShow});},copyTextFromNode:function($node){var selection=window.getSelection(),range=document.createRange();range.selectNode($node[0]);selection.removeAllRanges();selection.addRange(range);return document.execCommand('copy');},getEmbedCode:function(mgid){return['<div style="background-color:#000000;width:520px;">','<div style="padding:4px;">','<iframe src="//media.mtvnservices.com/embed/'+mgid+'" width="512" height="288" frameborder="0" allowfullscreen="true"></iframe>','</div>','</div>'].join('');},showUnavailableSlate:function(){var feed=this.feedResponse.result,slateData=feed.settings&&feed.settings.slates&&feed.settings.slates['unavailable'];if(slateData){this.view.showUnavailableSlate({slate:slateData});}},showTVEErrorMessage:function(error){var errorCode=error&&error.code&&error.code.toLowerCase(),errorMessage,settings;if(!errorCode){errorCode='default';}
if(error&&error.errorObject&&error.errorObject.message){errorMessage={headline:"Error",description:error.errorObject.message}}else{settings=this.feedResponse.result.settings.tve;errorMessage=settings&&settings.messages&&settings.messages[errorCode];}
if(errorMessage){this.showOverlay(errorMessage);}},showIncorrectPasswordMessage:function(){var feed=this.feedResponse.result,errorMessage=feed.settings&&feed.settings.slates&&feed.settings.slates.passwordRequired&&feed.settings.slates.passwordRequired.incorrectPasswordMessage;if(errorMessage){this.showOverlay(errorMessage);}},showTVELockedSlate:function(){var feed=this.feedResponse.result,slateData=feed.settings&&feed.settings.slates&&feed.settings.slates['tveLocked'];if(slateData){this.view.showTVELockedSlate({slate:slateData});this.view.removeSpinner();this.tve.showMvpdPicker('player_slate_content');}},hidePasswordRequiredSlate:function(){this.view.removePlayerSlate();},showPasswordRequiredSlate:function(){var feed=this.feedResponse.result,slateData=feed.settings&&feed.settings.slates&&feed.settings.slates['passwordRequired'];this.view.removeSpinner();if(slateData){this.view.renderPlayerSlate({slate:slateData});}},hideTVELockedSlate:function(){this.view.hideTVELockedSlate();},showTVEProviderInfo:function(){var settings=this.feedResponse.result.settings,providerInfo=this.tve.provider,logo=providerInfo&&(providerInfo.logoutLogoUrl||providerInfo.defaultLogoUrl),tvProviderData;this.view.tveState.provider=providerInfo;if(providerInfo){if(logo&&providerInfo.id&&providerInfo.id.toLowerCase()!=='sfps'&&providerInfo.id.toLowerCase()!=='fps'){tvProviderData={tvProvider:{title:settings&&settings.providerInfoTitle,name:providerInfo.displayName,logo:logo}};if(settings&&settings.metaPlacement&&settings.metaPlacement.isRight){this.view.showTVEProviderInfoAsTag(tvProviderData);}else{this.view.showTVEProviderInfo(tvProviderData);}}else{tvProviderData={tvSignOut:{label:this.feedResponse.result.settings.tvSignOutLabel}};if(settings&&settings.metaPlacement&&settings.metaPlacement.isRight){this.view.showTVESignOutLinkAsTag(tvProviderData);}else{this.view.showTVESignOutLink(tvProviderData);}}}},hideTVEProviderInfo:function(){this.view.hideTVEProviderInfo();this.view.tveState.provider=null;},showUnsupportedSlate:function(){var feed=this.feedResponse.result,slateData=feed.settings&&feed.settings.slates&&feed.settings.slates['unsupported'],devicePlatform;if(slateData){devicePlatform=this.getDevicePlatformName();if(devicePlatform===false||!slateData[devicePlatform]){slateData=slateData['default'];}else{slateData=slateData[devicePlatform];}
this.view.showUnsupportedSlate({slate:slateData});}},showOverlay:function(data){var controller=this,$overlay,$closeButton;this.view.showOverlay({'overlay':data});$overlay=this.view.getOverlay();$closeButton=this.view.getOverlayCloseButton();$overlay.on('click',function(e){if(e.target===$overlay[0]||$(e.target).closest($closeButton).length){controller.view.hideOverlay();}});},getDevicePlatformName:function(){if(this._devicePlatformName===null){var userAgent=navigator.userAgent;if(/iP(hone|ad|od)/.test(userAgent)){this._devicePlatformName='iOS';}else if(/Android/i.test(userAgent)){this._devicePlatformName='Android';}else{this._devicePlatformName=false;}}
return this._devicePlatformName;},isVevoVideo:function(){var settings=this.feedResponse.result.settings,playerOverride=settings&&settings.playerOverride;return playerOverride?playerOverride.type==='Vevo':false;},addModuleReporting:function(){if(this.isReportingInitialized){return;}
this.delegateEvent('click','.player_share-button',this.reportShareButtonClick);this.delegateEvent('click','a',this.reportLinkClick);this.isReportingInitialized=true;},reportShareButtonClick:function(e){var $button=$(e.currentTarget),contentId=this.feedResponse.result.data.id,shareService='';if($button.hasClass('facebook')){shareService='facebook';}else if($button.hasClass('twitter')){shareService='twitter';}else if($button.hasClass('email')){shareService='email';}else if($button.hasClass('embed')){shareService='embed';}
try{$Crabapple.repo.trackSharing(this.moduleName,shareService,'Community - Share',contentId,'clicks on ent_m209_share');}catch(err){window.Triforce.getMediator().trigger('triforce:message',{'type':'error','message':'Module share click reporting for '+this.moduleName+' returns error','exception':e});}},reportLinkClick:function(e){var $link=$(e.currentTarget),moduleAction;if($link.hasClass('ep-cta')){moduleAction='click on watch full episode button';}else if($link.parent().hasClass('tags')){moduleAction='click on tag '+$link[0].innerText;}else{moduleAction='click on '+$link[0].innerText;}
this.reportClickThrough({destination:$link[0].href,moduleAction:moduleAction});},getPlayerMetrics:function(createNew){if(!this.playerMetrics||createNew){this.playerMetrics=this.createBasicMetrics();}
return this.playerMetrics;},createBasicMetrics:function(){var obj={};var playerObj=window.EdgePlayer&&window.EdgePlayer.getPlayers()[0];var playerConfig=playerObj&&playerObj.config;var edgeGroupCategories=playerConfig&&playerConfig.feed&&playerConfig.feed.items[0].rss.group.category;var mgid=playerConfig&&playerConfig.uri;if(!mgid){mgid=this.feedResponse.result.data.id;}
obj.vmDevice=this.device;obj.vmAdBlockDetected=playerObj&&playerObj.adsModel.adBlockerDetected?'true':'false';obj.vmParent='no-assoc';if(edgeGroupCategories){if(edgeGroupCategories.franchise!='no-association'){if(edgeGroupCategories.franchise==edgeGroupCategories.eventType&&edgeGroupCategories.franchise==edgeGroupCategories.source){obj.vmParent='series';}else if(edgeGroupCategories.eventType!='None'){obj.vmParent='event';}}
obj.vmParentTitle=edgeGroupCategories.franchise;if(obj.vmParent=='event'&&edgeGroupCategories.eventType){obj.vmEventTitle=edgeGroupCategories.eventType}
if(obj.vmParent=='series'){if(obj.videoType=='episode'){obj.vmEpisodeIsLatest=edgeGroupCategories.latestEpisode;}
if(edgeGroupCategories.seriesInSeason){obj.vmSeriesInSeason=edgeGroupCategories.seriesInSeason==='false'?'false':'true';}
if(edgeGroupCategories.seasonN){obj.vmSeasonN=edgeGroupCategories.seasonN;}}}
obj.vmVideoType=mgid&&mgid.split(':')[2];obj.vmTveAuthRequired=this.feedResponse.result.settings.tve?'true':'false';obj.vmVevoVideo=this.feedResponse.result.settings.vevo?'true':'false';obj.vmPlayerVersion=window.EdgePlayer&&window.EdgePlayer.version;obj.vmBentoVersion=window.Bento&&window.Bento.version;if(window.TVEAuth){if(TVEAuth.version){obj.vmTveVersion=TVEAuth.version;}else{obj.vmTveVersion=TVEAuth._get('ver');}}
obj.vmLoadType=$Crabapple.pageLoadTimer?'ajax':'pageload';obj.vmTveWasAlreadyLoggedIn=this.tveWasAlreadyLoggedIn?'true':'false';if(this.tveMVPDName){obj.vmTveMVPD=this.tveMVPDName;}
obj.vmMGID=mgid;obj.vmHasSeamlessPlayback=playerConfig&&playerConfig.seamlessCounterStrike?'true':'false';obj.vmSeamlessPlayback=playerObj&&playerObj.adsModel.adBlockerDetected&&playerObj.config.seamlessCounterStrike?'true':'false';return obj;},fireNewRelic:function(obj,actionName){console.log('ENT_M209 QOE',actionName,obj);if(!window.newrelic){return;}
newrelic.addPageAction(actionName,obj);},firePlayerCompletedMetric:function(isPageLoad){var obj=this.getPlayerMetrics();if(this.playerFinished===true){obj.vmPCTComplete=100;}else if(this.videoPlayhead&&this.totalDuration){obj.vmPCTComplete=Math.floor((this.videoPlayhead / this.totalDuration)*100);}else{obj.vmPCTComplete=0;}
if(isPageLoad){obj.vmTotalDuration=Math.ceil(this.totalDuration);obj.vmTotalAdTime=Math.ceil(this.adsTotalTime);obj.vmTotalAds=this.adsTotal;if(window.$Crabapple.startedVideos){obj.vmStartedVideos=window.$Crabapple.startedVideos;}}
this.fireNewRelic(obj,'videoEnd');},firePlayerStartMetric:function(){var obj=this.getPlayerMetrics(true);var startTime=false;var now=new Date().getTime();var playerObj=window.EdgePlayer&&window.EdgePlayer.getPlayers()[0];var playerConfig=playerObj&&playerObj.config;if(window.$Crabapple.timerPageLoad){startTime=window.$Crabapple.timerPageLoad;}else if(window.performance&&window.performance.timing){startTime=window.performance.timing.navigationStart;}
if(startTime){obj.vmTimeToPlay=now-startTime;}
if(this.playerInitStartTime){obj.vmPlayerInitTime=now-this.playerInitStartTime;}
if(this.tveInitEndTime){var tveTime=this.tveInitEndTime-this.tveInitStartTime;if(obj.vmTveWasAlreadyLoggedIn){obj.vmTveAuthTime=tveTime;}else{obj.vmTveLoginTime=tveTime;}}
if(this.device=='desktop'&&obj.vmVevoVideo!='true'&&obj.vmVideoType!='live'){obj.vmAdFirst=playerObj&&playerObj.adsModel.isAdBreak?'true':'false';}
this.totalDuration=0;if(playerConfig){for(var i in playerConfig.feed.items){this.totalDuration+=playerConfig.feed.items[i].duration;}}
obj.vmTotalDuration=Math.ceil(this.totalDuration);this.fireNewRelic(obj,'videoStart');},onPlayerError:function(e){console.log('ENT_M209 PLAYER_ERROR:',e.data);if(typeof e=='undefined'||!e.data)
return;var obj=this.getPlayerMetrics();obj.vmErrorCode=e.data.code;obj.vmErrorMsg=e.data.message;obj.vmErrorType=e.data.type;this.fireNewRelic(obj,'videoError');},trackMediaMetrics:function(e){if(e.data.isAd===true){this.adsTotalTime+=e.data.duration;this.adsTotal++;}
if(this.playerStarted===true)return;if(window.$Crabapple.startedVideos>0){window.$Crabapple.startedVideos++;}else{window.$Crabapple.startedVideos=1;}
this.playerStarted=true;},addOtherMetricEvents:function(){this.on('triforce:loadpage',this.metricsPageAjaxEvent.bind(this));window.onbeforeunload=this.metricsPageLoadEvent.bind(this);},metricsPageLoadEvent:function(){this.firePlayerCompletedMetric(true);},metricsPageAjaxEvent:function(){window.$Crabapple.timerPageLoad=new Date().getTime();this.firePlayerCompletedMetric(false);}});$Crabapple.TriforceHelper_ent_m209_player=function(){};$Crabapple.extend($Crabapple.TriforceHelper,$Crabapple.TriforceHelper_ent_m209_player,{$el:null,instance:null,config:null,isInitialized:false,isReady:false,vevoEmbedOrigin:(function(){return window.location.protocol+'//cache.vevo.com';})(),vevoEmbedPath:'/assets/html/embed.html',isPlaybackSupported:$Crabapple.Player.isPlaybackSupported,_events:null,initializePlayer:function($playerElement,parameters){if(this.isInitialized){return;}
this.isInitialized=true;this.$el=$playerElement;this.config=this.buildConfig(parameters);this.startUp();},destroy:function(){if(this.isInitialized){this.isInitialized=false;this.isReady=false;if(this.config.isVevo){if(this.instance&&this.instance.parentNode){this.instance.parentNode.removeChild(this.instance);}}else{if(this.instance){try{this.instance.destroy();}catch(e){console.error(e);window.location=window.location;}}}
this.removePlayerEventListeners();this.$el=null;this.config=null;this.instance=null;}},startUp:function(){if(this.isInitialized){this.createPlayer();}},createPlayer:function(){if(this.instance!==null){return;}
if(this.config.isVevo){var src=this.vevoEmbedOrigin+this.vevoEmbedPath;this.instance=document.createElement('iframe');var currentUrl=encodeURIComponent(window.location.href).replace(/'/g,"%27").replace(/"/g,"%22");src+='?video='+this.config.uri;src+='&autoPlaylist=false&playlistId=null&iframe_api=1&iframe_api_video_id='+this.config.id+'&currentUrl='+currentUrl;if(this.config.autoPlay){src+='&autoplay=1';}
if(this.config.partnerId){src+='&partnerId='+this.config.partnerId;}
if(this.config.siteSection){src+='&siteSection='+this.config.siteSection;}
this.instance.src=src;this.instance.setAttribute('width',this.config.width);this.instance.setAttribute('height',this.config.height);this.instance.setAttribute('allowfullscreen','');this.instance.setAttribute('wmode','opaque');this.$el.append(this.instance);}else{this.instance=new $Crabapple.Player(this.$el[0],this.config);}
this.setupPlayerEventListeners();},setupPlayerEventListeners:function(){var player=this.instance;if(this.config.isVevo){this._onVevoWindowMessage=this.onVevoWindowMessage.bind(this);window.addEventListener('message',this._onVevoWindowMessage,false);}else{player.on('ready',this.onReady.bind(this));player.on('playlistComplete',this.onPlaylistComplete.bind(this));player.on('waitingOnMediaGenAuthCheck',this.onWaitingOnMediagenAuthCheck.bind(this));player.on('metadata',this.onMetadata.bind(this));player.on('playheadUpdate',this.onPlayheadUpdate.bind(this));}},removePlayerEventListeners:function(){if(this.config.isVevo){window.removeEventListener('message',this._onVevoWindowMessage,false);this._onVevoWindowMessage=null;}},_onVevoWindowMessage:null,onVevoWindowMessage:function(e){if(e.origin===this.vevoEmbedOrigin&&e.data){var splittedData=e.data.split(','),playerId=splittedData[0],eventName=splittedData[1],eventArgument=splittedData[2];if(playerId!==this.config.id){return;}
if(eventName==='playerIsReady'||eventName==='onVideoStart'){if(!this.isReady){this.onReady();}}else if(eventName==='playerStateChange'&&eventArgument==='ended'){this.onPlaylistComplete();}}},onReady:function(){this.isReady=true;this.trigger('ready');},onMetadata:function(e){this.trigger('metadata',e);},onPlaylistComplete:function(){this.trigger('videoEnd');},onPlayheadUpdate:function(e){this.trigger('playheadUpdate',e);},onWaitingOnMediagenAuthCheck:function(event){this.trigger('playerMediagenAuthCheck',event);},buildConfig:function(parameters){if(parameters.isVevo){parameters.id='ENT_M209_VEVO_'+parameters.uri;}
return parameters;},on:function(eventName,cb){this._events=this._events||{};this._events[eventName]=this._events[eventName]||[];this._events[eventName].push(cb);},trigger:function(eventName){var args=Array.prototype.slice.call(arguments,1),event=this._events&&this._events[eventName],i,len;if(event&&event.length){for(i=0,len=event.length;i<len;i++){if(typeof event[i]==='function'){try{event[i].apply(null,args);}catch(e){}}}}}});$Crabapple.TriforceView_ent_m209={'parentView':'$Crabapple.TriforceMustacheView','extention':{templateName:'Modules/ENT_M209/V1_3_0/Controller/default',slateTemplateName:'Modules/ENT_M209/V1_3_0/Controller/slate',tvProviderTemplateName:'Modules/ENT_M209/V1_3_0/Controller/tv_provider',tvProviderTagTemplateName:'Modules/ENT_M209/V1_3_0/Controller/tv_provider_tag',tvSignOutTemplateName:'Modules/ENT_M209/V1_3_0/Controller/tv_sign_out',overlayTemplateName:'common/overlay',overlayNotificationTemplateName:'common/overlay_notification','tveState':{'authorized':false,'provider':null,'expires':0},'tveStorageKey':'tveStorage','tveStorageExpires':3600,showOverlayNotification:function(data,options){var $overlayNotification;this.getOverlayNotification().remove();if(this.renderTemplateTo(this.overlayNotificationTemplateName,this.getOverlay(),data)){$overlayNotification=this.getOverlayNotification();if('animation'in this.moduleElement[0].style){$overlayNotification.on('animationend',function overlayNotificationAnimationEndHandler(){$(this).off('animationend',overlayNotificationAnimationEndHandler).remove();});}else if(options&&options.timeToShow){setTimeout(function(){$overlayNotification.remove();},options.timeToShow);}}},getOverlayNotification:function(){return this.moduleElement.find('.page-overlay_notification');},showOverlay:function(data){var $overlay;this.hideOverlay();if(this.renderTemplateTo(this.overlayTemplateName,this.moduleElement,data)){$overlay=this.getOverlay();$(document.body).addClass('show_overlay');$overlay.addClass('shown');var requestAnimationFrame=window.requestAnimationFrame||function(callback){setTimeout(callback,1000/60);};requestAnimationFrame(function(){$overlay.addClass('animate');});}},hideOverlay:function(){var $overlay=this.getOverlay();$(document.body).removeClass('show_overlay');$overlay.removeClass('animate');if('transition'in this.moduleElement[0].style){$overlay.on('transitionend',function overlayTransitionEndHandler(){$(this).off('transitionend',overlayTransitionEndHandler).remove();});}else{$overlay.remove();}},getOverlay:function(){return this.moduleElement.find('.page-overlay');},getOverlayCloseButton:function(){return this.getOverlay().find('.page-overlay_close');},getOverlayCopy:function(){return this.getOverlay().find('.page-overlay_copy');},getOverlayButton:function(){return this.getOverlay().find('.page-overlay_button');},showTVEProviderInfo:function(data){this.hideTVEProviderInfo();this.renderTemplateAfter(this.tvProviderTemplateName,this.getPlayerHolder(),data);},showTVESignOutLinkAsTag:function(data){this.hideTVEProviderInfo();this.renderTemplateTo(this.tvSignOutTemplateName,this.moduleElement.find('.media-extra'),data);},showTVESignOutLink:function(data){this.hideTVEProviderInfo();this.renderTemplateTo(this.tvSignOutTemplateName,this.getPlayerHolder(),data);},showTVEProviderInfoAsTag:function(data){this.hideTVEProviderInfo();this.renderTemplateTo(this.tvProviderTagTemplateName,this.moduleElement.find('.media-extra'),data);},hideTVEProviderInfo:function(){this.getTVEProviderInfoHolder().remove();},getTVEProviderInfoHolder:function(){return this.moduleElement.find('.player_tvProvider_holder');},showUnavailableSlate:function(data){this.renderPlayerSlate(data)},showUnsupportedSlate:function(data){this.renderPlayerSlate(data);},showTVELockedSlate:function(data){this.renderPlayerSlate(data);this.getPlayerHolder().addClass('mvpd_active');},hideTVELockedSlate:function(){this.removePlayerSlate();this.getPlayerHolder().removeClass('mvpd_active');},renderPlayerSlate:function(data){this.removePlayerSlate();this.showThumbnail();this.renderTemplateTo(this.slateTemplateName,this.getPlayerHolder(),data);},removePlayerSlate:function(){this.hideThumbnail();this.getPlayerHolder().find('.player_slate').remove();},getPlayerHolder:function(){return this.moduleElement.find('.player_holder');},getPlayer:function(){var $video=this.moduleElement.find('.player_video');if(!$video||!$video.length){$video=$(document.createElement('div')).addClass('player_video content').appendTo(this.getPlayerHolder());}
return $video;},removeSpinner:function(){this.moduleElement.find('.player_spinner').remove();},showThumbnail:function(){this.moduleElement.removeClass('thumbnail--hide');},hideThumbnail:function(){this.moduleElement.addClass('thumbnail--hide');},getTVEState:function(){var tveState=window.Triforce.getStorageManager().getObject(this.tveStorageKey);if(tveState!=null)this.tveState=tveState;if(parseInt(new Date().getTime()/ 1000)-this.tveState.expires>this.tveStorageExpires){this.tveState={};return null;}
return this.tveState;},saveTVEState:function(){this.tveState.expires=parseInt(new Date().getTime()/ 1000);window.Triforce.getStorageManager().storeObject(this.tveStorageKey,this.tveState);return this.tveState;}}};(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("data",c,p,1),c,p,0,9,4160,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("schema",c,p,1),c,p,0,20,71,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<script type=\"application/ld+json\">");t.b(t.t(t.d(".",c,p,0)));t.b("</script>");});c.pop();}if(!t.s(t.d("settings.metaPlacement.isRight",c,p,1),c,p,1,0,0,"")){t.b("<div class=\"module_content player\"><div class=\"player_holder\">");t.b(t.rp("<common/image0",c,p,""));t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/slate1",c,p,""));t.b("<div class=\"player_video\"></div></div>");t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/tv_provider2",c,p,""));t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/tv_sign_out3",c,p,""));t.b("<div class=\"player_panel\">");if(t.s(t.d("settings.share.options.0",c,p,1),c,p,0,499,694,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<ul class=\"player_share\">");if(t.s(t.d("settings.share.options",c,p,1),c,p,0,551,662,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<li class=\"player_share-button has_icon ");t.b(t.v(t.d(".typeClass",c,p,0)));t.b("\"><span class=\"screen_reader_text\">");t.b(t.v(t.d(".title",c,p,0)));t.b("</span></li>");});c.pop();}t.b("</ul>");});c.pop();}if(!t.s(t.d("settings.hideMeta",c,p,1),c,p,1,0,0,"")){t.b("<div class=\"player_meta\">");if(t.s(t.d("parent.title",c,p,1),c,p,0,787,829,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<h2 class=\"player_parent-title\">");t.b(t.v(t.d(".",c,p,0)));t.b("</h2>");});c.pop();}if(t.s(t.f("title",c,p,1),c,p,0,856,897,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<h1 class=\"player_video-title\">");t.b(t.v(t.d(".",c,p,0)));t.b("</h1>");});c.pop();}if(t.s(t.f("description",c,p,1),c,p,0,923,962,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"player_description\">");t.b(t.v(t.d(".",c,p,0)));t.b("</p>");});c.pop();}if(t.s(t.f("displayDate",c,p,1),c,p,0,994,1038,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_display-date\">");t.b(t.v(t.d(".",c,p,0)));t.b("</div>");});c.pop();}t.b("</div>");};t.b("</div>");if(t.s(t.d("settings.displayBoxAd",c,p,1),c,p,0,1114,1180,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_box-ad ad ad--");t.b(t.v(t.d(".",c,p,0)));t.b("\" data-adsize=\"");t.b(t.v(t.d(".",c,p,0)));t.b("\"></div>");});c.pop();}t.b("</div>");};if(t.s(t.d("settings.metaPlacement.isRight",c,p,1),c,p,0,1282,4105,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player player--meta-on-right player--loading container\"><div class=\"playlist-header ");if(t.s(t.d("data.playlist",c,p,1),c,p,0,1396,1421,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("playlist-header--playlist");});c.pop();}t.b("\"><div class=\"playlist-header--inner\">");if(t.s(t.d("data.playlist",c,p,1),c,p,0,1495,1940,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"playlist-header-text\">");if(t.s(t.d("data.playlist.title",c,p,1),c,p,0,1553,1607,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"playlist-header-text--title\">");t.b(t.t(t.d(".",c,p,0)));t.b("</div>");});c.pop();}t.b("<div class=\"playlist-header-text--description\">");if(t.s(t.d("data.playlist.description",c,p,1),c,p,0,1708,1769,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"playlist-header-text--subheader\">");t.b(t.t(t.d(".",c,p,0)));t.b(" </span>");});c.pop();}if(t.s(t.d("data.playlist.videoCount",c,p,1),c,p,0,1828,1899,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"playlist-header-text--video-count\">(");t.b(t.t(t.d(".",c,p,0)));t.b(" Videos)</span>");});c.pop();}t.b("</div></div>");});c.pop();}if(t.s(t.d("settings.displaySponsorAd",c,p,1),c,p,0,1988,2038,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"sponsor-ad\" data-adsize=\"");t.b(t.v(t.d(".",c,p,0)));t.b("\"></div>");});c.pop();}t.b("</div></div><div class=\"module-container\"><div class=\"media-container\"><div class=\"player_holder item-container video containerx16x9\">");t.b(t.rp("<common/image4",c,p,""));t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/slate5",c,p,""));t.b("<div class=\"player_video content\"></div><div class=\"player_spinner\"></div></div><div class=\"media-extra\">");if(t.s(t.d("settings.share.options.0",c,p,1),c,p,0,2469,2649,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<ul class=\"buttons-wrap\">");if(t.s(t.d("settings.share.options",c,p,1),c,p,0,2521,2617,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<li class=\"player_share-button ");t.b(t.v(t.d(".typeClass",c,p,0)));t.b(" button\"><span class=\"label\">");t.b(t.v(t.d(".title",c,p,0)));t.b("</span></li>");});c.pop();}t.b("</ul>");});c.pop();}if(t.s(t.d("settings.giphy.enabled",c,p,1),c,p,0,2705,2760,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"tag\"><div class=\"giphy-button\"></div></div>");});c.pop();}t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/tv_provider_tag6",c,p,""));t.b(t.rp("<Modules/ENT_M209/V1_3_0/Controller/tv_sign_out7",c,p,""));t.b("</div></div>");if(!t.s(t.d("settings.hideMeta",c,p,1),c,p,1,0,0,"")){t.b("<div class=\"meta-container\"><div class=\"meta-wrap\"><div class=\"group-wrap\"><div class=\"scroll-area-wrap\">");if(t.s(t.f("watchButton",c,p,1),c,p,0,3048,3227,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a href=\"");t.b(t.v(t.d(".url",c,p,0)));t.b("\" class=\"button ep-cta");if(t.s(t.d(".tveAuth.mobile",c,p,1),c,p,0,3107,3121,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" locked-mobile");});c.pop();}if(t.s(t.d(".tveAuth.desktop",c,p,1),c,p,0,3162,3177,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" locked-desktop");});c.pop();}t.b("\"><span>");t.b(t.v(t.d(".title",c,p,0)));t.b("</span></a>");});c.pop();}if(t.s(t.d("parent.title",c,p,1),c,p,0,3260,3380,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"header\"><h3>");if(t.s(t.d("parent.url",c,p,1),c,p,0,3299,3315,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a href=\"");t.b(t.v(t.d(".",c,p,0)));t.b("\">");});c.pop();}t.b(t.v(t.d(".",c,p,0)));if(t.s(t.d("parent.url",c,p,1),c,p,0,3350,3354,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("</a>");});c.pop();}t.b("</h3></div>");});c.pop();}if(t.s(t.f("title",c,p,1),c,p,0,3407,3451,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"sub-header\"><h1>");t.b(t.v(t.d(".",c,p,0)));t.b("</h1></div>");});c.pop();}t.b("<div class=\"meta\">");if(t.s(t.f("meta",c,p,1),c,p,0,3488,3506,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span>");t.b(t.v(t.d(".",c,p,0)));t.b("</span>");});c.pop();}if(t.s(t.f("displayDate",c,p,1),c,p,0,3531,3549,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span>");t.b(t.v(t.d(".",c,p,0)));t.b("</span>");});c.pop();}t.b("</div>");if(t.s(t.f("description",c,p,1),c,p,0,3587,3623,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"deck\"><p>");t.b(t.v(t.d(".",c,p,0)));t.b("</p></div>");});c.pop();}if(t.s(t.d("tags.0",c,p,1),c,p,0,3650,3828,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"tags\">");if(t.s(t.d("settings.tagsLabel",c,p,1),c,p,0,3691,3723,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"label\">");t.b(t.v(t.d(".",c,p,0)));t.b("</span>");});c.pop();}if(t.s(t.f("tags",c,p,1),c,p,0,3755,3813,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a href=\"");t.b(t.v(t.d(".url",c,p,0)));t.b("\"><span class=\"tag\">");t.b(t.v(t.d(".title",c,p,0)));t.b("</span></a>");});c.pop();}t.b("</div>");});c.pop();}t.b("</div><div class=\"meta-more\" data-off=\"");t.b(t.v(t.d("settings.showMoreLabel",c,p,0)));t.b("\" data-on=\"");t.b(t.v(t.d("settings.showLessLabel",c,p,0)));t.b("\"></div></div>");if(t.s(t.d("settings.displayBoxAd",c,p,1),c,p,0,3981,4033,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"ad-container\" data-adsize=\"");t.b(t.v(t.d(".",c,p,0)));t.b("\"></div>");});c.pop();}t.b("</div></div>");};t.b("</div></div>");});c.pop();}t.b(t.rp("<common/overlay8",c,p,""));});c.pop();}return t.fl();},partials:{"<common/image0":{name:"common/image",partials:{},subs:{"imageClass":function(c,p,t,i){t.b("player_thumbnail");}}},"<Modules/ENT_M209/V1_3_0/Controller/slate1":{name:"Modules/ENT_M209/V1_3_0/Controller/slate",partials:{},subs:{}},"<Modules/ENT_M209/V1_3_0/Controller/tv_provider2":{name:"Modules/ENT_M209/V1_3_0/Controller/tv_provider",partials:{},subs:{}},"<Modules/ENT_M209/V1_3_0/Controller/tv_sign_out3":{name:"Modules/ENT_M209/V1_3_0/Controller/tv_sign_out",partials:{},subs:{}},"<common/image4":{name:"common/image",partials:{},subs:{"imageClass":function(c,p,t,i){t.b("player_thumbnail content");}}},"<Modules/ENT_M209/V1_3_0/Controller/slate5":{name:"Modules/ENT_M209/V1_3_0/Controller/slate",partials:{},subs:{}},"<Modules/ENT_M209/V1_3_0/Controller/tv_provider_tag6":{name:"Modules/ENT_M209/V1_3_0/Controller/tv_provider_tag",partials:{},subs:{}},"<Modules/ENT_M209/V1_3_0/Controller/tv_sign_out7":{name:"Modules/ENT_M209/V1_3_0/Controller/tv_sign_out",partials:{},subs:{}},"<common/overlay8":{name:"common/overlay",partials:{},subs:{}}},subs:{}});}).call(this,"Modules/ENT_M209/V1_3_0/Controller/default");(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("slate",c,p,1),c,p,0,10,1035,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_slate content");if(t.s(t.d(".typeClass",c,p,1),c,p,0,57,63,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" ");t.b(t.v(t.d(".",c,p,0)));});c.pop();}t.b("\"><div id=\"player_slate_content\" class=\"player_slate_content");if(t.s(t.d(".passwordForm",c,p,1),c,p,0,156,171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" auth-container");});c.pop();}t.b("\">");if(t.s(t.d(".headline",c,p,1),c,p,0,205,257,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_slate_title\"><h2>");t.b(t.v(t.d(".",c,p,0)));t.b("</h2></div>");});c.pop();}if(t.s(t.d(".description",c,p,1),c,p,0,288,335,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"player_slate_description\">");t.b(t.t(t.d(".",c,p,0)));t.b("</p>");});c.pop();}if(t.s(t.d(".button",c,p,1),c,p,0,364,449,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_slate_button");if(t.s(t.d(".typeClass",c,p,1),c,p,0,410,416,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" ");t.b(t.v(t.d(".",c,p,0)));});c.pop();}t.b("\">");t.b(t.v(t.d(".title",c,p,0)));t.b("</div>");});c.pop();}if(t.s(t.d(".passwordForm",c,p,1),c,p,0,479,798,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"deck\"><form id=\"authForm\" method=\"post\" name=\"authForm\"><input class=\"form-control password_input\" id=\"password\" name=\"password\" placeholder=\"");t.b(t.v(t.d(".placeholder",c,p,0)));t.b("\" required=\"\" type=\"password\"/><button class=\"btn btn-cta auth_submit_button\" id=\"authSubmitBtn\" type=\"submit\">");t.b(t.v(t.d(".buttonLabel",c,p,0)));t.b("</button></form></div>");});c.pop();}if(t.s(t.f("message",c,p,1),c,p,0,828,1011,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_slate_message\">");if(t.s(t.d(".header",c,p,1),c,p,0,874,926,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_slate_title\"><h3>");t.b(t.v(t.d(".",c,p,0)));t.b("</h3></div>");});c.pop();}if(t.s(t.d(".body",c,p,1),c,p,0,948,995,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"player_slate_description\">");t.b(t.t(t.d(".",c,p,0)));t.b("</p>");});c.pop();}t.b("</div>");});c.pop();}t.b("</div></div>");});c.pop();}return t.fl();},partials:{},subs:{}});}).call(this,"Modules/ENT_M209/V1_3_0/Controller/slate");(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("tvProvider",c,p,1),c,p,0,15,236,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_tvProvider_holder\"><div class=\"player_tvProvider\">");if(t.s(t.d(".title",c,p,1),c,p,0,95,145,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"player_tvProvider_title\">");t.b(t.v(t.d(".",c,p,0)));t.b("</span>");});c.pop();}t.b("<img class=\"player_tvProvider_logo\" src=\"");t.b(t.v(t.d(".logo",c,p,0)));t.b("\" alt=\"");t.b(t.v(t.d(".name",c,p,0)));t.b("\"></div></div>");});c.pop();}return t.fl();},partials:{},subs:{}});}).call(this,"Modules/ENT_M209/V1_3_0/Controller/tv_provider");(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("tvSignOut",c,p,1),c,p,0,14,121,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_tvProvider_holder player_tve-sign-out button\"><span class=\"label\">");t.b(t.v(t.f("label",c,p,0)));t.b("</span></div>");});c.pop();}return t.fl();},partials:{},subs:{}});}).call(this,"Modules/ENT_M209/V1_3_0/Controller/tv_sign_out");(function(name){this.$Crabapple=this.$Crabapple||{};this.$Crabapple.TriforceTemplates=this.$Crabapple.TriforceTemplates||{};this.$Crabapple.TriforceTemplates[name]=this.$Crabapple.TriforceTemplates[name]||new Hogan.Template({code:function(c,p,i){var t=this;t.b(i=i||"");if(t.s(t.f("tvProvider",c,p,1),c,p,0,15,158,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"player_tvProvider_holder player_tvProvider tag\">");if(t.s(t.d(".title",c,p,1),c,p,0,86,104,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span>");t.b(t.v(t.d(".",c,p,0)));t.b("</span>");});c.pop();}t.b("<img src=\"");t.b(t.v(t.d(".logo",c,p,0)));t.b("\" alt=\"");t.b(t.v(t.d(".name",c,p,0)));t.b("\"></div>");});c.pop();}return t.fl();},partials:{},subs:{}});}).call(this,"Modules/ENT_M209/V1_3_0/Controller/tv_provider_tag");